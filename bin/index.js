"use strict";var cI=Object.create;var ep=Object.defineProperty;var uI=Object.getOwnPropertyDescriptor;var lI=Object.getOwnPropertyNames;var fI=Object.getPrototypeOf,dI=Object.prototype.hasOwnProperty;var On=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),pI=(e,t)=>{for(var o in t)ep(e,o,{get:t[o],enumerable:!0})},nT=(e,t,o,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of lI(t))!dI.call(e,i)&&i!==o&&ep(e,i,{get:()=>t[i],enumerable:!(n=uI(t,i))||n.enumerable});return e};var ot=(e,t,o)=>(o=e!=null?cI(fI(e)):{},nT(t||!e||!e.__esModule?ep(o,"default",{value:e,enumerable:!0}):o,e)),mI=e=>nT(ep({},"__esModule",{value:!0}),e);var rT=On(($5,oT)=>{"use strict";oT.exports=hI;function hI(e,t){for(var o=new Array(arguments.length-1),n=0,i=2,r=!0;i<arguments.length;)o[n++]=arguments[i++];return new Promise(function(s,c){o[n]=function(h){if(r)if(r=!1,h)c(h);else{for(var g=new Array(arguments.length-1),A=0;A<g.length;)g[A++]=arguments[A];s.apply(null,g)}};try{e.apply(t||null,o)}catch(d){r&&(r=!1,c(d))}})}});var cT=On(sT=>{"use strict";var tp=sT;tp.length=function(t){var o=t.length;if(!o)return 0;for(var n=0;--o%4>1&&t.charAt(o)==="=";)++n;return Math.ceil(t.length*3)/4-n};var qs=new Array(64),aT=new Array(123);for(Gr=0;Gr<64;)aT[qs[Gr]=Gr<26?Gr+65:Gr<52?Gr+71:Gr<62?Gr-4:Gr-59|43]=Gr++;var Gr;tp.encode=function(t,o,n){for(var i=null,r=[],a=0,s=0,c;o<n;){var d=t[o++];switch(s){case 0:r[a++]=qs[d>>2],c=(d&3)<<4,s=1;break;case 1:r[a++]=qs[c|d>>4],c=(d&15)<<2,s=2;break;case 2:r[a++]=qs[c|d>>6],r[a++]=qs[d&63],s=0;break}a>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,r)),a=0)}return s&&(r[a++]=qs[c],r[a++]=61,s===1&&(r[a++]=61)),i?(a&&i.push(String.fromCharCode.apply(String,r.slice(0,a))),i.join("")):String.fromCharCode.apply(String,r.slice(0,a))};var iT="invalid encoding";tp.decode=function(t,o,n){for(var i=n,r=0,a,s=0;s<t.length;){var c=t.charCodeAt(s++);if(c===61&&r>1)break;if((c=aT[c])===void 0)throw Error(iT);switch(r){case 0:a=c,r=1;break;case 1:o[n++]=a<<2|(c&48)>>4,a=c,r=2;break;case 2:o[n++]=(a&15)<<4|(c&60)>>2,a=c,r=3;break;case 3:o[n++]=(a&3)<<6|c,r=0;break}}if(r===1)throw Error(iT);return n-i};tp.test=function(t){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)}});var lT=On((q5,uT)=>{"use strict";uT.exports=np;function np(){this._listeners={}}np.prototype.on=function(t,o,n){return(this._listeners[t]||(this._listeners[t]=[])).push({fn:o,ctx:n||this}),this};np.prototype.off=function(t,o){if(t===void 0)this._listeners={};else if(o===void 0)this._listeners[t]=[];else for(var n=this._listeners[t],i=0;i<n.length;)n[i].fn===o?n.splice(i,1):++i;return this};np.prototype.emit=function(t){var o=this._listeners[t];if(o){for(var n=[],i=1;i<arguments.length;)n.push(arguments[i++]);for(i=0;i<o.length;)o[i].fn.apply(o[i++].ctx,n)}return this}});var ET=On((Y5,yT)=>{"use strict";yT.exports=fT(fT);function fT(e){return typeof Float32Array<"u"?function(){var t=new Float32Array([-0]),o=new Uint8Array(t.buffer),n=o[3]===128;function i(c,d,h){t[0]=c,d[h]=o[0],d[h+1]=o[1],d[h+2]=o[2],d[h+3]=o[3]}function r(c,d,h){t[0]=c,d[h]=o[3],d[h+1]=o[2],d[h+2]=o[1],d[h+3]=o[0]}e.writeFloatLE=n?i:r,e.writeFloatBE=n?r:i;function a(c,d){return o[0]=c[d],o[1]=c[d+1],o[2]=c[d+2],o[3]=c[d+3],t[0]}function s(c,d){return o[3]=c[d],o[2]=c[d+1],o[1]=c[d+2],o[0]=c[d+3],t[0]}e.readFloatLE=n?a:s,e.readFloatBE=n?s:a}():function(){function t(n,i,r,a){var s=i<0?1:0;if(s&&(i=-i),i===0)n(1/i>0?0:2147483648,r,a);else if(isNaN(i))n(2143289344,r,a);else if(i>34028234663852886e22)n((s<<31|2139095040)>>>0,r,a);else if(i<11754943508222875e-54)n((s<<31|Math.round(i/1401298464324817e-60))>>>0,r,a);else{var c=Math.floor(Math.log(i)/Math.LN2),d=Math.round(i*Math.pow(2,-c)*8388608)&8388607;n((s<<31|c+127<<23|d)>>>0,r,a)}}e.writeFloatLE=t.bind(null,dT),e.writeFloatBE=t.bind(null,pT);function o(n,i,r){var a=n(i,r),s=(a>>31)*2+1,c=a>>>23&255,d=a&8388607;return c===255?d?NaN:s*(1/0):c===0?s*1401298464324817e-60*d:s*Math.pow(2,c-150)*(d+8388608)}e.readFloatLE=o.bind(null,mT),e.readFloatBE=o.bind(null,hT)}(),typeof Float64Array<"u"?function(){var t=new Float64Array([-0]),o=new Uint8Array(t.buffer),n=o[7]===128;function i(c,d,h){t[0]=c,d[h]=o[0],d[h+1]=o[1],d[h+2]=o[2],d[h+3]=o[3],d[h+4]=o[4],d[h+5]=o[5],d[h+6]=o[6],d[h+7]=o[7]}function r(c,d,h){t[0]=c,d[h]=o[7],d[h+1]=o[6],d[h+2]=o[5],d[h+3]=o[4],d[h+4]=o[3],d[h+5]=o[2],d[h+6]=o[1],d[h+7]=o[0]}e.writeDoubleLE=n?i:r,e.writeDoubleBE=n?r:i;function a(c,d){return o[0]=c[d],o[1]=c[d+1],o[2]=c[d+2],o[3]=c[d+3],o[4]=c[d+4],o[5]=c[d+5],o[6]=c[d+6],o[7]=c[d+7],t[0]}function s(c,d){return o[7]=c[d],o[6]=c[d+1],o[5]=c[d+2],o[4]=c[d+3],o[3]=c[d+4],o[2]=c[d+5],o[1]=c[d+6],o[0]=c[d+7],t[0]}e.readDoubleLE=n?a:s,e.readDoubleBE=n?s:a}():function(){function t(n,i,r,a,s,c){var d=a<0?1:0;if(d&&(a=-a),a===0)n(0,s,c+i),n(1/a>0?0:2147483648,s,c+r);else if(isNaN(a))n(0,s,c+i),n(2146959360,s,c+r);else if(a>17976931348623157e292)n(0,s,c+i),n((d<<31|2146435072)>>>0,s,c+r);else{var h;if(a<22250738585072014e-324)h=a/5e-324,n(h>>>0,s,c+i),n((d<<31|h/4294967296)>>>0,s,c+r);else{var g=Math.floor(Math.log(a)/Math.LN2);g===1024&&(g=1023),h=a*Math.pow(2,-g),n(h*4503599627370496>>>0,s,c+i),n((d<<31|g+1023<<20|h*1048576&1048575)>>>0,s,c+r)}}}e.writeDoubleLE=t.bind(null,dT,0,4),e.writeDoubleBE=t.bind(null,pT,4,0);function o(n,i,r,a,s){var c=n(a,s+i),d=n(a,s+r),h=(d>>31)*2+1,g=d>>>20&2047,A=4294967296*(d&1048575)+c;return g===2047?A?NaN:h*(1/0):g===0?h*5e-324*A:h*Math.pow(2,g-1075)*(A+4503599627370496)}e.readDoubleLE=o.bind(null,mT,0,4),e.readDoubleBE=o.bind(null,hT,4,0)}(),e}function dT(e,t,o){t[o]=e&255,t[o+1]=e>>>8&255,t[o+2]=e>>>16&255,t[o+3]=e>>>24}function pT(e,t,o){t[o]=e>>>24,t[o+1]=e>>>16&255,t[o+2]=e>>>8&255,t[o+3]=e&255}function mT(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function hT(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}});var gT=On((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}});var op=On(TT=>{"use strict";var xy=TT;xy.length=function(t){for(var o=0,n=0,i=0;i<t.length;++i)n=t.charCodeAt(i),n<128?o+=1:n<2048?o+=2:(n&64512)===55296&&(t.charCodeAt(i+1)&64512)===56320?(++i,o+=4):o+=3;return o};xy.read=function(t,o,n){var i=n-o;if(i<1)return"";for(var r=null,a=[],s=0,c;o<n;)c=t[o++],c<128?a[s++]=c:c>191&&c<224?a[s++]=(c&31)<<6|t[o++]&63:c>239&&c<365?(c=((c&7)<<18|(t[o++]&63)<<12|(t[o++]&63)<<6|t[o++]&63)-65536,a[s++]=55296+(c>>10),a[s++]=56320+(c&1023)):a[s++]=(c&15)<<12|(t[o++]&63)<<6|t[o++]&63,s>8191&&((r||(r=[])).push(String.fromCharCode.apply(String,a)),s=0);return r?(s&&r.push(String.fromCharCode.apply(String,a.slice(0,s))),r.join("")):String.fromCharCode.apply(String,a.slice(0,s))};xy.write=function(t,o,n){for(var i=n,r,a,s=0;s<t.length;++s)r=t.charCodeAt(s),r<128?o[n++]=r:r<2048?(o[n++]=r>>6|192,o[n++]=r&63|128):(r&64512)===55296&&((a=t.charCodeAt(s+1))&64512)===56320?(r=65536+((r&1023)<<10)+(a&1023),++s,o[n++]=r>>18|240,o[n++]=r>>12&63|128,o[n++]=r>>6&63|128,o[n++]=r&63|128):(o[n++]=r>>12|224,o[n++]=r>>6&63|128,o[n++]=r&63|128);return n-i}});var ST=On((Q5,_T)=>{"use strict";_T.exports=yI;function yI(e,t,o){var n=o||8192,i=n>>>1,r=null,a=n;return function(c){if(c<1||c>i)return e(c);a+c>n&&(r=e(n),a=0);var d=t.call(r,a,a+=c);return a&7&&(a=(a|7)+1),d}}});var vT=On((K5,bT)=>{"use strict";bT.exports=po;var cl=ya();function po(e,t){this.lo=e>>>0,this.hi=t>>>0}var os=po.zero=new po(0,0);os.toNumber=function(){return 0};os.zzEncode=os.zzDecode=function(){return this};os.length=function(){return 1};var EI=po.zeroHash="\0\0\0\0\0\0\0\0";po.fromNumber=function(t){if(t===0)return os;var o=t<0;o&&(t=-t);var n=t>>>0,i=(t-n)/4294967296>>>0;return o&&(i=~i>>>0,n=~n>>>0,++n>4294967295&&(n=0,++i>4294967295&&(i=0))),new po(n,i)};po.from=function(t){if(typeof t=="number")return po.fromNumber(t);if(cl.isString(t))if(cl.Long)t=cl.Long.fromString(t);else return po.fromNumber(parseInt(t,10));return t.low||t.high?new po(t.low>>>0,t.high>>>0):os};po.prototype.toNumber=function(t){if(!t&&this.hi>>>31){var o=~this.lo+1>>>0,n=~this.hi>>>0;return o||(n=n+1>>>0),-(o+n*4294967296)}return this.lo+this.hi*4294967296};po.prototype.toLong=function(t){return cl.Long?new cl.Long(this.lo|0,this.hi|0,!!t):{low:this.lo|0,high:this.hi|0,unsigned:!!t}};var ha=String.prototype.charCodeAt;po.fromHash=function(t){return t===EI?os:new po((ha.call(t,0)|ha.call(t,1)<<8|ha.call(t,2)<<16|ha.call(t,3)<<24)>>>0,(ha.call(t,4)|ha.call(t,5)<<8|ha.call(t,6)<<16|ha.call(t,7)<<24)>>>0)};po.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};po.prototype.zzEncode=function(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this};po.prototype.zzDecode=function(){var t=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this};po.prototype.length=function(){var t=this.lo,o=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return n===0?o===0?t<16384?t<128?1:2:t<2097152?3:4:o<16384?o<128?5:6:o<2097152?7:8:n<128?9:10}});var ya=On(Iy=>{"use strict";var rt=Iy;rt.asPromise=rT();rt.base64=cT();rt.EventEmitter=lT();rt.float=ET();rt.inquire=gT();rt.utf8=op();rt.pool=ST();rt.LongBits=vT();rt.isNode=!!(typeof global<"u"&&global&&global.process&&global.process.versions&&global.process.versions.node);rt.global=rt.isNode&&global||!1||typeof self<"u"&&self||Iy;rt.emptyArray=Object.freeze?Object.freeze([]):[];rt.emptyObject=Object.freeze?Object.freeze({}):{};rt.isInteger=Number.isInteger||function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t};rt.isString=function(t){return typeof t=="string"||t instanceof String};rt.isObject=function(t){return t&&typeof t=="object"};rt.isset=rt.isSet=function(t,o){var n=t[o];return n!=null&&t.hasOwnProperty(o)?typeof n!="object"||(Array.isArray(n)?n.length:Object.keys(n).length)>0:!1};rt.Buffer=function(){try{var e=rt.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch{return null}}();rt._Buffer_from=null;rt._Buffer_allocUnsafe=null;rt.newBuffer=function(t){return typeof t=="number"?rt.Buffer?rt._Buffer_allocUnsafe(t):new rt.Array(t):rt.Buffer?rt._Buffer_from(t):typeof Uint8Array>"u"?t:new Uint8Array(t)};rt.Array=typeof Uint8Array<"u"?Uint8Array:Array;rt.Long=rt.global.dcodeIO&&rt.global.dcodeIO.Long||rt.global.Long||rt.inquire("long");rt.key2Re=/^true|false|0|1$/;rt.key32Re=/^-?(?:0|[1-9][0-9]*)$/;rt.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;rt.longToHash=function(t){return t?rt.LongBits.from(t).toHash():rt.LongBits.zeroHash};rt.longFromHash=function(t,o){var n=rt.LongBits.fromHash(t);return rt.Long?rt.Long.fromBits(n.lo,n.hi,o):n.toNumber(!!o)};function AT(e,t,o){for(var n=Object.keys(t),i=0;i<n.length;++i)(e[n[i]]===void 0||!o)&&(e[n[i]]=t[n[i]]);return e}rt.merge=AT;rt.lcFirst=function(t){return t.charAt(0).toLowerCase()+t.substring(1)};function wT(e){function t(o,n){if(!(this instanceof t))return new t(o,n);Object.defineProperty(this,"message",{get:function(){return o}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:new Error().stack||""}),n&&AT(this,n)}return t.prototype=Object.create(Error.prototype,{constructor:{value:t,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return e},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),t}rt.newError=wT;rt.ProtocolError=wT("ProtocolError");rt.oneOfGetter=function(t){for(var o={},n=0;n<t.length;++n)o[t[n]]=1;return function(){for(var i=Object.keys(this),r=i.length-1;r>-1;--r)if(o[i[r]]===1&&this[i[r]]!==void 0&&this[i[r]]!==null)return i[r]}};rt.oneOfSetter=function(t){return function(o){for(var n=0;n<t.length;++n)t[n]!==o&&delete this[t[n]]}};rt.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};rt._configure=function(){var e=rt.Buffer;if(!e){rt._Buffer_from=rt._Buffer_allocUnsafe=null;return}rt._Buffer_from=e.from!==Uint8Array.from&&e.from||function(o,n){return new e(o,n)},rt._Buffer_allocUnsafe=e.allocUnsafe||function(o){return new e(o)}}});var Py=On((Z5,NT)=>{"use strict";NT.exports=jt;var Ar=ya(),Ry,rp=Ar.LongBits,xT=Ar.base64,IT=Ar.utf8;function ul(e,t,o){this.fn=e,this.len=t,this.next=void 0,this.val=o}function Oy(){}function gI(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function jt(){this.len=0,this.head=new ul(Oy,0,0),this.tail=this.head,this.states=null}var RT=function(){return Ar.Buffer?function(){return(jt.create=function(){return new Ry})()}:function(){return new jt}};jt.create=RT();jt.alloc=function(t){return new Ar.Array(t)};Ar.Array!==Array&&(jt.alloc=Ar.pool(jt.alloc,Ar.Array.prototype.subarray));jt.prototype._push=function(t,o,n){return this.tail=this.tail.next=new ul(t,o,n),this.len+=o,this};function ky(e,t,o){t[o]=e&255}function TI(e,t,o){for(;e>127;)t[o++]=e&127|128,e>>>=7;t[o]=e}function Cy(e,t){this.len=e,this.next=void 0,this.val=t}Cy.prototype=Object.create(ul.prototype);Cy.prototype.fn=TI;jt.prototype.uint32=function(t){return this.len+=(this.tail=this.tail.next=new Cy((t=t>>>0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this};jt.prototype.int32=function(t){return t<0?this._push(My,10,rp.fromNumber(t)):this.uint32(t)};jt.prototype.sint32=function(t){return this.uint32((t<<1^t>>31)>>>0)};function My(e,t,o){for(;e.hi;)t[o++]=e.lo&127|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[o++]=e.lo&127|128,e.lo=e.lo>>>7;t[o++]=e.lo}jt.prototype.uint64=function(t){var o=rp.from(t);return this._push(My,o.length(),o)};jt.prototype.int64=jt.prototype.uint64;jt.prototype.sint64=function(t){var o=rp.from(t).zzEncode();return this._push(My,o.length(),o)};jt.prototype.bool=function(t){return this._push(ky,1,t?1:0)};function Ny(e,t,o){t[o]=e&255,t[o+1]=e>>>8&255,t[o+2]=e>>>16&255,t[o+3]=e>>>24}jt.prototype.fixed32=function(t){return this._push(Ny,4,t>>>0)};jt.prototype.sfixed32=jt.prototype.fixed32;jt.prototype.fixed64=function(t){var o=rp.from(t);return this._push(Ny,4,o.lo)._push(Ny,4,o.hi)};jt.prototype.sfixed64=jt.prototype.fixed64;jt.prototype.float=function(t){return this._push(Ar.float.writeFloatLE,4,t)};jt.prototype.double=function(t){return this._push(Ar.float.writeDoubleLE,8,t)};var _I=Ar.Array.prototype.set?function(t,o,n){o.set(t,n)}:function(t,o,n){for(var i=0;i<t.length;++i)o[n+i]=t[i]};jt.prototype.bytes=function(t){var o=t.length>>>0;if(!o)return this._push(ky,1,0);if(Ar.isString(t)){var n=jt.alloc(o=xT.length(t));xT.decode(t,n,0),t=n}return this.uint32(o)._push(_I,o,t)};jt.prototype.string=function(t){var o=IT.length(t);return o?this.uint32(o)._push(IT.write,o,t):this._push(ky,1,0)};jt.prototype.fork=function(){return this.states=new gI(this),this.head=this.tail=new ul(Oy,0,0),this.len=0,this};jt.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new ul(Oy,0,0),this.len=0),this};jt.prototype.ldelim=function(){var t=this.head,o=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=t.next,this.tail=o,this.len+=n),this};jt.prototype.finish=function(){for(var t=this.head.next,o=this.constructor.alloc(this.len),n=0;t;)t.fn(t.val,o,n),n+=t.len,t=t.next;return o};jt._configure=function(e){Ry=e,jt.create=RT(),Ry._configure()}});var CT=On((e8,kT)=>{"use strict";kT.exports=gi;var OT=Py();(gi.prototype=Object.create(OT.prototype)).constructor=gi;var Ea=ya();function gi(){OT.call(this)}gi._configure=function(){gi.alloc=Ea._Buffer_allocUnsafe,gi.writeBytesBuffer=Ea.Buffer&&Ea.Buffer.prototype instanceof Uint8Array&&Ea.Buffer.prototype.set.name==="set"?function(t,o,n){o.set(t,n)}:function(t,o,n){if(t.copy)t.copy(o,n,0,t.length);else for(var i=0;i<t.length;)o[n++]=t[i++]}};gi.prototype.bytes=function(t){Ea.isString(t)&&(t=Ea._Buffer_from(t,"base64"));var o=t.length>>>0;return this.uint32(o),o&&this._push(gi.writeBytesBuffer,o,t),this};function SI(e,t,o){e.length<40?Ea.utf8.write(e,t,o):t.utf8Write?t.utf8Write(e,o):t.write(e,o)}gi.prototype.string=function(t){var o=Ea.Buffer.byteLength(t);return this.uint32(o),o&&this._push(SI,o,t),this};gi._configure()});var By=On((t8,BT)=>{"use strict";BT.exports=$n;var qr=ya(),Uy,zT=qr.LongBits,bI=qr.utf8;function Yr(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function $n(e){this.buf=e,this.pos=0,this.len=e.length}var MT=typeof Uint8Array<"u"?function(t){if(t instanceof Uint8Array||Array.isArray(t))return new $n(t);throw Error("illegal buffer")}:function(t){if(Array.isArray(t))return new $n(t);throw Error("illegal buffer")},UT=function(){return qr.Buffer?function(o){return($n.create=function(i){return qr.Buffer.isBuffer(i)?new Uy(i):MT(i)})(o)}:MT};$n.create=UT();$n.prototype._slice=qr.Array.prototype.subarray||qr.Array.prototype.slice;$n.prototype.uint32=function(){var t=4294967295;return function(){if(t=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(t=(t|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(t=(t|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(t=(t|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(t=(t|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return t;if((this.pos+=5)>this.len)throw this.pos=this.len,Yr(this,10);return t}}();$n.prototype.int32=function(){return this.uint32()|0};$n.prototype.sint32=function(){var t=this.uint32();return t>>>1^-(t&1)|0};function zy(){var e=new zT(0,0),t=0;if(this.len-this.pos>4){for(;t<4;++t)if(e.lo=(e.lo|(this.buf[this.pos]&127)<<t*7)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(this.buf[this.pos]&127)<<28)>>>0,e.hi=(e.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return e;t=0}else{for(;t<3;++t){if(this.pos>=this.len)throw Yr(this);if(e.lo=(e.lo|(this.buf[this.pos]&127)<<t*7)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(this.buf[this.pos++]&127)<<t*7)>>>0,e}if(this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(this.buf[this.pos]&127)<<t*7+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw Yr(this);if(e.hi=(e.hi|(this.buf[this.pos]&127)<<t*7+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}$n.prototype.bool=function(){return this.uint32()!==0};function ip(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}$n.prototype.fixed32=function(){if(this.pos+4>this.len)throw Yr(this,4);return ip(this.buf,this.pos+=4)};$n.prototype.sfixed32=function(){if(this.pos+4>this.len)throw Yr(this,4);return ip(this.buf,this.pos+=4)|0};function PT(){if(this.pos+8>this.len)throw Yr(this,8);return new zT(ip(this.buf,this.pos+=4),ip(this.buf,this.pos+=4))}$n.prototype.float=function(){if(this.pos+4>this.len)throw Yr(this,4);var t=qr.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t};$n.prototype.double=function(){if(this.pos+8>this.len)throw Yr(this,4);var t=qr.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t};$n.prototype.bytes=function(){var t=this.uint32(),o=this.pos,n=this.pos+t;if(n>this.len)throw Yr(this,t);if(this.pos+=t,Array.isArray(this.buf))return this.buf.slice(o,n);if(o===n){var i=qr.Buffer;return i?i.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,o,n)};$n.prototype.string=function(){var t=this.bytes();return bI.read(t,0,t.length)};$n.prototype.skip=function(t){if(typeof t=="number"){if(this.pos+t>this.len)throw Yr(this,t);this.pos+=t}else do if(this.pos>=this.len)throw Yr(this);while(this.buf[this.pos++]&128);return this};$n.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(e=this.uint32()&7)!==4;)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this};$n._configure=function(e){Uy=e,$n.create=UT(),Uy._configure();var t=qr.Long?"toLong":"toNumber";qr.merge($n.prototype,{int64:function(){return zy.call(this)[t](!1)},uint64:function(){return zy.call(this)[t](!0)},sint64:function(){return zy.call(this).zzDecode()[t](!1)},fixed64:function(){return PT.call(this)[t](!0)},sfixed64:function(){return PT.call(this)[t](!1)}})}});var jT=On((n8,FT)=>{"use strict";FT.exports=rs;var DT=By();(rs.prototype=Object.create(DT.prototype)).constructor=rs;var LT=ya();function rs(e){DT.call(this,e)}rs._configure=function(){LT.Buffer&&(rs.prototype._slice=LT.Buffer.prototype.slice)};rs.prototype.string=function(){var t=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+t,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+t,this.len))};rs._configure()});var VT=On((o8,WT)=>{"use strict";WT.exports=ll;var Ly=ya();(ll.prototype=Object.create(Ly.EventEmitter.prototype)).constructor=ll;function ll(e,t,o){if(typeof e!="function")throw TypeError("rpcImpl must be a function");Ly.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=!!t,this.responseDelimited=!!o}ll.prototype.rpcCall=function e(t,o,n,i,r){if(!i)throw TypeError("request must be specified");var a=this;if(!r)return Ly.asPromise(e,a,t,o,n,i);if(!a.rpcImpl){setTimeout(function(){r(Error("already ended"))},0);return}try{return a.rpcImpl(t,o[a.requestDelimited?"encodeDelimited":"encode"](i).finish(),function(c,d){if(c)return a.emit("error",c,t),r(c);if(d===null){a.end(!0);return}if(!(d instanceof n))try{d=n[a.responseDelimited?"decodeDelimited":"decode"](d)}catch(h){return a.emit("error",h,t),r(h)}return a.emit("data",d,t),r(null,d)})}catch(s){a.emit("error",s,t),setTimeout(function(){r(s)},0);return}};ll.prototype.end=function(t){return this.rpcImpl&&(t||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var $T=On(HT=>{"use strict";var vI=HT;vI.Service=VT()});var qT=On((i8,GT)=>{"use strict";GT.exports={}});var QT=On(JT=>{"use strict";var Qo=JT;Qo.build="minimal";Qo.Writer=Py();Qo.BufferWriter=CT();Qo.Reader=By();Qo.BufferReader=jT();Qo.util=ya();Qo.rpc=$T();Qo.roots=qT();Qo.configure=YT;function YT(){Qo.util._configure(),Qo.Writer._configure(Qo.BufferWriter),Qo.Reader._configure(Qo.BufferReader)}YT()});var ut=On((s8,KT)=>{"use strict";KT.exports=QT()});var $A=On(Pt=>{"use strict";var Zf=Symbol.for("react.element"),qP=Symbol.for("react.portal"),YP=Symbol.for("react.fragment"),JP=Symbol.for("react.strict_mode"),QP=Symbol.for("react.profiler"),KP=Symbol.for("react.provider"),XP=Symbol.for("react.context"),ZP=Symbol.for("react.forward_ref"),e6=Symbol.for("react.suspense"),t6=Symbol.for("react.memo"),n6=Symbol.for("react.lazy"),PA=Symbol.iterator;function o6(e){return e===null||typeof e!="object"?null:(e=PA&&e[PA]||e["@@iterator"],typeof e=="function"?e:null)}var BA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},LA=Object.assign,DA={};function Uu(e,t,o){this.props=e,this.context=t,this.refs=DA,this.updater=o||BA}Uu.prototype.isReactComponent={};Uu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Uu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function FA(){}FA.prototype=Uu.prototype;function D2(e,t,o){this.props=e,this.context=t,this.refs=DA,this.updater=o||BA}var F2=D2.prototype=new FA;F2.constructor=D2;LA(F2,Uu.prototype);F2.isPureReactComponent=!0;var zA=Array.isArray,jA=Object.prototype.hasOwnProperty,j2={current:null},WA={key:!0,ref:!0,__self:!0,__source:!0};function VA(e,t,o){var n,i={},r=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(r=""+t.key),t)jA.call(t,n)&&!WA.hasOwnProperty(n)&&(i[n]=t[n]);var s=arguments.length-2;if(s===1)i.children=o;else if(1<s){for(var c=Array(s),d=0;d<s;d++)c[d]=arguments[d+2];i.children=c}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:Zf,type:e,key:r,ref:a,props:i,_owner:j2.current}}function r6(e,t){return{$$typeof:Zf,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function W2(e){return typeof e=="object"&&e!==null&&e.$$typeof===Zf}function i6(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(o){return t[o]})}var UA=/\/+/g;function L2(e,t){return typeof e=="object"&&e!==null&&e.key!=null?i6(""+e.key):t.toString(36)}function Yh(e,t,o,n,i){var r=typeof e;(r==="undefined"||r==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(r){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Zf:case qP:a=!0}}if(a)return a=e,i=i(a),e=n===""?"."+L2(a,0):n,zA(i)?(o="",e!=null&&(o=e.replace(UA,"$&/")+"/"),Yh(i,t,o,"",function(d){return d})):i!=null&&(W2(i)&&(i=r6(i,o+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(UA,"$&/")+"/")+e)),t.push(i)),1;if(a=0,n=n===""?".":n+":",zA(e))for(var s=0;s<e.length;s++){r=e[s];var c=n+L2(r,s);a+=Yh(r,t,o,c,i)}else if(c=o6(e),typeof c=="function")for(e=c.call(e),s=0;!(r=e.next()).done;)r=r.value,c=n+L2(r,s++),a+=Yh(r,t,o,c,i);else if(r==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function qh(e,t,o){if(e==null)return e;var n=[],i=0;return Yh(e,n,"","",function(r){return t.call(o,r,i++)}),n}function a6(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(o){(e._status===0||e._status===-1)&&(e._status=1,e._result=o)},function(o){(e._status===0||e._status===-1)&&(e._status=2,e._result=o)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var $o={current:null},Jh={transition:null},s6={ReactCurrentDispatcher:$o,ReactCurrentBatchConfig:Jh,ReactCurrentOwner:j2};function HA(){throw Error("act(...) is not supported in production builds of React.")}Pt.Children={map:qh,forEach:function(e,t,o){qh(e,function(){t.apply(this,arguments)},o)},count:function(e){var t=0;return qh(e,function(){t++}),t},toArray:function(e){return qh(e,function(t){return t})||[]},only:function(e){if(!W2(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Pt.Component=Uu;Pt.Fragment=YP;Pt.Profiler=QP;Pt.PureComponent=D2;Pt.StrictMode=JP;Pt.Suspense=e6;Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=s6;Pt.act=HA;Pt.cloneElement=function(e,t,o){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=LA({},e.props),i=e.key,r=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(r=t.ref,a=j2.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)jA.call(t,c)&&!WA.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&s!==void 0?s[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=o;else if(1<c){s=Array(c);for(var d=0;d<c;d++)s[d]=arguments[d+2];n.children=s}return{$$typeof:Zf,type:e.type,key:i,ref:r,props:n,_owner:a}};Pt.createContext=function(e){return e={$$typeof:XP,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:KP,_context:e},e.Consumer=e};Pt.createElement=VA;Pt.createFactory=function(e){var t=VA.bind(null,e);return t.type=e,t};Pt.createRef=function(){return{current:null}};Pt.forwardRef=function(e){return{$$typeof:ZP,render:e}};Pt.isValidElement=W2;Pt.lazy=function(e){return{$$typeof:n6,_payload:{_status:-1,_result:e},_init:a6}};Pt.memo=function(e,t){return{$$typeof:t6,type:e,compare:t===void 0?null:t}};Pt.startTransition=function(e){var t=Jh.transition;Jh.transition={};try{e()}finally{Jh.transition=t}};Pt.unstable_act=HA;Pt.useCallback=function(e,t){return $o.current.useCallback(e,t)};Pt.useContext=function(e){return $o.current.useContext(e)};Pt.useDebugValue=function(){};Pt.useDeferredValue=function(e){return $o.current.useDeferredValue(e)};Pt.useEffect=function(e,t){return $o.current.useEffect(e,t)};Pt.useId=function(){return $o.current.useId()};Pt.useImperativeHandle=function(e,t,o){return $o.current.useImperativeHandle(e,t,o)};Pt.useInsertionEffect=function(e,t){return $o.current.useInsertionEffect(e,t)};Pt.useLayoutEffect=function(e,t){return $o.current.useLayoutEffect(e,t)};Pt.useMemo=function(e,t){return $o.current.useMemo(e,t)};Pt.useReducer=function(e,t,o){return $o.current.useReducer(e,t,o)};Pt.useRef=function(e){return $o.current.useRef(e)};Pt.useState=function(e){return $o.current.useState(e)};Pt.useSyncExternalStore=function(e,t,o){return $o.current.useSyncExternalStore(e,t,o)};Pt.useTransition=function(){return $o.current.useTransition()};Pt.version="18.3.1"});var V2=On((eG,GA)=>{"use strict";GA.exports=$A()});var nw=On(En=>{"use strict";function q2(e,t){var o=e.length;e.push(t);e:for(;0<o;){var n=o-1>>>1,i=e[n];if(0<Kh(i,t))e[n]=t,e[o]=i,o=n;else break e}}function ai(e){return e.length===0?null:e[0]}function Zh(e){if(e.length===0)return null;var t=e[0],o=e.pop();if(o!==t){e[0]=o;e:for(var n=0,i=e.length,r=i>>>1;n<r;){var a=2*(n+1)-1,s=e[a],c=a+1,d=e[c];if(0>Kh(s,o))c<i&&0>Kh(d,s)?(e[n]=d,e[c]=o,n=c):(e[n]=s,e[a]=o,n=a);else if(c<i&&0>Kh(d,o))e[n]=d,e[c]=o,n=c;else break e}}return t}function Kh(e,t){var o=e.sortIndex-t.sortIndex;return o!==0?o:e.id-t.id}typeof performance=="object"&&typeof performance.now=="function"?(qA=performance,En.unstable_now=function(){return qA.now()}):(H2=Date,YA=H2.now(),En.unstable_now=function(){return H2.now()-YA});var qA,H2,YA,Ni=[],Wa=[],c6=1,Dr=null,Do=3,e0=!1,Cs=!1,td=!1,KA=typeof setTimeout=="function"?setTimeout:null,XA=typeof clearTimeout=="function"?clearTimeout:null,JA=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Y2(e){for(var t=ai(Wa);t!==null;){if(t.callback===null)Zh(Wa);else if(t.startTime<=e)Zh(Wa),t.sortIndex=t.expirationTime,q2(Ni,t);else break;t=ai(Wa)}}function J2(e){if(td=!1,Y2(e),!Cs)if(ai(Ni)!==null)Cs=!0,K2(Q2);else{var t=ai(Wa);t!==null&&X2(J2,t.startTime-e)}}function Q2(e,t){Cs=!1,td&&(td=!1,XA(nd),nd=-1),e0=!0;var o=Do;try{for(Y2(t),Dr=ai(Ni);Dr!==null&&(!(Dr.expirationTime>t)||e&&!tw());){var n=Dr.callback;if(typeof n=="function"){Dr.callback=null,Do=Dr.priorityLevel;var i=n(Dr.expirationTime<=t);t=En.unstable_now(),typeof i=="function"?Dr.callback=i:Dr===ai(Ni)&&Zh(Ni),Y2(t)}else Zh(Ni);Dr=ai(Ni)}if(Dr!==null)var r=!0;else{var a=ai(Wa);a!==null&&X2(J2,a.startTime-t),r=!1}return r}finally{Dr=null,Do=o,e0=!1}}var t0=!1,Xh=null,nd=-1,ZA=5,ew=-1;function tw(){return!(En.unstable_now()-ew<ZA)}function $2(){if(Xh!==null){var e=En.unstable_now();ew=e;var t=!0;try{t=Xh(!0,e)}finally{t?ed():(t0=!1,Xh=null)}}else t0=!1}var ed;typeof JA=="function"?ed=function(){JA($2)}:typeof MessageChannel<"u"?(G2=new MessageChannel,QA=G2.port2,G2.port1.onmessage=$2,ed=function(){QA.postMessage(null)}):ed=function(){KA($2,0)};var G2,QA;function K2(e){Xh=e,t0||(t0=!0,ed())}function X2(e,t){nd=KA(function(){e(En.unstable_now())},t)}En.unstable_IdlePriority=5;En.unstable_ImmediatePriority=1;En.unstable_LowPriority=4;En.unstable_NormalPriority=3;En.unstable_Profiling=null;En.unstable_UserBlockingPriority=2;En.unstable_cancelCallback=function(e){e.callback=null};En.unstable_continueExecution=function(){Cs||e0||(Cs=!0,K2(Q2))};En.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ZA=0<e?Math.floor(1e3/e):5};En.unstable_getCurrentPriorityLevel=function(){return Do};En.unstable_getFirstCallbackNode=function(){return ai(Ni)};En.unstable_next=function(e){switch(Do){case 1:case 2:case 3:var t=3;break;default:t=Do}var o=Do;Do=t;try{return e()}finally{Do=o}};En.unstable_pauseExecution=function(){};En.unstable_requestPaint=function(){};En.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var o=Do;Do=e;try{return t()}finally{Do=o}};En.unstable_scheduleCallback=function(e,t,o){var n=En.unstable_now();switch(typeof o=="object"&&o!==null?(o=o.delay,o=typeof o=="number"&&0<o?n+o:n):o=n,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return i=o+i,e={id:c6++,callback:t,priorityLevel:e,startTime:o,expirationTime:i,sortIndex:-1},o>n?(e.sortIndex=o,q2(Wa,e),ai(Ni)===null&&e===ai(Wa)&&(td?(XA(nd),nd=-1):td=!0,X2(J2,o-n))):(e.sortIndex=i,q2(Ni,e),Cs||e0||(Cs=!0,K2(Q2))),e};En.unstable_shouldYield=tw;En.unstable_wrapCallback=function(e){var t=Do;return function(){var o=Do;Do=t;try{return e.apply(this,arguments)}finally{Do=o}}}});var rw=On((oG,ow)=>{"use strict";ow.exports=nw()});var aw=On((rG,iw)=>{"use strict";iw.exports=function(t){var o={},n=V2(),i=rw(),r=Object.assign;function a(u){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+u,f=1;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+u+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,c=Symbol.for("react.element"),d=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),S=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),Y=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var ie=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var ve=Symbol.iterator;function ae(u){return u===null||typeof u!="object"?null:(u=ve&&u[ve]||u["@@iterator"],typeof u=="function"?u:null)}function J(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case h:return"Fragment";case d:return"Portal";case A:return"Profiler";case g:return"StrictMode";case x:return"Suspense";case k:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case S:return(u.displayName||"Context")+".Consumer";case v:return(u._context.displayName||"Context")+".Provider";case _:var l=u.render;return u=u.displayName,u||(u=l.displayName||l.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case j:return l=u.displayName||null,l!==null?l:J(u.type)||"Memo";case Y:l=u._payload,u=u._init;try{return J(u(l))}catch{}}return null}function ne(u){var l=u.type;switch(u.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=l.render,u=u.displayName||u.name||"",l.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return J(l);case 8:return l===g?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function X(u){var l=u,f=u;if(u.alternate)for(;l.return;)l=l.return;else{u=l;do l=u,l.flags&4098&&(f=l.return),u=l.return;while(u)}return l.tag===3?f:null}function Z(u){if(X(u)!==u)throw Error(a(188))}function q(u){var l=u.alternate;if(!l){if(l=X(u),l===null)throw Error(a(188));return l!==u?null:u}for(var f=u,p=l;;){var y=f.return;if(y===null)break;var b=y.alternate;if(b===null){if(p=y.return,p!==null){f=p;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===f)return Z(y),u;if(b===p)return Z(y),l;b=b.sibling}throw Error(a(188))}if(f.return!==p.return)f=y,p=b;else{for(var L=!1,re=y.child;re;){if(re===f){L=!0,f=y,p=b;break}if(re===p){L=!0,p=y,f=b;break}re=re.sibling}if(!L){for(re=b.child;re;){if(re===f){L=!0,f=b,p=y;break}if(re===p){L=!0,p=b,f=y;break}re=re.sibling}if(!L)throw Error(a(189))}}if(f.alternate!==p)throw Error(a(190))}if(f.tag!==3)throw Error(a(188));return f.stateNode.current===f?u:l}function B(u){return u=q(u),u!==null?ce(u):null}function ce(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var l=ce(u);if(l!==null)return l;u=u.sibling}return null}function R(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){if(u.tag!==4){var l=R(u);if(l!==null)return l}u=u.sibling}return null}var C=Array.isArray,$=t.getPublicInstance,Se=t.getRootHostContext,ye=t.getChildHostContext,we=t.prepareForCommit,Re=t.resetAfterCommit,Xe=t.createInstance,it=t.appendInitialChild,mt=t.finalizeInitialChildren,ct=t.prepareUpdate,yt=t.shouldSetTextContent,w=t.createTextInstance,O=t.scheduleTimeout,P=t.cancelTimeout,I=t.noTimeout,z=t.isPrimaryRenderer,oe=t.supportsMutation,fe=t.supportsPersistence,Oe=t.supportsHydration,Ye=t.getInstanceFromNode,dt=t.preparePortalMount,pt=t.getCurrentEventPriority,Rt=t.detachDeletedInstance,at=t.supportsMicrotasks,zt=t.scheduleMicrotask,Nt=t.supportsTestSelectors,Kt=t.findFiberRoot,lt=t.getBoundingRect,Ze=t.getTextContent,tn=t.isHiddenSubtree,fn=t.matchAccessibilityRole,Dn=t.setFocusIfFocusable,An=t.setupIntersectionObserver,gn=t.appendChild,wn=t.appendChildToContainer,Jn=t.commitTextUpdate,Fn=t.commitMount,_o=t.commitUpdate,Tn=t.insertBefore,So=t.insertInContainerBefore,bo=t.removeChild,Ft=t.removeChildFromContainer,Qn=t.resetTextContent,Zn=t.hideInstance,eo=t.hideTextInstance,V=t.unhideInstance,K=t.unhideTextInstance,ue=t.clearContainer,Le=t.cloneInstance,ze=t.createContainerChildSet,je=t.appendChildToContainerChildSet,nt=t.finalizeContainerChildren,bt=t.replaceContainerChildren,G=t.cloneHiddenInstance,ee=t.cloneHiddenTextInstance,de=t.canHydrateInstance,xe=t.canHydrateTextInstance,_e=t.canHydrateSuspenseInstance,E=t.isSuspenseInstancePending,m=t.isSuspenseInstanceFallback,T=t.getSuspenseInstanceFallbackErrorDetails,M=t.registerSuspenseInstanceRetry,te=t.getNextHydratableSibling,Ie=t.getFirstHydratableChild,Fe=t.getFirstHydratableChildWithinContainer,N=t.getFirstHydratableChildWithinSuspenseInstance,D=t.hydrateInstance,W=t.hydrateTextInstance,F=t.hydrateSuspenseInstance,Q=t.getNextHydratableInstanceAfterSuspenseInstance,se=t.commitHydratedContainer,pe=t.commitHydratedSuspenseInstance,be=t.clearSuspenseBoundary,Ae=t.clearSuspenseBoundaryFromContainer,ge=t.shouldDeleteUnhydratedTailInstances,qe=t.didNotMatchHydratedContainerTextInstance,Et=t.didNotMatchHydratedTextInstance,We;function Je(u){if(We===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);We=l&&l[1]||""}return`
`+We+u}var et=!1;function an(u,l){if(!u||et)return"";et=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(Ue){var p=Ue}Reflect.construct(u,[],l)}else{try{l.call()}catch(Ue){p=Ue}u.call(l.prototype)}else{try{throw Error()}catch(Ue){p=Ue}u()}}catch(Ue){if(Ue&&p&&typeof Ue.stack=="string"){for(var y=Ue.stack.split(`
`),b=p.stack.split(`
`),L=y.length-1,re=b.length-1;1<=L&&0<=re&&y[L]!==b[re];)re--;for(;1<=L&&0<=re;L--,re--)if(y[L]!==b[re]){if(L!==1||re!==1)do if(L--,re--,0>re||y[L]!==b[re]){var he=`
`+y[L].replace(" at new "," at ");return u.displayName&&he.includes("<anonymous>")&&(he=he.replace("<anonymous>",u.displayName)),he}while(1<=L&&0<=re);break}}}finally{et=!1,Error.prepareStackTrace=f}return(u=u?u.displayName||u.name:"")?Je(u):""}var Ut=Object.prototype.hasOwnProperty,Ve=[],At=-1;function dn(u){return{current:u}}function gt(u){0>At||(u.current=Ve[At],Ve[At]=null,At--)}function Tt(u,l){At++,Ve[At]=u.current,u.current=l}var sn={},Ct=dn(sn),mn=dn(!1),vo=sn;function xo(u,l){var f=u.type.contextTypes;if(!f)return sn;var p=u.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===l)return p.__reactInternalMemoizedMaskedChildContext;var y={},b;for(b in f)y[b]=l[b];return p&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=l,u.__reactInternalMemoizedMaskedChildContext=y),y}function xn(u){return u=u.childContextTypes,u!=null}function pr(){gt(mn),gt(Ct)}function ci(u,l,f){if(Ct.current!==sn)throw Error(a(168));Tt(Ct,l),Tt(mn,f)}function In(u,l,f){var p=u.stateNode;if(l=l.childContextTypes,typeof p.getChildContext!="function")return f;p=p.getChildContext();for(var y in p)if(!(y in l))throw Error(a(108,ne(u)||"Unknown",y));return r({},f,p)}function mr(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||sn,vo=Ct.current,Tt(Ct,u),Tt(mn,mn.current),!0}function ui(u,l,f){var p=u.stateNode;if(!p)throw Error(a(169));f?(u=In(u,l,vo),p.__reactInternalMemoizedMergedChildContext=u,gt(mn),gt(Ct),Tt(Ct,u)):gt(mn),Tt(mn,f)}var to=Math.clz32?Math.clz32:Bi,zi=Math.log,Ui=Math.LN2;function Bi(u){return u>>>=0,u===0?32:31-(zi(u)/Ui|0)|0}var hr=64,$a=4194304;function aa(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function Ga(u,l){var f=u.pendingLanes;if(f===0)return 0;var p=0,y=u.suspendedLanes,b=u.pingedLanes,L=f&268435455;if(L!==0){var re=L&~y;re!==0?p=aa(re):(b&=L,b!==0&&(p=aa(b)))}else L=f&~y,L!==0?p=aa(L):b!==0&&(p=aa(b));if(p===0)return 0;if(l!==0&&l!==p&&!(l&y)&&(y=p&-p,b=l&-l,y>=b||y===16&&(b&4194240)!==0))return l;if(p&4&&(p|=f&16),l=u.entangledLanes,l!==0)for(u=u.entanglements,l&=p;0<l;)f=31-to(l),y=1<<f,p|=u[f],l&=~y;return p}function ud(u,l){switch(u){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ld(u,l){for(var f=u.suspendedLanes,p=u.pingedLanes,y=u.expirationTimes,b=u.pendingLanes;0<b;){var L=31-to(b),re=1<<L,he=y[L];he===-1?(!(re&f)||re&p)&&(y[L]=ud(re,l)):he<=l&&(u.expiredLanes|=re),b&=~re}}function Wu(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function fd(){var u=hr;return hr<<=1,!(hr&4194240)&&(hr=64),u}function Vu(u){for(var l=[],f=0;31>f;f++)l.push(u);return l}function qa(u,l,f){u.pendingLanes|=l,l!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,l=31-to(l),u[l]=f}function T0(u,l){var f=u.pendingLanes&~l;u.pendingLanes=l,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=l,u.mutableReadLanes&=l,u.entangledLanes&=l,l=u.entanglements;var p=u.eventTimes;for(u=u.expirationTimes;0<f;){var y=31-to(f),b=1<<y;l[y]=0,p[y]=-1,u[y]=-1,f&=~b}}function Hu(u,l){var f=u.entangledLanes|=l;for(u=u.entanglements;f;){var p=31-to(f),y=1<<p;y&l|u[p]&l&&(u[p]|=l),f&=~y}}var Bt=0;function dd(u){return u&=-u,1<u?4<u?u&268435455?16:536870912:4:1}var $u=i.unstable_scheduleCallback,pd=i.unstable_cancelCallback,_0=i.unstable_shouldYield,S0=i.unstable_requestPaint,co=i.unstable_now,b0=i.unstable_ImmediatePriority,wx=i.unstable_UserBlockingPriority,v0=i.unstable_NormalPriority,xx=i.unstable_IdlePriority,md=null,li=null;function Ix(u){if(li&&typeof li.onCommitFiberRoot=="function")try{li.onCommitFiberRoot(md,u,void 0,(u.current.flags&128)===128)}catch{}}function Rx(u,l){return u===l&&(u!==0||1/u===1/l)||u!==u&&l!==l}var jr=typeof Object.is=="function"?Object.is:Rx,Li=null,hd=!1,A0=!1;function IE(u){Li===null?Li=[u]:Li.push(u)}function Nx(u){hd=!0,IE(u)}function fi(){if(!A0&&Li!==null){A0=!0;var u=0,l=Bt;try{var f=Li;for(Bt=1;u<f.length;u++){var p=f[u];do p=p(!0);while(p!==null)}Li=null,hd=!1}catch(y){throw Li!==null&&(Li=Li.slice(u+1)),$u(b0,fi),y}finally{Bt=l,A0=!1}}return null}var zs=[],Us=0,yd=null,Ed=0,yr=[],Er=0,Ya=null,Di=1,Fi="";function Ja(u,l){zs[Us++]=Ed,zs[Us++]=yd,yd=u,Ed=l}function RE(u,l,f){yr[Er++]=Di,yr[Er++]=Fi,yr[Er++]=Ya,Ya=u;var p=Di;u=Fi;var y=32-to(p)-1;p&=~(1<<y),f+=1;var b=32-to(l)+y;if(30<b){var L=y-y%5;b=(p&(1<<L)-1).toString(32),p>>=L,y-=L,Di=1<<32-to(l)+y|f<<y|p,Fi=b+u}else Di=1<<b|f<<y|p,Fi=u}function w0(u){u.return!==null&&(Ja(u,1),RE(u,1,0))}function x0(u){for(;u===yd;)yd=zs[--Us],zs[Us]=null,Ed=zs[--Us],zs[Us]=null;for(;u===Ya;)Ya=yr[--Er],yr[Er]=null,Fi=yr[--Er],yr[Er]=null,Di=yr[--Er],yr[Er]=null}var rr=null,gr=null,Rn=!1,Gu=!1,Wr=null;function NE(u,l){var f=vr(5,null,null,0);f.elementType="DELETED",f.stateNode=l,f.return=u,l=u.deletions,l===null?(u.deletions=[f],u.flags|=16):l.push(f)}function OE(u,l){switch(u.tag){case 5:return l=de(l,u.type,u.pendingProps),l!==null?(u.stateNode=l,rr=u,gr=Ie(l),!0):!1;case 6:return l=xe(l,u.pendingProps),l!==null?(u.stateNode=l,rr=u,gr=null,!0):!1;case 13:if(l=_e(l),l!==null){var f=Ya!==null?{id:Di,overflow:Fi}:null;return u.memoizedState={dehydrated:l,treeContext:f,retryLane:1073741824},f=vr(18,null,null,0),f.stateNode=l,f.return=u,u.child=f,rr=u,gr=null,!0}return!1;default:return!1}}function I0(u){return(u.mode&1)!==0&&(u.flags&128)===0}function R0(u){if(Rn){var l=gr;if(l){var f=l;if(!OE(u,l)){if(I0(u))throw Error(a(418));l=te(f);var p=rr;l&&OE(u,l)?NE(p,f):(u.flags=u.flags&-4097|2,Rn=!1,rr=u)}}else{if(I0(u))throw Error(a(418));u.flags=u.flags&-4097|2,Rn=!1,rr=u}}}function kE(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;rr=u}function gd(u){if(!Oe||u!==rr)return!1;if(!Rn)return kE(u),Rn=!0,!1;if(u.tag!==3&&(u.tag!==5||ge(u.type)&&!yt(u.type,u.memoizedProps))){var l=gr;if(l){if(I0(u))throw CE(),Error(a(418));for(;l;)NE(u,l),l=te(l)}}if(kE(u),u.tag===13){if(!Oe)throw Error(a(316));if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(a(317));gr=Q(u)}else gr=rr?te(u.stateNode):null;return!0}function CE(){for(var u=gr;u;)u=te(u)}function Bs(){Oe&&(gr=rr=null,Gu=Rn=!1)}function N0(u){Wr===null?Wr=[u]:Wr.push(u)}var Ox=s.ReactCurrentBatchConfig;function Td(u,l){if(jr(u,l))return!0;if(typeof u!="object"||u===null||typeof l!="object"||l===null)return!1;var f=Object.keys(u),p=Object.keys(l);if(f.length!==p.length)return!1;for(p=0;p<f.length;p++){var y=f[p];if(!Ut.call(l,y)||!jr(u[y],l[y]))return!1}return!0}function kx(u){switch(u.tag){case 5:return Je(u.type);case 16:return Je("Lazy");case 13:return Je("Suspense");case 19:return Je("SuspenseList");case 0:case 2:case 15:return u=an(u.type,!1),u;case 11:return u=an(u.type.render,!1),u;case 1:return u=an(u.type,!0),u;default:return""}}function qu(u,l,f){if(u=f.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(a(309));var p=f.stateNode}if(!p)throw Error(a(147,u));var y=p,b=""+u;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===b?l.ref:(l=function(L){var re=y.refs;L===null?delete re[b]:re[b]=L},l._stringRef=b,l)}if(typeof u!="string")throw Error(a(284));if(!f._owner)throw Error(a(290,u))}return u}function _d(u,l){throw u=Object.prototype.toString.call(l),Error(a(31,u==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":u))}function ME(u){var l=u._init;return l(u._payload)}function PE(u){function l(me,le){if(u){var Te=me.deletions;Te===null?(me.deletions=[le],me.flags|=16):Te.push(le)}}function f(me,le){if(!u)return null;for(;le!==null;)l(me,le),le=le.sibling;return null}function p(me,le){for(me=new Map;le!==null;)le.key!==null?me.set(le.key,le):me.set(le.index,le),le=le.sibling;return me}function y(me,le){return me=pa(me,le),me.index=0,me.sibling=null,me}function b(me,le,Te){return me.index=Te,u?(Te=me.alternate,Te!==null?(Te=Te.index,Te<le?(me.flags|=2,le):Te):(me.flags|=2,le)):(me.flags|=1048576,le)}function L(me){return u&&me.alternate===null&&(me.flags|=2),me}function re(me,le,Te,$e){return le===null||le.tag!==6?(le=Ay(Te,me.mode,$e),le.return=me,le):(le=y(le,Te),le.return=me,le)}function he(me,le,Te,$e){var ft=Te.type;return ft===h?Ke(me,le,Te.props.children,$e,Te.key):le!==null&&(le.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===Y&&ME(ft)===le.type)?($e=y(le,Te.props),$e.ref=qu(me,le,Te),$e.return=me,$e):($e=Kd(Te.type,Te.key,Te.props,null,me.mode,$e),$e.ref=qu(me,le,Te),$e.return=me,$e)}function Ue(me,le,Te,$e){return le===null||le.tag!==4||le.stateNode.containerInfo!==Te.containerInfo||le.stateNode.implementation!==Te.implementation?(le=wy(Te,me.mode,$e),le.return=me,le):(le=y(le,Te.children||[]),le.return=me,le)}function Ke(me,le,Te,$e,ft){return le===null||le.tag!==7?(le=ns(Te,me.mode,$e,ft),le.return=me,le):(le=y(le,Te),le.return=me,le)}function _t(me,le,Te){if(typeof le=="string"&&le!==""||typeof le=="number")return le=Ay(""+le,me.mode,Te),le.return=me,le;if(typeof le=="object"&&le!==null){switch(le.$$typeof){case c:return Te=Kd(le.type,le.key,le.props,null,me.mode,Te),Te.ref=qu(me,null,le),Te.return=me,Te;case d:return le=wy(le,me.mode,Te),le.return=me,le;case Y:var $e=le._init;return _t(me,$e(le._payload),Te)}if(C(le)||ae(le))return le=ns(le,me.mode,Te,null),le.return=me,le;_d(me,le)}return null}function He(me,le,Te,$e){var ft=le!==null?le.key:null;if(typeof Te=="string"&&Te!==""||typeof Te=="number")return ft!==null?null:re(me,le,""+Te,$e);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case c:return Te.key===ft?he(me,le,Te,$e):null;case d:return Te.key===ft?Ue(me,le,Te,$e):null;case Y:return ft=Te._init,He(me,le,ft(Te._payload),$e)}if(C(Te)||ae(Te))return ft!==null?null:Ke(me,le,Te,$e,null);_d(me,Te)}return null}function _n(me,le,Te,$e,ft){if(typeof $e=="string"&&$e!==""||typeof $e=="number")return me=me.get(Te)||null,re(le,me,""+$e,ft);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case c:return me=me.get($e.key===null?Te:$e.key)||null,he(le,me,$e,ft);case d:return me=me.get($e.key===null?Te:$e.key)||null,Ue(le,me,$e,ft);case Y:var wt=$e._init;return _n(me,le,Te,wt($e._payload),ft)}if(C($e)||ae($e))return me=me.get(Te)||null,Ke(le,me,$e,ft,null);_d(le,$e)}return null}function pn(me,le,Te,$e){for(var ft=null,wt=null,St=le,Gt=le=0,fo=null;St!==null&&Gt<Te.length;Gt++){St.index>Gt?(fo=St,St=null):fo=St.sibling;var qt=He(me,St,Te[Gt],$e);if(qt===null){St===null&&(St=fo);break}u&&St&&qt.alternate===null&&l(me,St),le=b(qt,le,Gt),wt===null?ft=qt:wt.sibling=qt,wt=qt,St=fo}if(Gt===Te.length)return f(me,St),Rn&&Ja(me,Gt),ft;if(St===null){for(;Gt<Te.length;Gt++)St=_t(me,Te[Gt],$e),St!==null&&(le=b(St,le,Gt),wt===null?ft=St:wt.sibling=St,wt=St);return Rn&&Ja(me,Gt),ft}for(St=p(me,St);Gt<Te.length;Gt++)fo=_n(St,me,Gt,Te[Gt],$e),fo!==null&&(u&&fo.alternate!==null&&St.delete(fo.key===null?Gt:fo.key),le=b(fo,le,Gt),wt===null?ft=fo:wt.sibling=fo,wt=fo);return u&&St.forEach(function(ma){return l(me,ma)}),Rn&&Ja(me,Gt),ft}function Jo(me,le,Te,$e){var ft=ae(Te);if(typeof ft!="function")throw Error(a(150));if(Te=ft.call(Te),Te==null)throw Error(a(151));for(var wt=ft=null,St=le,Gt=le=0,fo=null,qt=Te.next();St!==null&&!qt.done;Gt++,qt=Te.next()){St.index>Gt?(fo=St,St=null):fo=St.sibling;var ma=He(me,St,qt.value,$e);if(ma===null){St===null&&(St=fo);break}u&&St&&ma.alternate===null&&l(me,St),le=b(ma,le,Gt),wt===null?ft=ma:wt.sibling=ma,wt=ma,St=fo}if(qt.done)return f(me,St),Rn&&Ja(me,Gt),ft;if(St===null){for(;!qt.done;Gt++,qt=Te.next())qt=_t(me,qt.value,$e),qt!==null&&(le=b(qt,le,Gt),wt===null?ft=qt:wt.sibling=qt,wt=qt);return Rn&&Ja(me,Gt),ft}for(St=p(me,St);!qt.done;Gt++,qt=Te.next())qt=_n(St,me,Gt,qt.value,$e),qt!==null&&(u&&qt.alternate!==null&&St.delete(qt.key===null?Gt:qt.key),le=b(qt,le,Gt),wt===null?ft=qt:wt.sibling=qt,wt=qt);return u&&St.forEach(function(sI){return l(me,sI)}),Rn&&Ja(me,Gt),ft}function Hi(me,le,Te,$e){if(typeof Te=="object"&&Te!==null&&Te.type===h&&Te.key===null&&(Te=Te.props.children),typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case c:e:{for(var ft=Te.key,wt=le;wt!==null;){if(wt.key===ft){if(ft=Te.type,ft===h){if(wt.tag===7){f(me,wt.sibling),le=y(wt,Te.props.children),le.return=me,me=le;break e}}else if(wt.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===Y&&ME(ft)===wt.type){f(me,wt.sibling),le=y(wt,Te.props),le.ref=qu(me,wt,Te),le.return=me,me=le;break e}f(me,wt);break}else l(me,wt);wt=wt.sibling}Te.type===h?(le=ns(Te.props.children,me.mode,$e,Te.key),le.return=me,me=le):($e=Kd(Te.type,Te.key,Te.props,null,me.mode,$e),$e.ref=qu(me,le,Te),$e.return=me,me=$e)}return L(me);case d:e:{for(wt=Te.key;le!==null;){if(le.key===wt)if(le.tag===4&&le.stateNode.containerInfo===Te.containerInfo&&le.stateNode.implementation===Te.implementation){f(me,le.sibling),le=y(le,Te.children||[]),le.return=me,me=le;break e}else{f(me,le);break}else l(me,le);le=le.sibling}le=wy(Te,me.mode,$e),le.return=me,me=le}return L(me);case Y:return wt=Te._init,Hi(me,le,wt(Te._payload),$e)}if(C(Te))return pn(me,le,Te,$e);if(ae(Te))return Jo(me,le,Te,$e);_d(me,Te)}return typeof Te=="string"&&Te!==""||typeof Te=="number"?(Te=""+Te,le!==null&&le.tag===6?(f(me,le.sibling),le=y(le,Te),le.return=me,me=le):(f(me,le),le=Ay(Te,me.mode,$e),le.return=me,me=le),L(me)):f(me,le)}return Hi}var Ls=PE(!0),zE=PE(!1),Sd=dn(null),bd=null,Ds=null,O0=null;function k0(){O0=Ds=bd=null}function UE(u,l,f){z?(Tt(Sd,l._currentValue),l._currentValue=f):(Tt(Sd,l._currentValue2),l._currentValue2=f)}function C0(u){var l=Sd.current;gt(Sd),z?u._currentValue=l:u._currentValue2=l}function M0(u,l,f){for(;u!==null;){var p=u.alternate;if((u.childLanes&l)!==l?(u.childLanes|=l,p!==null&&(p.childLanes|=l)):p!==null&&(p.childLanes&l)!==l&&(p.childLanes|=l),u===f)break;u=u.return}}function Fs(u,l){bd=u,O0=Ds=null,u=u.dependencies,u!==null&&u.firstContext!==null&&(u.lanes&l&&(Go=!0),u.firstContext=null)}function Tr(u){var l=z?u._currentValue:u._currentValue2;if(O0!==u)if(u={context:u,memoizedValue:l,next:null},Ds===null){if(bd===null)throw Error(a(308));Ds=u,bd.dependencies={lanes:0,firstContext:u}}else Ds=Ds.next=u;return l}var Qa=null;function P0(u){Qa===null?Qa=[u]:Qa.push(u)}function BE(u,l,f,p){var y=l.interleaved;return y===null?(f.next=f,P0(l)):(f.next=y.next,y.next=f),l.interleaved=f,di(u,p)}function di(u,l){u.lanes|=l;var f=u.alternate;for(f!==null&&(f.lanes|=l),f=u,u=u.return;u!==null;)u.childLanes|=l,f=u.alternate,f!==null&&(f.childLanes|=l),f=u,u=u.return;return f.tag===3?f.stateNode:null}var sa=!1;function z0(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function LE(u,l){u=u.updateQueue,l.updateQueue===u&&(l.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function ji(u,l){return{eventTime:u,lane:l,tag:0,payload:null,callback:null,next:null}}function ca(u,l,f){var p=u.updateQueue;if(p===null)return null;if(p=p.shared,Ot&2){var y=p.pending;return y===null?l.next=l:(l.next=y.next,y.next=l),p.pending=l,di(u,f)}return y=p.interleaved,y===null?(l.next=l,P0(p)):(l.next=y.next,y.next=l),p.interleaved=l,di(u,f)}function vd(u,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194240)!==0)){var p=l.lanes;p&=u.pendingLanes,f|=p,l.lanes=f,Hu(u,f)}}function DE(u,l){var f=u.updateQueue,p=u.alternate;if(p!==null&&(p=p.updateQueue,f===p)){var y=null,b=null;if(f=f.firstBaseUpdate,f!==null){do{var L={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};b===null?y=b=L:b=b.next=L,f=f.next}while(f!==null);b===null?y=b=l:b=b.next=l}else y=b=l;f={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:p.shared,effects:p.effects},u.updateQueue=f;return}u=f.lastBaseUpdate,u===null?f.firstBaseUpdate=l:u.next=l,f.lastBaseUpdate=l}function Ad(u,l,f,p){var y=u.updateQueue;sa=!1;var b=y.firstBaseUpdate,L=y.lastBaseUpdate,re=y.shared.pending;if(re!==null){y.shared.pending=null;var he=re,Ue=he.next;he.next=null,L===null?b=Ue:L.next=Ue,L=he;var Ke=u.alternate;Ke!==null&&(Ke=Ke.updateQueue,re=Ke.lastBaseUpdate,re!==L&&(re===null?Ke.firstBaseUpdate=Ue:re.next=Ue,Ke.lastBaseUpdate=he))}if(b!==null){var _t=y.baseState;L=0,Ke=Ue=he=null,re=b;do{var He=re.lane,_n=re.eventTime;if((p&He)===He){Ke!==null&&(Ke=Ke.next={eventTime:_n,lane:0,tag:re.tag,payload:re.payload,callback:re.callback,next:null});e:{var pn=u,Jo=re;switch(He=l,_n=f,Jo.tag){case 1:if(pn=Jo.payload,typeof pn=="function"){_t=pn.call(_n,_t,He);break e}_t=pn;break e;case 3:pn.flags=pn.flags&-65537|128;case 0:if(pn=Jo.payload,He=typeof pn=="function"?pn.call(_n,_t,He):pn,He==null)break e;_t=r({},_t,He);break e;case 2:sa=!0}}re.callback!==null&&re.lane!==0&&(u.flags|=64,He=y.effects,He===null?y.effects=[re]:He.push(re))}else _n={eventTime:_n,lane:He,tag:re.tag,payload:re.payload,callback:re.callback,next:null},Ke===null?(Ue=Ke=_n,he=_t):Ke=Ke.next=_n,L|=He;if(re=re.next,re===null){if(re=y.shared.pending,re===null)break;He=re,re=He.next,He.next=null,y.lastBaseUpdate=He,y.shared.pending=null}}while(1);if(Ke===null&&(he=_t),y.baseState=he,y.firstBaseUpdate=Ue,y.lastBaseUpdate=Ke,l=y.shared.interleaved,l!==null){y=l;do L|=y.lane,y=y.next;while(y!==l)}else b===null&&(y.shared.lanes=0);Xa|=L,u.lanes=L,u.memoizedState=_t}}function FE(u,l,f){if(u=l.effects,l.effects=null,u!==null)for(l=0;l<u.length;l++){var p=u[l],y=p.callback;if(y!==null){if(p.callback=null,p=f,typeof y!="function")throw Error(a(191,y));y.call(p)}}}var Yu={},_r=dn(Yu),Ju=dn(Yu),js=dn(Yu);function pi(u){if(u===Yu)throw Error(a(174));return u}function U0(u,l){Tt(js,l),Tt(Ju,u),Tt(_r,Yu),u=Se(l),gt(_r),Tt(_r,u)}function Ws(){gt(_r),gt(Ju),gt(js)}function jE(u){var l=pi(js.current),f=pi(_r.current);l=ye(f,u.type,l),f!==l&&(Tt(Ju,u),Tt(_r,l))}function B0(u){Ju.current===u&&(gt(_r),gt(Ju))}var Mn=dn(0);function wd(u){for(var l=u;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||E(f)||m(f)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if(l.flags&128)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break;for(;l.sibling===null;){if(l.return===null||l.return===u)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var L0=[];function D0(){for(var u=0;u<L0.length;u++){var l=L0[u];z?l._workInProgressVersionPrimary=null:l._workInProgressVersionSecondary=null}L0.length=0}var xd=s.ReactCurrentDispatcher,F0=s.ReactCurrentBatchConfig,Ka=0,Pn=null,no=null,uo=null,Id=!1,Qu=!1,Ku=0,Cx=0;function Io(){throw Error(a(321))}function j0(u,l){if(l===null)return!1;for(var f=0;f<l.length&&f<u.length;f++)if(!jr(u[f],l[f]))return!1;return!0}function W0(u,l,f,p,y,b){if(Ka=b,Pn=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,xd.current=u===null||u.memoizedState===null?Ux:Bx,u=f(p,y),Qu){b=0;do{if(Qu=!1,Ku=0,25<=b)throw Error(a(301));b+=1,uo=no=null,l.updateQueue=null,xd.current=Lx,u=f(p,y)}while(Qu)}if(xd.current=Od,l=no!==null&&no.next!==null,Ka=0,uo=no=Pn=null,Id=!1,l)throw Error(a(300));return u}function V0(){var u=Ku!==0;return Ku=0,u}function mi(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return uo===null?Pn.memoizedState=uo=u:uo=uo.next=u,uo}function Sr(){if(no===null){var u=Pn.alternate;u=u!==null?u.memoizedState:null}else u=no.next;var l=uo===null?Pn.memoizedState:uo.next;if(l!==null)uo=l,no=u;else{if(u===null)throw Error(a(310));no=u,u={memoizedState:no.memoizedState,baseState:no.baseState,baseQueue:no.baseQueue,queue:no.queue,next:null},uo===null?Pn.memoizedState=uo=u:uo=uo.next=u}return uo}function Xu(u,l){return typeof l=="function"?l(u):l}function H0(u){var l=Sr(),f=l.queue;if(f===null)throw Error(a(311));f.lastRenderedReducer=u;var p=no,y=p.baseQueue,b=f.pending;if(b!==null){if(y!==null){var L=y.next;y.next=b.next,b.next=L}p.baseQueue=y=b,f.pending=null}if(y!==null){b=y.next,p=p.baseState;var re=L=null,he=null,Ue=b;do{var Ke=Ue.lane;if((Ka&Ke)===Ke)he!==null&&(he=he.next={lane:0,action:Ue.action,hasEagerState:Ue.hasEagerState,eagerState:Ue.eagerState,next:null}),p=Ue.hasEagerState?Ue.eagerState:u(p,Ue.action);else{var _t={lane:Ke,action:Ue.action,hasEagerState:Ue.hasEagerState,eagerState:Ue.eagerState,next:null};he===null?(re=he=_t,L=p):he=he.next=_t,Pn.lanes|=Ke,Xa|=Ke}Ue=Ue.next}while(Ue!==null&&Ue!==b);he===null?L=p:he.next=re,jr(p,l.memoizedState)||(Go=!0),l.memoizedState=p,l.baseState=L,l.baseQueue=he,f.lastRenderedState=p}if(u=f.interleaved,u!==null){y=u;do b=y.lane,Pn.lanes|=b,Xa|=b,y=y.next;while(y!==u)}else y===null&&(f.lanes=0);return[l.memoizedState,f.dispatch]}function $0(u){var l=Sr(),f=l.queue;if(f===null)throw Error(a(311));f.lastRenderedReducer=u;var p=f.dispatch,y=f.pending,b=l.memoizedState;if(y!==null){f.pending=null;var L=y=y.next;do b=u(b,L.action),L=L.next;while(L!==y);jr(b,l.memoizedState)||(Go=!0),l.memoizedState=b,l.baseQueue===null&&(l.baseState=b),f.lastRenderedState=b}return[b,p]}function WE(){}function VE(u,l){var f=Pn,p=Sr(),y=l(),b=!jr(p.memoizedState,y);if(b&&(p.memoizedState=y,Go=!0),p=p.queue,G0(GE.bind(null,f,p,u),[u]),p.getSnapshot!==l||b||uo!==null&&uo.memoizedState.tag&1){if(f.flags|=2048,Zu(9,$E.bind(null,f,p,y,l),void 0,null),lo===null)throw Error(a(349));Ka&30||HE(f,l,y)}return y}function HE(u,l,f){u.flags|=16384,u={getSnapshot:l,value:f},l=Pn.updateQueue,l===null?(l={lastEffect:null,stores:null},Pn.updateQueue=l,l.stores=[u]):(f=l.stores,f===null?l.stores=[u]:f.push(u))}function $E(u,l,f,p){l.value=f,l.getSnapshot=p,qE(l)&&YE(u)}function GE(u,l,f){return f(function(){qE(l)&&YE(u)})}function qE(u){var l=u.getSnapshot;u=u.value;try{var f=l();return!jr(u,f)}catch{return!0}}function YE(u){var l=di(u,1);l!==null&&br(l,u,1,-1)}function JE(u){var l=mi();return typeof u=="function"&&(u=u()),l.memoizedState=l.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xu,lastRenderedState:u},l.queue=u,u=u.dispatch=zx.bind(null,Pn,u),[l.memoizedState,u]}function Zu(u,l,f,p){return u={tag:u,create:l,destroy:f,deps:p,next:null},l=Pn.updateQueue,l===null?(l={lastEffect:null,stores:null},Pn.updateQueue=l,l.lastEffect=u.next=u):(f=l.lastEffect,f===null?l.lastEffect=u.next=u:(p=f.next,f.next=u,u.next=p,l.lastEffect=u)),u}function QE(){return Sr().memoizedState}function Rd(u,l,f,p){var y=mi();Pn.flags|=u,y.memoizedState=Zu(1|l,f,void 0,p===void 0?null:p)}function Nd(u,l,f,p){var y=Sr();p=p===void 0?null:p;var b=void 0;if(no!==null){var L=no.memoizedState;if(b=L.destroy,p!==null&&j0(p,L.deps)){y.memoizedState=Zu(l,f,b,p);return}}Pn.flags|=u,y.memoizedState=Zu(1|l,f,b,p)}function KE(u,l){return Rd(8390656,8,u,l)}function G0(u,l){return Nd(2048,8,u,l)}function XE(u,l){return Nd(4,2,u,l)}function ZE(u,l){return Nd(4,4,u,l)}function eg(u,l){if(typeof l=="function")return u=u(),l(u),function(){l(null)};if(l!=null)return u=u(),l.current=u,function(){l.current=null}}function tg(u,l,f){return f=f!=null?f.concat([u]):null,Nd(4,4,eg.bind(null,l,u),f)}function q0(){}function ng(u,l){var f=Sr();l=l===void 0?null:l;var p=f.memoizedState;return p!==null&&l!==null&&j0(l,p[1])?p[0]:(f.memoizedState=[u,l],u)}function og(u,l){var f=Sr();l=l===void 0?null:l;var p=f.memoizedState;return p!==null&&l!==null&&j0(l,p[1])?p[0]:(u=u(),f.memoizedState=[u,l],u)}function rg(u,l,f){return Ka&21?(jr(f,l)||(f=fd(),Pn.lanes|=f,Xa|=f,u.baseState=!0),l):(u.baseState&&(u.baseState=!1,Go=!0),u.memoizedState=f)}function Mx(u,l){var f=Bt;Bt=f!==0&&4>f?f:4,u(!0);var p=F0.transition;F0.transition={};try{u(!1),l()}finally{Bt=f,F0.transition=p}}function ig(){return Sr().memoizedState}function Px(u,l,f){var p=fa(u);if(f={lane:p,action:f,hasEagerState:!1,eagerState:null,next:null},ag(u))sg(l,f);else if(f=BE(u,l,f,p),f!==null){var y=Oo();br(f,u,p,y),cg(f,l,p)}}function zx(u,l,f){var p=fa(u),y={lane:p,action:f,hasEagerState:!1,eagerState:null,next:null};if(ag(u))sg(l,y);else{var b=u.alternate;if(u.lanes===0&&(b===null||b.lanes===0)&&(b=l.lastRenderedReducer,b!==null))try{var L=l.lastRenderedState,re=b(L,f);if(y.hasEagerState=!0,y.eagerState=re,jr(re,L)){var he=l.interleaved;he===null?(y.next=y,P0(l)):(y.next=he.next,he.next=y),l.interleaved=y;return}}catch{}finally{}f=BE(u,l,y,p),f!==null&&(y=Oo(),br(f,u,p,y),cg(f,l,p))}}function ag(u){var l=u.alternate;return u===Pn||l!==null&&l===Pn}function sg(u,l){Qu=Id=!0;var f=u.pending;f===null?l.next=l:(l.next=f.next,f.next=l),u.pending=l}function cg(u,l,f){if(f&4194240){var p=l.lanes;p&=u.pendingLanes,f|=p,l.lanes=f,Hu(u,f)}}var Od={readContext:Tr,useCallback:Io,useContext:Io,useEffect:Io,useImperativeHandle:Io,useInsertionEffect:Io,useLayoutEffect:Io,useMemo:Io,useReducer:Io,useRef:Io,useState:Io,useDebugValue:Io,useDeferredValue:Io,useTransition:Io,useMutableSource:Io,useSyncExternalStore:Io,useId:Io,unstable_isNewReconciler:!1},Ux={readContext:Tr,useCallback:function(u,l){return mi().memoizedState=[u,l===void 0?null:l],u},useContext:Tr,useEffect:KE,useImperativeHandle:function(u,l,f){return f=f!=null?f.concat([u]):null,Rd(4194308,4,eg.bind(null,l,u),f)},useLayoutEffect:function(u,l){return Rd(4194308,4,u,l)},useInsertionEffect:function(u,l){return Rd(4,2,u,l)},useMemo:function(u,l){var f=mi();return l=l===void 0?null:l,u=u(),f.memoizedState=[u,l],u},useReducer:function(u,l,f){var p=mi();return l=f!==void 0?f(l):l,p.memoizedState=p.baseState=l,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:l},p.queue=u,u=u.dispatch=Px.bind(null,Pn,u),[p.memoizedState,u]},useRef:function(u){var l=mi();return u={current:u},l.memoizedState=u},useState:JE,useDebugValue:q0,useDeferredValue:function(u){return mi().memoizedState=u},useTransition:function(){var u=JE(!1),l=u[0];return u=Mx.bind(null,u[1]),mi().memoizedState=u,[l,u]},useMutableSource:function(){},useSyncExternalStore:function(u,l,f){var p=Pn,y=mi();if(Rn){if(f===void 0)throw Error(a(407));f=f()}else{if(f=l(),lo===null)throw Error(a(349));Ka&30||HE(p,l,f)}y.memoizedState=f;var b={value:f,getSnapshot:l};return y.queue=b,KE(GE.bind(null,p,b,u),[u]),p.flags|=2048,Zu(9,$E.bind(null,p,b,f,l),void 0,null),f},useId:function(){var u=mi(),l=lo.identifierPrefix;if(Rn){var f=Fi,p=Di;f=(p&~(1<<32-to(p)-1)).toString(32)+f,l=":"+l+"R"+f,f=Ku++,0<f&&(l+="H"+f.toString(32)),l+=":"}else f=Cx++,l=":"+l+"r"+f.toString(32)+":";return u.memoizedState=l},unstable_isNewReconciler:!1},Bx={readContext:Tr,useCallback:ng,useContext:Tr,useEffect:G0,useImperativeHandle:tg,useInsertionEffect:XE,useLayoutEffect:ZE,useMemo:og,useReducer:H0,useRef:QE,useState:function(){return H0(Xu)},useDebugValue:q0,useDeferredValue:function(u){var l=Sr();return rg(l,no.memoizedState,u)},useTransition:function(){var u=H0(Xu)[0],l=Sr().memoizedState;return[u,l]},useMutableSource:WE,useSyncExternalStore:VE,useId:ig,unstable_isNewReconciler:!1},Lx={readContext:Tr,useCallback:ng,useContext:Tr,useEffect:G0,useImperativeHandle:tg,useInsertionEffect:XE,useLayoutEffect:ZE,useMemo:og,useReducer:$0,useRef:QE,useState:function(){return $0(Xu)},useDebugValue:q0,useDeferredValue:function(u){var l=Sr();return no===null?l.memoizedState=u:rg(l,no.memoizedState,u)},useTransition:function(){var u=$0(Xu)[0],l=Sr().memoizedState;return[u,l]},useMutableSource:WE,useSyncExternalStore:VE,useId:ig,unstable_isNewReconciler:!1};function Vr(u,l){if(u&&u.defaultProps){l=r({},l),u=u.defaultProps;for(var f in u)l[f]===void 0&&(l[f]=u[f]);return l}return l}function Y0(u,l,f,p){l=u.memoizedState,f=f(p,l),f=f==null?l:r({},l,f),u.memoizedState=f,u.lanes===0&&(u.updateQueue.baseState=f)}var kd={isMounted:function(u){return(u=u._reactInternals)?X(u)===u:!1},enqueueSetState:function(u,l,f){u=u._reactInternals;var p=Oo(),y=fa(u),b=ji(p,y);b.payload=l,f!=null&&(b.callback=f),l=ca(u,b,y),l!==null&&(br(l,u,y,p),vd(l,u,y))},enqueueReplaceState:function(u,l,f){u=u._reactInternals;var p=Oo(),y=fa(u),b=ji(p,y);b.tag=1,b.payload=l,f!=null&&(b.callback=f),l=ca(u,b,y),l!==null&&(br(l,u,y,p),vd(l,u,y))},enqueueForceUpdate:function(u,l){u=u._reactInternals;var f=Oo(),p=fa(u),y=ji(f,p);y.tag=2,l!=null&&(y.callback=l),l=ca(u,y,p),l!==null&&(br(l,u,p,f),vd(l,u,p))}};function ug(u,l,f,p,y,b,L){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(p,b,L):l.prototype&&l.prototype.isPureReactComponent?!Td(f,p)||!Td(y,b):!0}function lg(u,l,f){var p=!1,y=sn,b=l.contextType;return typeof b=="object"&&b!==null?b=Tr(b):(y=xn(l)?vo:Ct.current,p=l.contextTypes,b=(p=p!=null)?xo(u,y):sn),l=new l(f,b),u.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=kd,u.stateNode=l,l._reactInternals=u,p&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=y,u.__reactInternalMemoizedMaskedChildContext=b),l}function fg(u,l,f,p){u=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,p),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,p),l.state!==u&&kd.enqueueReplaceState(l,l.state,null)}function J0(u,l,f,p){var y=u.stateNode;y.props=f,y.state=u.memoizedState,y.refs={},z0(u);var b=l.contextType;typeof b=="object"&&b!==null?y.context=Tr(b):(b=xn(l)?vo:Ct.current,y.context=xo(u,b)),y.state=u.memoizedState,b=l.getDerivedStateFromProps,typeof b=="function"&&(Y0(u,l,b,f),y.state=u.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(l=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),l!==y.state&&kd.enqueueReplaceState(y,y.state,null),Ad(u,f,y,p),y.state=u.memoizedState),typeof y.componentDidMount=="function"&&(u.flags|=4194308)}function Vs(u,l){try{var f="",p=l;do f+=kx(p),p=p.return;while(p);var y=f}catch(b){y=`
Error generating stack: `+b.message+`
`+b.stack}return{value:u,source:l,stack:y,digest:null}}function Q0(u,l,f){return{value:u,source:null,stack:f??null,digest:l??null}}function K0(u,l){try{console.error(l.value)}catch(f){setTimeout(function(){throw f})}}var Dx=typeof WeakMap=="function"?WeakMap:Map;function dg(u,l,f){f=ji(-1,f),f.tag=3,f.payload={element:null};var p=l.value;return f.callback=function(){$d||($d=!0,Ey=p),K0(u,l)},f}function pg(u,l,f){f=ji(-1,f),f.tag=3;var p=u.type.getDerivedStateFromError;if(typeof p=="function"){var y=l.value;f.payload=function(){return p(y)},f.callback=function(){K0(u,l)}}var b=u.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(f.callback=function(){K0(u,l),typeof p!="function"&&(ua===null?ua=new Set([this]):ua.add(this));var L=l.stack;this.componentDidCatch(l.value,{componentStack:L!==null?L:""})}),f}function mg(u,l,f){var p=u.pingCache;if(p===null){p=u.pingCache=new Dx;var y=new Set;p.set(l,y)}else y=p.get(l),y===void 0&&(y=new Set,p.set(l,y));y.has(f)||(y.add(f),u=Zx.bind(null,u,l,f),l.then(u,u))}function hg(u){do{var l;if((l=u.tag===13)&&(l=u.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return u;u=u.return}while(u!==null);return null}function yg(u,l,f,p,y){return u.mode&1?(u.flags|=65536,u.lanes=y,u):(u===l?u.flags|=65536:(u.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(l=ji(-1,1),l.tag=2,ca(f,l,1))),f.lanes|=1),u)}var Fx=s.ReactCurrentOwner,Go=!1;function jo(u,l,f,p){l.child=u===null?zE(l,null,f,p):Ls(l,u.child,f,p)}function Eg(u,l,f,p,y){f=f.render;var b=l.ref;return Fs(l,y),p=W0(u,l,f,p,b,y),f=V0(),u!==null&&!Go?(l.updateQueue=u.updateQueue,l.flags&=-2053,u.lanes&=~y,Wi(u,l,y)):(Rn&&f&&w0(l),l.flags|=1,jo(u,l,p,y),l.child)}function gg(u,l,f,p,y){if(u===null){var b=f.type;return typeof b=="function"&&!vy(b)&&b.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(l.tag=15,l.type=b,Tg(u,l,b,p,y)):(u=Kd(f.type,null,p,l,l.mode,y),u.ref=l.ref,u.return=l,l.child=u)}if(b=u.child,!(u.lanes&y)){var L=b.memoizedProps;if(f=f.compare,f=f!==null?f:Td,f(L,p)&&u.ref===l.ref)return Wi(u,l,y)}return l.flags|=1,u=pa(b,p),u.ref=l.ref,u.return=l,l.child=u}function Tg(u,l,f,p,y){if(u!==null){var b=u.memoizedProps;if(Td(b,p)&&u.ref===l.ref)if(Go=!1,l.pendingProps=p=b,(u.lanes&y)!==0)u.flags&131072&&(Go=!0);else return l.lanes=u.lanes,Wi(u,l,y)}return X0(u,l,f,p,y)}function _g(u,l,f){var p=l.pendingProps,y=p.children,b=u!==null?u.memoizedState:null;if(p.mode==="hidden")if(!(l.mode&1))l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tt($s,ir),ir|=f;else{if(!(f&1073741824))return u=b!==null?b.baseLanes|f:f,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:u,cachePool:null,transitions:null},l.updateQueue=null,Tt($s,ir),ir|=u,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=b!==null?b.baseLanes:f,Tt($s,ir),ir|=p}else b!==null?(p=b.baseLanes|f,l.memoizedState=null):p=f,Tt($s,ir),ir|=p;return jo(u,l,y,f),l.child}function Sg(u,l){var f=l.ref;(u===null&&f!==null||u!==null&&u.ref!==f)&&(l.flags|=512,l.flags|=2097152)}function X0(u,l,f,p,y){var b=xn(f)?vo:Ct.current;return b=xo(l,b),Fs(l,y),f=W0(u,l,f,p,b,y),p=V0(),u!==null&&!Go?(l.updateQueue=u.updateQueue,l.flags&=-2053,u.lanes&=~y,Wi(u,l,y)):(Rn&&p&&w0(l),l.flags|=1,jo(u,l,f,y),l.child)}function bg(u,l,f,p,y){if(xn(f)){var b=!0;mr(l)}else b=!1;if(Fs(l,y),l.stateNode===null)Md(u,l),lg(l,f,p),J0(l,f,p,y),p=!0;else if(u===null){var L=l.stateNode,re=l.memoizedProps;L.props=re;var he=L.context,Ue=f.contextType;typeof Ue=="object"&&Ue!==null?Ue=Tr(Ue):(Ue=xn(f)?vo:Ct.current,Ue=xo(l,Ue));var Ke=f.getDerivedStateFromProps,_t=typeof Ke=="function"||typeof L.getSnapshotBeforeUpdate=="function";_t||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(re!==p||he!==Ue)&&fg(l,L,p,Ue),sa=!1;var He=l.memoizedState;L.state=He,Ad(l,p,L,y),he=l.memoizedState,re!==p||He!==he||mn.current||sa?(typeof Ke=="function"&&(Y0(l,f,Ke,p),he=l.memoizedState),(re=sa||ug(l,f,re,p,He,he,Ue))?(_t||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(l.flags|=4194308)):(typeof L.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=p,l.memoizedState=he),L.props=p,L.state=he,L.context=Ue,p=re):(typeof L.componentDidMount=="function"&&(l.flags|=4194308),p=!1)}else{L=l.stateNode,LE(u,l),re=l.memoizedProps,Ue=l.type===l.elementType?re:Vr(l.type,re),L.props=Ue,_t=l.pendingProps,He=L.context,he=f.contextType,typeof he=="object"&&he!==null?he=Tr(he):(he=xn(f)?vo:Ct.current,he=xo(l,he));var _n=f.getDerivedStateFromProps;(Ke=typeof _n=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(re!==_t||He!==he)&&fg(l,L,p,he),sa=!1,He=l.memoizedState,L.state=He,Ad(l,p,L,y);var pn=l.memoizedState;re!==_t||He!==pn||mn.current||sa?(typeof _n=="function"&&(Y0(l,f,_n,p),pn=l.memoizedState),(Ue=sa||ug(l,f,Ue,p,He,pn,he)||!1)?(Ke||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(p,pn,he),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(p,pn,he)),typeof L.componentDidUpdate=="function"&&(l.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof L.componentDidUpdate!="function"||re===u.memoizedProps&&He===u.memoizedState||(l.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||re===u.memoizedProps&&He===u.memoizedState||(l.flags|=1024),l.memoizedProps=p,l.memoizedState=pn),L.props=p,L.state=pn,L.context=he,p=Ue):(typeof L.componentDidUpdate!="function"||re===u.memoizedProps&&He===u.memoizedState||(l.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||re===u.memoizedProps&&He===u.memoizedState||(l.flags|=1024),p=!1)}return Z0(u,l,f,p,b,y)}function Z0(u,l,f,p,y,b){Sg(u,l);var L=(l.flags&128)!==0;if(!p&&!L)return y&&ui(l,f,!1),Wi(u,l,b);p=l.stateNode,Fx.current=l;var re=L&&typeof f.getDerivedStateFromError!="function"?null:p.render();return l.flags|=1,u!==null&&L?(l.child=Ls(l,u.child,null,b),l.child=Ls(l,null,re,b)):jo(u,l,re,b),l.memoizedState=p.state,y&&ui(l,f,!0),l.child}function vg(u){var l=u.stateNode;l.pendingContext?ci(u,l.pendingContext,l.pendingContext!==l.context):l.context&&ci(u,l.context,!1),U0(u,l.containerInfo)}function Ag(u,l,f,p,y){return Bs(),N0(y),l.flags|=256,jo(u,l,f,p),l.child}var ey={dehydrated:null,treeContext:null,retryLane:0};function ty(u){return{baseLanes:u,cachePool:null,transitions:null}}function wg(u,l,f){var p=l.pendingProps,y=Mn.current,b=!1,L=(l.flags&128)!==0,re;if((re=L)||(re=u!==null&&u.memoizedState===null?!1:(y&2)!==0),re?(b=!0,l.flags&=-129):(u===null||u.memoizedState!==null)&&(y|=1),Tt(Mn,y&1),u===null)return R0(l),u=l.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?(l.mode&1?m(u)?l.lanes=8:l.lanes=1073741824:l.lanes=1,null):(L=p.children,u=p.fallback,b?(p=l.mode,b=l.child,L={mode:"hidden",children:L},!(p&1)&&b!==null?(b.childLanes=0,b.pendingProps=L):b=Xd(L,p,0,null),u=ns(u,p,f,null),b.return=l,u.return=l,b.sibling=u,l.child=b,l.child.memoizedState=ty(f),l.memoizedState=ey,u):ny(l,L));if(y=u.memoizedState,y!==null&&(re=y.dehydrated,re!==null))return jx(u,l,L,p,re,y,f);if(b){b=p.fallback,L=l.mode,y=u.child,re=y.sibling;var he={mode:"hidden",children:p.children};return!(L&1)&&l.child!==y?(p=l.child,p.childLanes=0,p.pendingProps=he,l.deletions=null):(p=pa(y,he),p.subtreeFlags=y.subtreeFlags&14680064),re!==null?b=pa(re,b):(b=ns(b,L,f,null),b.flags|=2),b.return=l,p.return=l,p.sibling=b,l.child=p,p=b,b=l.child,L=u.child.memoizedState,L=L===null?ty(f):{baseLanes:L.baseLanes|f,cachePool:null,transitions:L.transitions},b.memoizedState=L,b.childLanes=u.childLanes&~f,l.memoizedState=ey,p}return b=u.child,u=b.sibling,p=pa(b,{mode:"visible",children:p.children}),!(l.mode&1)&&(p.lanes=f),p.return=l,p.sibling=null,u!==null&&(f=l.deletions,f===null?(l.deletions=[u],l.flags|=16):f.push(u)),l.child=p,l.memoizedState=null,p}function ny(u,l){return l=Xd({mode:"visible",children:l},u.mode,0,null),l.return=u,u.child=l}function Cd(u,l,f,p){return p!==null&&N0(p),Ls(l,u.child,null,f),u=ny(l,l.pendingProps.children),u.flags|=2,l.memoizedState=null,u}function jx(u,l,f,p,y,b,L){if(f)return l.flags&256?(l.flags&=-257,p=Q0(Error(a(422))),Cd(u,l,L,p)):l.memoizedState!==null?(l.child=u.child,l.flags|=128,null):(b=p.fallback,y=l.mode,p=Xd({mode:"visible",children:p.children},y,0,null),b=ns(b,y,L,null),b.flags|=2,p.return=l,b.return=l,p.sibling=b,l.child=p,l.mode&1&&Ls(l,u.child,null,L),l.child.memoizedState=ty(L),l.memoizedState=ey,b);if(!(l.mode&1))return Cd(u,l,L,null);if(m(y))return p=T(y).digest,b=Error(a(419)),p=Q0(b,p,void 0),Cd(u,l,L,p);if(f=(L&u.childLanes)!==0,Go||f){if(p=lo,p!==null){switch(L&-L){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=y&(p.suspendedLanes|L)?0:y,y!==0&&y!==b.retryLane&&(b.retryLane=y,di(u,y),br(p,u,y,-1))}return by(),p=Q0(Error(a(421))),Cd(u,l,L,p)}return E(y)?(l.flags|=128,l.child=u.child,l=eI.bind(null,u),M(y,l),null):(u=b.treeContext,Oe&&(gr=N(y),rr=l,Rn=!0,Wr=null,Gu=!1,u!==null&&(yr[Er++]=Di,yr[Er++]=Fi,yr[Er++]=Ya,Di=u.id,Fi=u.overflow,Ya=l)),l=ny(l,p.children),l.flags|=4096,l)}function xg(u,l,f){u.lanes|=l;var p=u.alternate;p!==null&&(p.lanes|=l),M0(u.return,l,f)}function oy(u,l,f,p,y){var b=u.memoizedState;b===null?u.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:p,tail:f,tailMode:y}:(b.isBackwards=l,b.rendering=null,b.renderingStartTime=0,b.last=p,b.tail=f,b.tailMode=y)}function Ig(u,l,f){var p=l.pendingProps,y=p.revealOrder,b=p.tail;if(jo(u,l,p.children,f),p=Mn.current,p&2)p=p&1|2,l.flags|=128;else{if(u!==null&&u.flags&128)e:for(u=l.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&xg(u,f,l);else if(u.tag===19)xg(u,f,l);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break e;for(;u.sibling===null;){if(u.return===null||u.return===l)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}p&=1}if(Tt(Mn,p),!(l.mode&1))l.memoizedState=null;else switch(y){case"forwards":for(f=l.child,y=null;f!==null;)u=f.alternate,u!==null&&wd(u)===null&&(y=f),f=f.sibling;f=y,f===null?(y=l.child,l.child=null):(y=f.sibling,f.sibling=null),oy(l,!1,y,f,b);break;case"backwards":for(f=null,y=l.child,l.child=null;y!==null;){if(u=y.alternate,u!==null&&wd(u)===null){l.child=y;break}u=y.sibling,y.sibling=f,f=y,y=u}oy(l,!0,f,null,b);break;case"together":oy(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Md(u,l){!(l.mode&1)&&u!==null&&(u.alternate=null,l.alternate=null,l.flags|=2)}function Wi(u,l,f){if(u!==null&&(l.dependencies=u.dependencies),Xa|=l.lanes,!(f&l.childLanes))return null;if(u!==null&&l.child!==u.child)throw Error(a(153));if(l.child!==null){for(u=l.child,f=pa(u,u.pendingProps),l.child=f,f.return=l;u.sibling!==null;)u=u.sibling,f=f.sibling=pa(u,u.pendingProps),f.return=l;f.sibling=null}return l.child}function Wx(u,l,f){switch(l.tag){case 3:vg(l),Bs();break;case 5:jE(l);break;case 1:xn(l.type)&&mr(l);break;case 4:U0(l,l.stateNode.containerInfo);break;case 10:UE(l,l.type._context,l.memoizedProps.value);break;case 13:var p=l.memoizedState;if(p!==null)return p.dehydrated!==null?(Tt(Mn,Mn.current&1),l.flags|=128,null):f&l.child.childLanes?wg(u,l,f):(Tt(Mn,Mn.current&1),u=Wi(u,l,f),u!==null?u.sibling:null);Tt(Mn,Mn.current&1);break;case 19:if(p=(f&l.childLanes)!==0,u.flags&128){if(p)return Ig(u,l,f);l.flags|=128}var y=l.memoizedState;if(y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Tt(Mn,Mn.current),p)break;return null;case 22:case 23:return l.lanes=0,_g(u,l,f)}return Wi(u,l,f)}function hi(u){u.flags|=4}function Rg(u,l){if(u!==null&&u.child===l.child)return!0;if(l.flags&16)return!1;for(u=l.child;u!==null;){if(u.flags&12854||u.subtreeFlags&12854)return!1;u=u.sibling}return!0}var el,tl,Pd,zd;if(oe)el=function(u,l){for(var f=l.child;f!==null;){if(f.tag===5||f.tag===6)it(u,f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},tl=function(){},Pd=function(u,l,f,p,y){if(u=u.memoizedProps,u!==p){var b=l.stateNode,L=pi(_r.current);f=ct(b,f,u,p,y,L),(l.updateQueue=f)&&hi(l)}},zd=function(u,l,f,p){f!==p&&hi(l)};else if(fe){el=function(u,l,f,p){for(var y=l.child;y!==null;){if(y.tag===5){var b=y.stateNode;f&&p&&(b=G(b,y.type,y.memoizedProps,y)),it(u,b)}else if(y.tag===6)b=y.stateNode,f&&p&&(b=ee(b,y.memoizedProps,y)),it(u,b);else if(y.tag!==4){if(y.tag===22&&y.memoizedState!==null)b=y.child,b!==null&&(b.return=y),el(u,y,!0,!0);else if(y.child!==null){y.child.return=y,y=y.child;continue}}if(y===l)break;for(;y.sibling===null;){if(y.return===null||y.return===l)return;y=y.return}y.sibling.return=y.return,y=y.sibling}};var Ng=function(u,l,f,p){for(var y=l.child;y!==null;){if(y.tag===5){var b=y.stateNode;f&&p&&(b=G(b,y.type,y.memoizedProps,y)),je(u,b)}else if(y.tag===6)b=y.stateNode,f&&p&&(b=ee(b,y.memoizedProps,y)),je(u,b);else if(y.tag!==4){if(y.tag===22&&y.memoizedState!==null)b=y.child,b!==null&&(b.return=y),Ng(u,y,!0,!0);else if(y.child!==null){y.child.return=y,y=y.child;continue}}if(y===l)break;for(;y.sibling===null;){if(y.return===null||y.return===l)return;y=y.return}y.sibling.return=y.return,y=y.sibling}};tl=function(u,l){var f=l.stateNode;if(!Rg(u,l)){u=f.containerInfo;var p=ze(u);Ng(p,l,!1,!1),f.pendingChildren=p,hi(l),nt(u,p)}},Pd=function(u,l,f,p,y){var b=u.stateNode,L=u.memoizedProps;if((u=Rg(u,l))&&L===p)l.stateNode=b;else{var re=l.stateNode,he=pi(_r.current),Ue=null;L!==p&&(Ue=ct(re,f,L,p,y,he)),u&&Ue===null?l.stateNode=b:(b=Le(b,Ue,f,L,p,l,u,re),mt(b,f,p,y,he)&&hi(l),l.stateNode=b,u?hi(l):el(b,l,!1,!1))}},zd=function(u,l,f,p){f!==p?(u=pi(js.current),f=pi(_r.current),l.stateNode=w(p,u,f,l),hi(l)):l.stateNode=u.stateNode}}else tl=function(){},Pd=function(){},zd=function(){};function nl(u,l){if(!Rn)switch(u.tailMode){case"hidden":l=u.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?u.tail=null:f.sibling=null;break;case"collapsed":f=u.tail;for(var p=null;f!==null;)f.alternate!==null&&(p=f),f=f.sibling;p===null?l||u.tail===null?u.tail=null:u.tail.sibling=null:p.sibling=null}}function Ro(u){var l=u.alternate!==null&&u.alternate.child===u.child,f=0,p=0;if(l)for(var y=u.child;y!==null;)f|=y.lanes|y.childLanes,p|=y.subtreeFlags&14680064,p|=y.flags&14680064,y.return=u,y=y.sibling;else for(y=u.child;y!==null;)f|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=u,y=y.sibling;return u.subtreeFlags|=p,u.childLanes=f,l}function Vx(u,l,f){var p=l.pendingProps;switch(x0(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ro(l),null;case 1:return xn(l.type)&&pr(),Ro(l),null;case 3:return f=l.stateNode,Ws(),gt(mn),gt(Ct),D0(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(u===null||u.child===null)&&(gd(l)?hi(l):u===null||u.memoizedState.isDehydrated&&!(l.flags&256)||(l.flags|=1024,Wr!==null&&(_y(Wr),Wr=null))),tl(u,l),Ro(l),null;case 5:B0(l),f=pi(js.current);var y=l.type;if(u!==null&&l.stateNode!=null)Pd(u,l,y,p,f),u.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!p){if(l.stateNode===null)throw Error(a(166));return Ro(l),null}if(u=pi(_r.current),gd(l)){if(!Oe)throw Error(a(175));u=D(l.stateNode,l.type,l.memoizedProps,f,u,l,!Gu),l.updateQueue=u,u!==null&&hi(l)}else{var b=Xe(y,p,f,u,l);el(b,l,!1,!1),l.stateNode=b,mt(b,y,p,f,u)&&hi(l)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Ro(l),null;case 6:if(u&&l.stateNode!=null)zd(u,l,u.memoizedProps,p);else{if(typeof p!="string"&&l.stateNode===null)throw Error(a(166));if(u=pi(js.current),f=pi(_r.current),gd(l)){if(!Oe)throw Error(a(176));if(u=l.stateNode,f=l.memoizedProps,(p=W(u,f,l,!Gu))&&(y=rr,y!==null))switch(y.tag){case 3:qe(y.stateNode.containerInfo,u,f,(y.mode&1)!==0);break;case 5:Et(y.type,y.memoizedProps,y.stateNode,u,f,(y.mode&1)!==0)}p&&hi(l)}else l.stateNode=w(p,u,f,l)}return Ro(l),null;case 13:if(gt(Mn),p=l.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(Rn&&gr!==null&&l.mode&1&&!(l.flags&128))CE(),Bs(),l.flags|=98560,y=!1;else if(y=gd(l),p!==null&&p.dehydrated!==null){if(u===null){if(!y)throw Error(a(318));if(!Oe)throw Error(a(344));if(y=l.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(a(317));F(y,l)}else Bs(),!(l.flags&128)&&(l.memoizedState=null),l.flags|=4;Ro(l),y=!1}else Wr!==null&&(_y(Wr),Wr=null),y=!0;if(!y)return l.flags&65536?l:null}return l.flags&128?(l.lanes=f,l):(f=p!==null,f!==(u!==null&&u.memoizedState!==null)&&f&&(l.child.flags|=8192,l.mode&1&&(u===null||Mn.current&1?oo===0&&(oo=3):by())),l.updateQueue!==null&&(l.flags|=4),Ro(l),null);case 4:return Ws(),tl(u,l),u===null&&dt(l.stateNode.containerInfo),Ro(l),null;case 10:return C0(l.type._context),Ro(l),null;case 17:return xn(l.type)&&pr(),Ro(l),null;case 19:if(gt(Mn),y=l.memoizedState,y===null)return Ro(l),null;if(p=(l.flags&128)!==0,b=y.rendering,b===null)if(p)nl(y,!1);else{if(oo!==0||u!==null&&u.flags&128)for(u=l.child;u!==null;){if(b=wd(u),b!==null){for(l.flags|=128,nl(y,!1),u=b.updateQueue,u!==null&&(l.updateQueue=u,l.flags|=4),l.subtreeFlags=0,u=f,f=l.child;f!==null;)p=f,y=u,p.flags&=14680066,b=p.alternate,b===null?(p.childLanes=0,p.lanes=y,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=b.childLanes,p.lanes=b.lanes,p.child=b.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=b.memoizedProps,p.memoizedState=b.memoizedState,p.updateQueue=b.updateQueue,p.type=b.type,y=b.dependencies,p.dependencies=y===null?null:{lanes:y.lanes,firstContext:y.firstContext}),f=f.sibling;return Tt(Mn,Mn.current&1|2),l.child}u=u.sibling}y.tail!==null&&co()>yy&&(l.flags|=128,p=!0,nl(y,!1),l.lanes=4194304)}else{if(!p)if(u=wd(b),u!==null){if(l.flags|=128,p=!0,u=u.updateQueue,u!==null&&(l.updateQueue=u,l.flags|=4),nl(y,!0),y.tail===null&&y.tailMode==="hidden"&&!b.alternate&&!Rn)return Ro(l),null}else 2*co()-y.renderingStartTime>yy&&f!==1073741824&&(l.flags|=128,p=!0,nl(y,!1),l.lanes=4194304);y.isBackwards?(b.sibling=l.child,l.child=b):(u=y.last,u!==null?u.sibling=b:l.child=b,y.last=b)}return y.tail!==null?(l=y.tail,y.rendering=l,y.tail=l.sibling,y.renderingStartTime=co(),l.sibling=null,u=Mn.current,Tt(Mn,p?u&1|2:u&1),l):(Ro(l),null);case 22:case 23:return Sy(),f=l.memoizedState!==null,u!==null&&u.memoizedState!==null!==f&&(l.flags|=8192),f&&l.mode&1?ir&1073741824&&(Ro(l),oe&&l.subtreeFlags&6&&(l.flags|=8192)):Ro(l),null;case 24:return null;case 25:return null}throw Error(a(156,l.tag))}function Hx(u,l){switch(x0(l),l.tag){case 1:return xn(l.type)&&pr(),u=l.flags,u&65536?(l.flags=u&-65537|128,l):null;case 3:return Ws(),gt(mn),gt(Ct),D0(),u=l.flags,u&65536&&!(u&128)?(l.flags=u&-65537|128,l):null;case 5:return B0(l),null;case 13:if(gt(Mn),u=l.memoizedState,u!==null&&u.dehydrated!==null){if(l.alternate===null)throw Error(a(340));Bs()}return u=l.flags,u&65536?(l.flags=u&-65537|128,l):null;case 19:return gt(Mn),null;case 4:return Ws(),null;case 10:return C0(l.type._context),null;case 22:case 23:return Sy(),null;case 24:return null;default:return null}}var Ud=!1,No=!1,$x=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function Hs(u,l){var f=u.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(p){Nn(u,l,p)}else f.current=null}function ry(u,l,f){try{f()}catch(p){Nn(u,l,p)}}var Og=!1;function Gx(u,l){for(we(u.containerInfo),Qe=l;Qe!==null;)if(u=Qe,l=u.child,(u.subtreeFlags&1028)!==0&&l!==null)l.return=u,Qe=l;else for(;Qe!==null;){u=Qe;try{var f=u.alternate;if(u.flags&1024)switch(u.tag){case 0:case 11:case 15:break;case 1:if(f!==null){var p=f.memoizedProps,y=f.memoizedState,b=u.stateNode,L=b.getSnapshotBeforeUpdate(u.elementType===u.type?p:Vr(u.type,p),y);b.__reactInternalSnapshotBeforeUpdate=L}break;case 3:oe&&ue(u.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(re){Nn(u,u.return,re)}if(l=u.sibling,l!==null){l.return=u.return,Qe=l;break}Qe=u.return}return f=Og,Og=!1,f}function ol(u,l,f){var p=l.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var y=p=p.next;do{if((y.tag&u)===u){var b=y.destroy;y.destroy=void 0,b!==void 0&&ry(l,f,b)}y=y.next}while(y!==p)}}function Bd(u,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var f=l=l.next;do{if((f.tag&u)===u){var p=f.create;f.destroy=p()}f=f.next}while(f!==l)}}function iy(u){var l=u.ref;if(l!==null){var f=u.stateNode;switch(u.tag){case 5:u=$(f);break;default:u=f}typeof l=="function"?l(u):l.current=u}}function kg(u){var l=u.alternate;l!==null&&(u.alternate=null,kg(l)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(l=u.stateNode,l!==null&&Rt(l)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function Cg(u){return u.tag===5||u.tag===3||u.tag===4}function Mg(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||Cg(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function ay(u,l,f){var p=u.tag;if(p===5||p===6)u=u.stateNode,l?So(f,u,l):wn(f,u);else if(p!==4&&(u=u.child,u!==null))for(ay(u,l,f),u=u.sibling;u!==null;)ay(u,l,f),u=u.sibling}function sy(u,l,f){var p=u.tag;if(p===5||p===6)u=u.stateNode,l?Tn(f,u,l):gn(f,u);else if(p!==4&&(u=u.child,u!==null))for(sy(u,l,f),u=u.sibling;u!==null;)sy(u,l,f),u=u.sibling}var Ao=null,Hr=!1;function yi(u,l,f){for(f=f.child;f!==null;)cy(u,l,f),f=f.sibling}function cy(u,l,f){if(li&&typeof li.onCommitFiberUnmount=="function")try{li.onCommitFiberUnmount(md,f)}catch{}switch(f.tag){case 5:No||Hs(f,l);case 6:if(oe){var p=Ao,y=Hr;Ao=null,yi(u,l,f),Ao=p,Hr=y,Ao!==null&&(Hr?Ft(Ao,f.stateNode):bo(Ao,f.stateNode))}else yi(u,l,f);break;case 18:oe&&Ao!==null&&(Hr?Ae(Ao,f.stateNode):be(Ao,f.stateNode));break;case 4:oe?(p=Ao,y=Hr,Ao=f.stateNode.containerInfo,Hr=!0,yi(u,l,f),Ao=p,Hr=y):(fe&&(p=f.stateNode.containerInfo,y=ze(p),bt(p,y)),yi(u,l,f));break;case 0:case 11:case 14:case 15:if(!No&&(p=f.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){y=p=p.next;do{var b=y,L=b.destroy;b=b.tag,L!==void 0&&(b&2||b&4)&&ry(f,l,L),y=y.next}while(y!==p)}yi(u,l,f);break;case 1:if(!No&&(Hs(f,l),p=f.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=f.memoizedProps,p.state=f.memoizedState,p.componentWillUnmount()}catch(re){Nn(f,l,re)}yi(u,l,f);break;case 21:yi(u,l,f);break;case 22:f.mode&1?(No=(p=No)||f.memoizedState!==null,yi(u,l,f),No=p):yi(u,l,f);break;default:yi(u,l,f)}}function Pg(u){var l=u.updateQueue;if(l!==null){u.updateQueue=null;var f=u.stateNode;f===null&&(f=u.stateNode=new $x),l.forEach(function(p){var y=tI.bind(null,u,p);f.has(p)||(f.add(p),p.then(y,y))})}}function $r(u,l){var f=l.deletions;if(f!==null)for(var p=0;p<f.length;p++){var y=f[p];try{var b=u,L=l;if(oe){var re=L;e:for(;re!==null;){switch(re.tag){case 5:Ao=re.stateNode,Hr=!1;break e;case 3:Ao=re.stateNode.containerInfo,Hr=!0;break e;case 4:Ao=re.stateNode.containerInfo,Hr=!0;break e}re=re.return}if(Ao===null)throw Error(a(160));cy(b,L,y),Ao=null,Hr=!1}else cy(b,L,y);var he=y.alternate;he!==null&&(he.return=null),y.return=null}catch(Ue){Nn(y,l,Ue)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)zg(l,u),l=l.sibling}function zg(u,l){var f=u.alternate,p=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:if($r(l,u),Ei(u),p&4){try{ol(3,u,u.return),Bd(3,u)}catch(He){Nn(u,u.return,He)}try{ol(5,u,u.return)}catch(He){Nn(u,u.return,He)}}break;case 1:$r(l,u),Ei(u),p&512&&f!==null&&Hs(f,f.return);break;case 5:if($r(l,u),Ei(u),p&512&&f!==null&&Hs(f,f.return),oe){if(u.flags&32){var y=u.stateNode;try{Qn(y)}catch(He){Nn(u,u.return,He)}}if(p&4&&(y=u.stateNode,y!=null)){var b=u.memoizedProps;if(f=f!==null?f.memoizedProps:b,p=u.type,l=u.updateQueue,u.updateQueue=null,l!==null)try{_o(y,l,p,f,b,u)}catch(He){Nn(u,u.return,He)}}}break;case 6:if($r(l,u),Ei(u),p&4&&oe){if(u.stateNode===null)throw Error(a(162));y=u.stateNode,b=u.memoizedProps,f=f!==null?f.memoizedProps:b;try{Jn(y,f,b)}catch(He){Nn(u,u.return,He)}}break;case 3:if($r(l,u),Ei(u),p&4){if(oe&&Oe&&f!==null&&f.memoizedState.isDehydrated)try{se(l.containerInfo)}catch(He){Nn(u,u.return,He)}if(fe){y=l.containerInfo,b=l.pendingChildren;try{bt(y,b)}catch(He){Nn(u,u.return,He)}}}break;case 4:if($r(l,u),Ei(u),p&4&&fe){b=u.stateNode,y=b.containerInfo,b=b.pendingChildren;try{bt(y,b)}catch(He){Nn(u,u.return,He)}}break;case 13:$r(l,u),Ei(u),y=u.child,y.flags&8192&&(b=y.memoizedState!==null,y.stateNode.isHidden=b,!b||y.alternate!==null&&y.alternate.memoizedState!==null||(hy=co())),p&4&&Pg(u);break;case 22:var L=f!==null&&f.memoizedState!==null;if(u.mode&1?(No=(f=No)||L,$r(l,u),No=f):$r(l,u),Ei(u),p&8192){if(f=u.memoizedState!==null,(u.stateNode.isHidden=f)&&!L&&u.mode&1)for(Qe=u,p=u.child;p!==null;){for(l=Qe=p;Qe!==null;){L=Qe;var re=L.child;switch(L.tag){case 0:case 11:case 14:case 15:ol(4,L,L.return);break;case 1:Hs(L,L.return);var he=L.stateNode;if(typeof he.componentWillUnmount=="function"){var Ue=L,Ke=L.return;try{var _t=Ue;he.props=_t.memoizedProps,he.state=_t.memoizedState,he.componentWillUnmount()}catch(He){Nn(Ue,Ke,He)}}break;case 5:Hs(L,L.return);break;case 22:if(L.memoizedState!==null){Lg(l);continue}}re!==null?(re.return=L,Qe=re):Lg(l)}p=p.sibling}if(oe){e:if(p=null,oe)for(l=u;;){if(l.tag===5){if(p===null){p=l;try{y=l.stateNode,f?Zn(y):V(l.stateNode,l.memoizedProps)}catch(He){Nn(u,u.return,He)}}}else if(l.tag===6){if(p===null)try{b=l.stateNode,f?eo(b):K(b,l.memoizedProps)}catch(He){Nn(u,u.return,He)}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===u)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;p===l&&(p=null),l=l.return}p===l&&(p=null),l.sibling.return=l.return,l=l.sibling}}}break;case 19:$r(l,u),Ei(u),p&4&&Pg(u);break;case 21:break;default:$r(l,u),Ei(u)}}function Ei(u){var l=u.flags;if(l&2){try{if(oe){e:{for(var f=u.return;f!==null;){if(Cg(f)){var p=f;break e}f=f.return}throw Error(a(160))}switch(p.tag){case 5:var y=p.stateNode;p.flags&32&&(Qn(y),p.flags&=-33);var b=Mg(u);sy(u,b,y);break;case 3:case 4:var L=p.stateNode.containerInfo,re=Mg(u);ay(u,re,L);break;default:throw Error(a(161))}}}catch(he){Nn(u,u.return,he)}u.flags&=-3}l&4096&&(u.flags&=-4097)}function qx(u,l,f){Qe=u,Ug(u,l,f)}function Ug(u,l,f){for(var p=(u.mode&1)!==0;Qe!==null;){var y=Qe,b=y.child;if(y.tag===22&&p){var L=y.memoizedState!==null||Ud;if(!L){var re=y.alternate,he=re!==null&&re.memoizedState!==null||No;re=Ud;var Ue=No;if(Ud=L,(No=he)&&!Ue)for(Qe=y;Qe!==null;)L=Qe,he=L.child,L.tag===22&&L.memoizedState!==null?Dg(y):he!==null?(he.return=L,Qe=he):Dg(y);for(;b!==null;)Qe=b,Ug(b,l,f),b=b.sibling;Qe=y,Ud=re,No=Ue}Bg(u,l,f)}else y.subtreeFlags&8772&&b!==null?(b.return=y,Qe=b):Bg(u,l,f)}}function Bg(u){for(;Qe!==null;){var l=Qe;if(l.flags&8772){var f=l.alternate;try{if(l.flags&8772)switch(l.tag){case 0:case 11:case 15:No||Bd(5,l);break;case 1:var p=l.stateNode;if(l.flags&4&&!No)if(f===null)p.componentDidMount();else{var y=l.elementType===l.type?f.memoizedProps:Vr(l.type,f.memoizedProps);p.componentDidUpdate(y,f.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var b=l.updateQueue;b!==null&&FE(l,b,p);break;case 3:var L=l.updateQueue;if(L!==null){if(f=null,l.child!==null)switch(l.child.tag){case 5:f=$(l.child.stateNode);break;case 1:f=l.child.stateNode}FE(l,L,f)}break;case 5:var re=l.stateNode;f===null&&l.flags&4&&Fn(re,l.type,l.memoizedProps,l);break;case 6:break;case 4:break;case 12:break;case 13:if(Oe&&l.memoizedState===null){var he=l.alternate;if(he!==null){var Ue=he.memoizedState;if(Ue!==null){var Ke=Ue.dehydrated;Ke!==null&&pe(Ke)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}No||l.flags&512&&iy(l)}catch(_t){Nn(l,l.return,_t)}}if(l===u){Qe=null;break}if(f=l.sibling,f!==null){f.return=l.return,Qe=f;break}Qe=l.return}}function Lg(u){for(;Qe!==null;){var l=Qe;if(l===u){Qe=null;break}var f=l.sibling;if(f!==null){f.return=l.return,Qe=f;break}Qe=l.return}}function Dg(u){for(;Qe!==null;){var l=Qe;try{switch(l.tag){case 0:case 11:case 15:var f=l.return;try{Bd(4,l)}catch(he){Nn(l,f,he)}break;case 1:var p=l.stateNode;if(typeof p.componentDidMount=="function"){var y=l.return;try{p.componentDidMount()}catch(he){Nn(l,y,he)}}var b=l.return;try{iy(l)}catch(he){Nn(l,b,he)}break;case 5:var L=l.return;try{iy(l)}catch(he){Nn(l,L,he)}}}catch(he){Nn(l,l.return,he)}if(l===u){Qe=null;break}var re=l.sibling;if(re!==null){re.return=l.return,Qe=re;break}Qe=l.return}}var Ld=0,Dd=1,Fd=2,jd=3,Wd=4;if(typeof Symbol=="function"&&Symbol.for){var rl=Symbol.for;Ld=rl("selector.component"),Dd=rl("selector.has_pseudo_class"),Fd=rl("selector.role"),jd=rl("selector.test_id"),Wd=rl("selector.text")}function uy(u){var l=Ye(u);if(l!=null){if(typeof l.memoizedProps["data-testname"]!="string")throw Error(a(364));return l}if(u=Kt(u),u===null)throw Error(a(362));return u.stateNode.current}function ly(u,l){switch(l.$$typeof){case Ld:if(u.type===l.value)return!0;break;case Dd:e:{l=l.value,u=[u,0];for(var f=0;f<u.length;){var p=u[f++],y=u[f++],b=l[y];if(p.tag!==5||!tn(p)){for(;b!=null&&ly(p,b);)y++,b=l[y];if(y===l.length){l=!0;break e}else for(p=p.child;p!==null;)u.push(p,y),p=p.sibling}}l=!1}return l;case Fd:if(u.tag===5&&fn(u.stateNode,l.value))return!0;break;case Wd:if((u.tag===5||u.tag===6)&&(u=Ze(u),u!==null&&0<=u.indexOf(l.value)))return!0;break;case jd:if(u.tag===5&&(u=u.memoizedProps["data-testname"],typeof u=="string"&&u.toLowerCase()===l.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function fy(u){switch(u.$$typeof){case Ld:return"<"+(J(u.value)||"Unknown")+">";case Dd:return":has("+(fy(u)||"")+")";case Fd:return'[role="'+u.value+'"]';case Wd:return'"'+u.value+'"';case jd:return'[data-testname="'+u.value+'"]';default:throw Error(a(365))}}function Fg(u,l){var f=[];u=[u,0];for(var p=0;p<u.length;){var y=u[p++],b=u[p++],L=l[b];if(y.tag!==5||!tn(y)){for(;L!=null&&ly(y,L);)b++,L=l[b];if(b===l.length)f.push(y);else for(y=y.child;y!==null;)u.push(y,b),y=y.sibling}}return f}function dy(u,l){if(!Nt)throw Error(a(363));u=uy(u),u=Fg(u,l),l=[],u=Array.from(u);for(var f=0;f<u.length;){var p=u[f++];if(p.tag===5)tn(p)||l.push(p.stateNode);else for(p=p.child;p!==null;)u.push(p),p=p.sibling}return l}var Yx=Math.ceil,Vd=s.ReactCurrentDispatcher,py=s.ReactCurrentOwner,Hn=s.ReactCurrentBatchConfig,Ot=0,lo=null,Kn=null,wo=0,ir=0,$s=dn(0),oo=0,il=null,Xa=0,Hd=0,my=0,al=null,qo=null,hy=0,yy=1/0,Vi=null;function Gs(){yy=co()+500}var $d=!1,Ey=null,ua=null,Gd=!1,la=null,qd=0,sl=0,gy=null,Yd=-1,Jd=0;function Oo(){return Ot&6?co():Yd!==-1?Yd:Yd=co()}function fa(u){return u.mode&1?Ot&2&&wo!==0?wo&-wo:Ox.transition!==null?(Jd===0&&(Jd=fd()),Jd):(u=Bt,u!==0?u:pt()):1}function br(u,l,f,p){if(50<sl)throw sl=0,gy=null,Error(a(185));qa(u,f,p),(!(Ot&2)||u!==lo)&&(u===lo&&(!(Ot&2)&&(Hd|=f),oo===4&&da(u,wo)),Yo(u,p),f===1&&Ot===0&&!(l.mode&1)&&(Gs(),hd&&fi()))}function Yo(u,l){var f=u.callbackNode;ld(u,l);var p=Ga(u,u===lo?wo:0);if(p===0)f!==null&&pd(f),u.callbackNode=null,u.callbackPriority=0;else if(l=p&-p,u.callbackPriority!==l){if(f!=null&&pd(f),l===1)u.tag===0?Nx(Wg.bind(null,u)):IE(Wg.bind(null,u)),at?zt(function(){!(Ot&6)&&fi()}):$u(b0,fi),f=null;else{switch(dd(p)){case 1:f=b0;break;case 4:f=wx;break;case 16:f=v0;break;case 536870912:f=xx;break;default:f=v0}f=Kg(f,jg.bind(null,u))}u.callbackPriority=l,u.callbackNode=f}}function jg(u,l){if(Yd=-1,Jd=0,Ot&6)throw Error(a(327));var f=u.callbackNode;if(ts()&&u.callbackNode!==f)return null;var p=Ga(u,u===lo?wo:0);if(p===0)return null;if(p&30||p&u.expiredLanes||l)l=Qd(u,p);else{l=p;var y=Ot;Ot|=2;var b=$g();(lo!==u||wo!==l)&&(Vi=null,Gs(),Za(u,l));do try{Kx();break}catch(re){Hg(u,re)}while(1);k0(),Vd.current=b,Ot=y,Kn!==null?l=0:(lo=null,wo=0,l=oo)}if(l!==0){if(l===2&&(y=Wu(u),y!==0&&(p=y,l=Ty(u,y))),l===1)throw f=il,Za(u,0),da(u,p),Yo(u,co()),f;if(l===6)da(u,p);else{if(y=u.current.alternate,!(p&30)&&!Jx(y)&&(l=Qd(u,p),l===2&&(b=Wu(u),b!==0&&(p=b,l=Ty(u,b))),l===1))throw f=il,Za(u,0),da(u,p),Yo(u,co()),f;switch(u.finishedWork=y,u.finishedLanes=p,l){case 0:case 1:throw Error(a(345));case 2:es(u,qo,Vi);break;case 3:if(da(u,p),(p&130023424)===p&&(l=hy+500-co(),10<l)){if(Ga(u,0)!==0)break;if(y=u.suspendedLanes,(y&p)!==p){Oo(),u.pingedLanes|=u.suspendedLanes&y;break}u.timeoutHandle=O(es.bind(null,u,qo,Vi),l);break}es(u,qo,Vi);break;case 4:if(da(u,p),(p&4194240)===p)break;for(l=u.eventTimes,y=-1;0<p;){var L=31-to(p);b=1<<L,L=l[L],L>y&&(y=L),p&=~b}if(p=y,p=co()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*Yx(p/1960))-p,10<p){u.timeoutHandle=O(es.bind(null,u,qo,Vi),p);break}es(u,qo,Vi);break;case 5:es(u,qo,Vi);break;default:throw Error(a(329))}}}return Yo(u,co()),u.callbackNode===f?jg.bind(null,u):null}function Ty(u,l){var f=al;return u.current.memoizedState.isDehydrated&&(Za(u,l).flags|=256),u=Qd(u,l),u!==2&&(l=qo,qo=f,l!==null&&_y(l)),u}function _y(u){qo===null?qo=u:qo.push.apply(qo,u)}function Jx(u){for(var l=u;;){if(l.flags&16384){var f=l.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var p=0;p<f.length;p++){var y=f[p],b=y.getSnapshot;y=y.value;try{if(!jr(b(),y))return!1}catch{return!1}}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===u)break;for(;l.sibling===null;){if(l.return===null||l.return===u)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function da(u,l){for(l&=~my,l&=~Hd,u.suspendedLanes|=l,u.pingedLanes&=~l,u=u.expirationTimes;0<l;){var f=31-to(l),p=1<<f;u[f]=-1,l&=~p}}function Wg(u){if(Ot&6)throw Error(a(327));ts();var l=Ga(u,0);if(!(l&1))return Yo(u,co()),null;var f=Qd(u,l);if(u.tag!==0&&f===2){var p=Wu(u);p!==0&&(l=p,f=Ty(u,p))}if(f===1)throw f=il,Za(u,0),da(u,l),Yo(u,co()),f;if(f===6)throw Error(a(345));return u.finishedWork=u.current.alternate,u.finishedLanes=l,es(u,qo,Vi),Yo(u,co()),null}function Vg(u){la!==null&&la.tag===0&&!(Ot&6)&&ts();var l=Ot;Ot|=1;var f=Hn.transition,p=Bt;try{if(Hn.transition=null,Bt=1,u)return u()}finally{Bt=p,Hn.transition=f,Ot=l,!(Ot&6)&&fi()}}function Sy(){ir=$s.current,gt($s)}function Za(u,l){u.finishedWork=null,u.finishedLanes=0;var f=u.timeoutHandle;if(f!==I&&(u.timeoutHandle=I,P(f)),Kn!==null)for(f=Kn.return;f!==null;){var p=f;switch(x0(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&pr();break;case 3:Ws(),gt(mn),gt(Ct),D0();break;case 5:B0(p);break;case 4:Ws();break;case 13:gt(Mn);break;case 19:gt(Mn);break;case 10:C0(p.type._context);break;case 22:case 23:Sy()}f=f.return}if(lo=u,Kn=u=pa(u.current,null),wo=ir=l,oo=0,il=null,my=Hd=Xa=0,qo=al=null,Qa!==null){for(l=0;l<Qa.length;l++)if(f=Qa[l],p=f.interleaved,p!==null){f.interleaved=null;var y=p.next,b=f.pending;if(b!==null){var L=b.next;b.next=y,p.next=L}f.pending=p}Qa=null}return u}function Hg(u,l){do{var f=Kn;try{if(k0(),xd.current=Od,Id){for(var p=Pn.memoizedState;p!==null;){var y=p.queue;y!==null&&(y.pending=null),p=p.next}Id=!1}if(Ka=0,uo=no=Pn=null,Qu=!1,Ku=0,py.current=null,f===null||f.return===null){oo=1,il=l,Kn=null;break}e:{var b=u,L=f.return,re=f,he=l;if(l=wo,re.flags|=32768,he!==null&&typeof he=="object"&&typeof he.then=="function"){var Ue=he,Ke=re,_t=Ke.tag;if(!(Ke.mode&1)&&(_t===0||_t===11||_t===15)){var He=Ke.alternate;He?(Ke.updateQueue=He.updateQueue,Ke.memoizedState=He.memoizedState,Ke.lanes=He.lanes):(Ke.updateQueue=null,Ke.memoizedState=null)}var _n=hg(L);if(_n!==null){_n.flags&=-257,yg(_n,L,re,b,l),_n.mode&1&&mg(b,Ue,l),l=_n,he=Ue;var pn=l.updateQueue;if(pn===null){var Jo=new Set;Jo.add(he),l.updateQueue=Jo}else pn.add(he);break e}else{if(!(l&1)){mg(b,Ue,l),by();break e}he=Error(a(426))}}else if(Rn&&re.mode&1){var Hi=hg(L);if(Hi!==null){!(Hi.flags&65536)&&(Hi.flags|=256),yg(Hi,L,re,b,l),N0(Vs(he,re));break e}}b=he=Vs(he,re),oo!==4&&(oo=2),al===null?al=[b]:al.push(b),b=L;do{switch(b.tag){case 3:b.flags|=65536,l&=-l,b.lanes|=l;var me=dg(b,he,l);DE(b,me);break e;case 1:re=he;var le=b.type,Te=b.stateNode;if(!(b.flags&128)&&(typeof le.getDerivedStateFromError=="function"||Te!==null&&typeof Te.componentDidCatch=="function"&&(ua===null||!ua.has(Te)))){b.flags|=65536,l&=-l,b.lanes|=l;var $e=pg(b,re,l);DE(b,$e);break e}}b=b.return}while(b!==null)}qg(f)}catch(ft){l=ft,Kn===f&&f!==null&&(Kn=f=f.return);continue}break}while(1)}function $g(){var u=Vd.current;return Vd.current=Od,u===null?Od:u}function by(){(oo===0||oo===3||oo===2)&&(oo=4),lo===null||!(Xa&268435455)&&!(Hd&268435455)||da(lo,wo)}function Qd(u,l){var f=Ot;Ot|=2;var p=$g();(lo!==u||wo!==l)&&(Vi=null,Za(u,l));do try{Qx();break}catch(y){Hg(u,y)}while(1);if(k0(),Ot=f,Vd.current=p,Kn!==null)throw Error(a(261));return lo=null,wo=0,oo}function Qx(){for(;Kn!==null;)Gg(Kn)}function Kx(){for(;Kn!==null&&!_0();)Gg(Kn)}function Gg(u){var l=Qg(u.alternate,u,ir);u.memoizedProps=u.pendingProps,l===null?qg(u):Kn=l,py.current=null}function qg(u){var l=u;do{var f=l.alternate;if(u=l.return,l.flags&32768){if(f=Hx(f,l),f!==null){f.flags&=32767,Kn=f;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{oo=6,Kn=null;return}}else if(f=Vx(f,l,ir),f!==null){Kn=f;return}if(l=l.sibling,l!==null){Kn=l;return}Kn=l=u}while(l!==null);oo===0&&(oo=5)}function es(u,l,f){var p=Bt,y=Hn.transition;try{Hn.transition=null,Bt=1,Xx(u,l,f,p)}finally{Hn.transition=y,Bt=p}return null}function Xx(u,l,f,p){do ts();while(la!==null);if(Ot&6)throw Error(a(327));f=u.finishedWork;var y=u.finishedLanes;if(f===null)return null;if(u.finishedWork=null,u.finishedLanes=0,f===u.current)throw Error(a(177));u.callbackNode=null,u.callbackPriority=0;var b=f.lanes|f.childLanes;if(T0(u,b),u===lo&&(Kn=lo=null,wo=0),!(f.subtreeFlags&2064)&&!(f.flags&2064)||Gd||(Gd=!0,Kg(v0,function(){return ts(),null})),b=(f.flags&15990)!==0,f.subtreeFlags&15990||b){b=Hn.transition,Hn.transition=null;var L=Bt;Bt=1;var re=Ot;Ot|=4,py.current=null,Gx(u,f),zg(f,u),Re(u.containerInfo),u.current=f,qx(f,u,y),S0(),Ot=re,Bt=L,Hn.transition=b}else u.current=f;if(Gd&&(Gd=!1,la=u,qd=y),b=u.pendingLanes,b===0&&(ua=null),Ix(f.stateNode,p),Yo(u,co()),l!==null)for(p=u.onRecoverableError,f=0;f<l.length;f++)y=l[f],p(y.value,{componentStack:y.stack,digest:y.digest});if($d)throw $d=!1,u=Ey,Ey=null,u;return qd&1&&u.tag!==0&&ts(),b=u.pendingLanes,b&1?u===gy?sl++:(sl=0,gy=u):sl=0,fi(),null}function ts(){if(la!==null){var u=dd(qd),l=Hn.transition,f=Bt;try{if(Hn.transition=null,Bt=16>u?16:u,la===null)var p=!1;else{if(u=la,la=null,qd=0,Ot&6)throw Error(a(331));var y=Ot;for(Ot|=4,Qe=u.current;Qe!==null;){var b=Qe,L=b.child;if(Qe.flags&16){var re=b.deletions;if(re!==null){for(var he=0;he<re.length;he++){var Ue=re[he];for(Qe=Ue;Qe!==null;){var Ke=Qe;switch(Ke.tag){case 0:case 11:case 15:ol(8,Ke,b)}var _t=Ke.child;if(_t!==null)_t.return=Ke,Qe=_t;else for(;Qe!==null;){Ke=Qe;var He=Ke.sibling,_n=Ke.return;if(kg(Ke),Ke===Ue){Qe=null;break}if(He!==null){He.return=_n,Qe=He;break}Qe=_n}}}var pn=b.alternate;if(pn!==null){var Jo=pn.child;if(Jo!==null){pn.child=null;do{var Hi=Jo.sibling;Jo.sibling=null,Jo=Hi}while(Jo!==null)}}Qe=b}}if(b.subtreeFlags&2064&&L!==null)L.return=b,Qe=L;else e:for(;Qe!==null;){if(b=Qe,b.flags&2048)switch(b.tag){case 0:case 11:case 15:ol(9,b,b.return)}var me=b.sibling;if(me!==null){me.return=b.return,Qe=me;break e}Qe=b.return}}var le=u.current;for(Qe=le;Qe!==null;){L=Qe;var Te=L.child;if(L.subtreeFlags&2064&&Te!==null)Te.return=L,Qe=Te;else e:for(L=le;Qe!==null;){if(re=Qe,re.flags&2048)try{switch(re.tag){case 0:case 11:case 15:Bd(9,re)}}catch(ft){Nn(re,re.return,ft)}if(re===L){Qe=null;break e}var $e=re.sibling;if($e!==null){$e.return=re.return,Qe=$e;break e}Qe=re.return}}if(Ot=y,fi(),li&&typeof li.onPostCommitFiberRoot=="function")try{li.onPostCommitFiberRoot(md,u)}catch{}p=!0}return p}finally{Bt=f,Hn.transition=l}}return!1}function Yg(u,l,f){l=Vs(f,l),l=dg(u,l,1),u=ca(u,l,1),l=Oo(),u!==null&&(qa(u,1,l),Yo(u,l))}function Nn(u,l,f){if(u.tag===3)Yg(u,u,f);else for(;l!==null;){if(l.tag===3){Yg(l,u,f);break}else if(l.tag===1){var p=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(ua===null||!ua.has(p))){u=Vs(f,u),u=pg(l,u,1),l=ca(l,u,1),u=Oo(),l!==null&&(qa(l,1,u),Yo(l,u));break}}l=l.return}}function Zx(u,l,f){var p=u.pingCache;p!==null&&p.delete(l),l=Oo(),u.pingedLanes|=u.suspendedLanes&f,lo===u&&(wo&f)===f&&(oo===4||oo===3&&(wo&130023424)===wo&&500>co()-hy?Za(u,0):my|=f),Yo(u,l)}function Jg(u,l){l===0&&(u.mode&1?(l=$a,$a<<=1,!($a&130023424)&&($a=4194304)):l=1);var f=Oo();u=di(u,l),u!==null&&(qa(u,l,f),Yo(u,f))}function eI(u){var l=u.memoizedState,f=0;l!==null&&(f=l.retryLane),Jg(u,f)}function tI(u,l){var f=0;switch(u.tag){case 13:var p=u.stateNode,y=u.memoizedState;y!==null&&(f=y.retryLane);break;case 19:p=u.stateNode;break;default:throw Error(a(314))}p!==null&&p.delete(l),Jg(u,f)}var Qg;Qg=function(u,l,f){if(u!==null)if(u.memoizedProps!==l.pendingProps||mn.current)Go=!0;else{if(!(u.lanes&f)&&!(l.flags&128))return Go=!1,Wx(u,l,f);Go=!!(u.flags&131072)}else Go=!1,Rn&&l.flags&1048576&&RE(l,Ed,l.index);switch(l.lanes=0,l.tag){case 2:var p=l.type;Md(u,l),u=l.pendingProps;var y=xo(l,Ct.current);Fs(l,f),y=W0(null,l,p,u,y,f);var b=V0();return l.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,xn(p)?(b=!0,mr(l)):b=!1,l.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,z0(l),y.updater=kd,l.stateNode=y,y._reactInternals=l,J0(l,p,u,f),l=Z0(null,l,p,!0,b,f)):(l.tag=0,Rn&&b&&w0(l),jo(null,l,y,f),l=l.child),l;case 16:p=l.elementType;e:{switch(Md(u,l),u=l.pendingProps,y=p._init,p=y(p._payload),l.type=p,y=l.tag=oI(p),u=Vr(p,u),y){case 0:l=X0(null,l,p,u,f);break e;case 1:l=bg(null,l,p,u,f);break e;case 11:l=Eg(null,l,p,u,f);break e;case 14:l=gg(null,l,p,Vr(p.type,u),f);break e}throw Error(a(306,p,""))}return l;case 0:return p=l.type,y=l.pendingProps,y=l.elementType===p?y:Vr(p,y),X0(u,l,p,y,f);case 1:return p=l.type,y=l.pendingProps,y=l.elementType===p?y:Vr(p,y),bg(u,l,p,y,f);case 3:e:{if(vg(l),u===null)throw Error(a(387));p=l.pendingProps,b=l.memoizedState,y=b.element,LE(u,l),Ad(l,p,null,f);var L=l.memoizedState;if(p=L.element,Oe&&b.isDehydrated)if(b={element:p,isDehydrated:!1,cache:L.cache,pendingSuspenseBoundaries:L.pendingSuspenseBoundaries,transitions:L.transitions},l.updateQueue.baseState=b,l.memoizedState=b,l.flags&256){y=Vs(Error(a(423)),l),l=Ag(u,l,p,f,y);break e}else if(p!==y){y=Vs(Error(a(424)),l),l=Ag(u,l,p,f,y);break e}else for(Oe&&(gr=Fe(l.stateNode.containerInfo),rr=l,Rn=!0,Wr=null,Gu=!1),f=zE(l,null,p,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Bs(),p===y){l=Wi(u,l,f);break e}jo(u,l,p,f)}l=l.child}return l;case 5:return jE(l),u===null&&R0(l),p=l.type,y=l.pendingProps,b=u!==null?u.memoizedProps:null,L=y.children,yt(p,y)?L=null:b!==null&&yt(p,b)&&(l.flags|=32),Sg(u,l),jo(u,l,L,f),l.child;case 6:return u===null&&R0(l),null;case 13:return wg(u,l,f);case 4:return U0(l,l.stateNode.containerInfo),p=l.pendingProps,u===null?l.child=Ls(l,null,p,f):jo(u,l,p,f),l.child;case 11:return p=l.type,y=l.pendingProps,y=l.elementType===p?y:Vr(p,y),Eg(u,l,p,y,f);case 7:return jo(u,l,l.pendingProps,f),l.child;case 8:return jo(u,l,l.pendingProps.children,f),l.child;case 12:return jo(u,l,l.pendingProps.children,f),l.child;case 10:e:{if(p=l.type._context,y=l.pendingProps,b=l.memoizedProps,L=y.value,UE(l,p,L),b!==null)if(jr(b.value,L)){if(b.children===y.children&&!mn.current){l=Wi(u,l,f);break e}}else for(b=l.child,b!==null&&(b.return=l);b!==null;){var re=b.dependencies;if(re!==null){L=b.child;for(var he=re.firstContext;he!==null;){if(he.context===p){if(b.tag===1){he=ji(-1,f&-f),he.tag=2;var Ue=b.updateQueue;if(Ue!==null){Ue=Ue.shared;var Ke=Ue.pending;Ke===null?he.next=he:(he.next=Ke.next,Ke.next=he),Ue.pending=he}}b.lanes|=f,he=b.alternate,he!==null&&(he.lanes|=f),M0(b.return,f,l),re.lanes|=f;break}he=he.next}}else if(b.tag===10)L=b.type===l.type?null:b.child;else if(b.tag===18){if(L=b.return,L===null)throw Error(a(341));L.lanes|=f,re=L.alternate,re!==null&&(re.lanes|=f),M0(L,f,l),L=b.sibling}else L=b.child;if(L!==null)L.return=b;else for(L=b;L!==null;){if(L===l){L=null;break}if(b=L.sibling,b!==null){b.return=L.return,L=b;break}L=L.return}b=L}jo(u,l,y.children,f),l=l.child}return l;case 9:return y=l.type,p=l.pendingProps.children,Fs(l,f),y=Tr(y),p=p(y),l.flags|=1,jo(u,l,p,f),l.child;case 14:return p=l.type,y=Vr(p,l.pendingProps),y=Vr(p.type,y),gg(u,l,p,y,f);case 15:return Tg(u,l,l.type,l.pendingProps,f);case 17:return p=l.type,y=l.pendingProps,y=l.elementType===p?y:Vr(p,y),Md(u,l),l.tag=1,xn(p)?(u=!0,mr(l)):u=!1,Fs(l,f),lg(l,p,y),J0(l,p,y,f),Z0(null,l,p,!0,u,f);case 19:return Ig(u,l,f);case 22:return _g(u,l,f)}throw Error(a(156,l.tag))};function Kg(u,l){return $u(u,l)}function nI(u,l,f,p){this.tag=u,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vr(u,l,f,p){return new nI(u,l,f,p)}function vy(u){return u=u.prototype,!(!u||!u.isReactComponent)}function oI(u){if(typeof u=="function")return vy(u)?1:0;if(u!=null){if(u=u.$$typeof,u===_)return 11;if(u===j)return 14}return 2}function pa(u,l){var f=u.alternate;return f===null?(f=vr(u.tag,l,u.key,u.mode),f.elementType=u.elementType,f.type=u.type,f.stateNode=u.stateNode,f.alternate=u,u.alternate=f):(f.pendingProps=l,f.type=u.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=u.flags&14680064,f.childLanes=u.childLanes,f.lanes=u.lanes,f.child=u.child,f.memoizedProps=u.memoizedProps,f.memoizedState=u.memoizedState,f.updateQueue=u.updateQueue,l=u.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=u.sibling,f.index=u.index,f.ref=u.ref,f}function Kd(u,l,f,p,y,b){var L=2;if(p=u,typeof u=="function")vy(u)&&(L=1);else if(typeof u=="string")L=5;else e:switch(u){case h:return ns(f.children,y,b,l);case g:L=8,y|=8;break;case A:return u=vr(12,f,l,y|2),u.elementType=A,u.lanes=b,u;case x:return u=vr(13,f,l,y),u.elementType=x,u.lanes=b,u;case k:return u=vr(19,f,l,y),u.elementType=k,u.lanes=b,u;case ie:return Xd(f,y,b,l);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case v:L=10;break e;case S:L=9;break e;case _:L=11;break e;case j:L=14;break e;case Y:L=16,p=null;break e}throw Error(a(130,u==null?u:typeof u,""))}return l=vr(L,f,l,y),l.elementType=u,l.type=p,l.lanes=b,l}function ns(u,l,f,p){return u=vr(7,u,p,l),u.lanes=f,u}function Xd(u,l,f,p){return u=vr(22,u,p,l),u.elementType=ie,u.lanes=f,u.stateNode={isHidden:!1},u}function Ay(u,l,f){return u=vr(6,u,null,l),u.lanes=f,u}function wy(u,l,f){return l=vr(4,u.children!==null?u.children:[],u.key,l),l.lanes=f,l.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},l}function rI(u,l,f,p,y){this.tag=l,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=I,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vu(0),this.expirationTimes=Vu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vu(0),this.identifierPrefix=p,this.onRecoverableError=y,Oe&&(this.mutableSourceEagerHydrationData=null)}function Xg(u,l,f,p,y,b,L,re,he){return u=new rI(u,l,f,re,he),l===1?(l=1,b===!0&&(l|=8)):l=0,b=vr(3,null,null,l),u.current=b,b.stateNode=u,b.memoizedState={element:p,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},z0(b),u}function Zg(u){if(!u)return sn;u=u._reactInternals;e:{if(X(u)!==u||u.tag!==1)throw Error(a(170));var l=u;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(xn(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(a(171))}if(u.tag===1){var f=u.type;if(xn(f))return In(u,f,l)}return l}function eT(u){var l=u._reactInternals;if(l===void 0)throw typeof u.render=="function"?Error(a(188)):(u=Object.keys(u).join(","),Error(a(268,u)));return u=B(l),u===null?null:u.stateNode}function tT(u,l){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var f=u.retryLane;u.retryLane=f!==0&&f<l?f:l}}function Zd(u,l){tT(u,l),(u=u.alternate)&&tT(u,l)}function iI(u){return u=B(u),u===null?null:u.stateNode}function aI(){return null}return o.attemptContinuousHydration=function(u){if(u.tag===13){var l=di(u,134217728);if(l!==null){var f=Oo();br(l,u,134217728,f)}Zd(u,134217728)}},o.attemptDiscreteHydration=function(u){if(u.tag===13){var l=di(u,1);if(l!==null){var f=Oo();br(l,u,1,f)}Zd(u,1)}},o.attemptHydrationAtCurrentPriority=function(u){if(u.tag===13){var l=fa(u),f=di(u,l);if(f!==null){var p=Oo();br(f,u,l,p)}Zd(u,l)}},o.attemptSynchronousHydration=function(u){switch(u.tag){case 3:var l=u.stateNode;if(l.current.memoizedState.isDehydrated){var f=aa(l.pendingLanes);f!==0&&(Hu(l,f|1),Yo(l,co()),!(Ot&6)&&(Gs(),fi()))}break;case 13:Vg(function(){var p=di(u,1);if(p!==null){var y=Oo();br(p,u,1,y)}}),Zd(u,1)}},o.batchedUpdates=function(u,l){var f=Ot;Ot|=1;try{return u(l)}finally{Ot=f,Ot===0&&(Gs(),hd&&fi())}},o.createComponentSelector=function(u){return{$$typeof:Ld,value:u}},o.createContainer=function(u,l,f,p,y,b,L){return Xg(u,l,!1,null,f,p,y,b,L)},o.createHasPseudoClassSelector=function(u){return{$$typeof:Dd,value:u}},o.createHydrationContainer=function(u,l,f,p,y,b,L,re,he){return u=Xg(f,p,!0,u,y,b,L,re,he),u.context=Zg(null),f=u.current,p=Oo(),y=fa(f),b=ji(p,y),b.callback=l??null,ca(f,b,y),u.current.lanes=y,qa(u,y,p),Yo(u,p),u},o.createPortal=function(u,l,f){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:p==null?null:""+p,children:u,containerInfo:l,implementation:f}},o.createRoleSelector=function(u){return{$$typeof:Fd,value:u}},o.createTestNameSelector=function(u){return{$$typeof:jd,value:u}},o.createTextSelector=function(u){return{$$typeof:Wd,value:u}},o.deferredUpdates=function(u){var l=Bt,f=Hn.transition;try{return Hn.transition=null,Bt=16,u()}finally{Bt=l,Hn.transition=f}},o.discreteUpdates=function(u,l,f,p,y){var b=Bt,L=Hn.transition;try{return Hn.transition=null,Bt=1,u(l,f,p,y)}finally{Bt=b,Hn.transition=L,Ot===0&&Gs()}},o.findAllNodes=dy,o.findBoundingRects=function(u,l){if(!Nt)throw Error(a(363));l=dy(u,l),u=[];for(var f=0;f<l.length;f++)u.push(lt(l[f]));for(l=u.length-1;0<l;l--){f=u[l];for(var p=f.x,y=p+f.width,b=f.y,L=b+f.height,re=l-1;0<=re;re--)if(l!==re){var he=u[re],Ue=he.x,Ke=Ue+he.width,_t=he.y,He=_t+he.height;if(p>=Ue&&b>=_t&&y<=Ke&&L<=He){u.splice(l,1);break}else if(p!==Ue||f.width!==he.width||He<b||_t>L){if(!(b!==_t||f.height!==he.height||Ke<p||Ue>y)){Ue>p&&(he.width+=Ue-p,he.x=p),Ke<y&&(he.width=y-Ue),u.splice(l,1);break}}else{_t>b&&(he.height+=_t-b,he.y=b),He<L&&(he.height=L-_t),u.splice(l,1);break}}}return u},o.findHostInstance=eT,o.findHostInstanceWithNoPortals=function(u){return u=q(u),u=u!==null?R(u):null,u===null?null:u.stateNode},o.findHostInstanceWithWarning=function(u){return eT(u)},o.flushControlled=function(u){var l=Ot;Ot|=1;var f=Hn.transition,p=Bt;try{Hn.transition=null,Bt=1,u()}finally{Bt=p,Hn.transition=f,Ot=l,Ot===0&&(Gs(),fi())}},o.flushPassiveEffects=ts,o.flushSync=Vg,o.focusWithin=function(u,l){if(!Nt)throw Error(a(363));for(u=uy(u),l=Fg(u,l),l=Array.from(l),u=0;u<l.length;){var f=l[u++];if(!tn(f)){if(f.tag===5&&Dn(f.stateNode))return!0;for(f=f.child;f!==null;)l.push(f),f=f.sibling}}return!1},o.getCurrentUpdatePriority=function(){return Bt},o.getFindAllNodesFailureDescription=function(u,l){if(!Nt)throw Error(a(363));var f=0,p=[];u=[uy(u),0];for(var y=0;y<u.length;){var b=u[y++],L=u[y++],re=l[L];if((b.tag!==5||!tn(b))&&(ly(b,re)&&(p.push(fy(re)),L++,L>f&&(f=L)),L<l.length))for(b=b.child;b!==null;)u.push(b,L),b=b.sibling}if(f<l.length){for(u=[];f<l.length;f++)u.push(fy(l[f]));return`findAllNodes was able to match part of the selector:
  `+(p.join(" > ")+`

No matching component was found for:
  `)+u.join(" > ")}return null},o.getPublicRootInstance=function(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return $(u.child.stateNode);default:return u.child.stateNode}},o.injectIntoDevTools=function(u){if(u={bundleType:u.bundleType,version:u.version,rendererPackageName:u.rendererPackageName,rendererConfig:u.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:s.ReactCurrentDispatcher,findHostInstanceByFiber:iI,findFiberByHostInstance:u.findFiberByHostInstance||aI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")u=!1;else{var l=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(l.isDisabled||!l.supportsFiber)u=!0;else{try{md=l.inject(u),li=l}catch{}u=!!l.checkDCE}}return u},o.isAlreadyRendering=function(){return!1},o.observeVisibleRects=function(u,l,f,p){if(!Nt)throw Error(a(363));u=dy(u,l);var y=An(u,f,p).disconnect;return{disconnect:function(){y()}}},o.registerMutableSourceForHydration=function(u,l){var f=l._getVersion;f=f(l._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[l,f]:u.mutableSourceEagerHydrationData.push(l,f)},o.runWithPriority=function(u,l){var f=Bt;try{return Bt=u,l()}finally{Bt=f}},o.shouldError=function(){return null},o.shouldSuspend=function(){return!1},o.updateContainer=function(u,l,f,p){var y=l.current,b=Oo(),L=fa(y);return f=Zg(f),l.context===null?l.context=f:l.pendingContext=f,l=ji(b,L),l.payload={element:u},p=p===void 0?null:p,p!==null&&(l.callback=p),u=ca(y,l,L),u!==null&&(br(u,y,L,b),vd(u,y,L)),L},o}});var cw=On((iG,sw)=>{"use strict";sw.exports=aw()});var V5={};pI(V5,{main:()=>Gh,onStart:()=>W5,onUpdate:()=>j5,rendererTransport:()=>g0});module.exports=mI(V5);var is=ot(ut());function AI(){return{states:[]}}var Ys;(function(e){function t(n,i=is.default.Writer.create()){for(let r of n.states)ap.encode(r,i.uint32(10).fork()).ldelim();return i}e.encode=t;function o(n,i){let r=n instanceof is.default.Reader?n:is.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=AI();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;s.states.push(ap.decode(r,r.uint32()));continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(Ys||(Ys={}));function wI(){return{clip:"",playing:void 0,weight:void 0,speed:void 0,loop:void 0,shouldReset:void 0}}var ap;(function(e){function t(n,i=is.default.Writer.create()){return n.clip!==""&&i.uint32(18).string(n.clip),n.playing!==void 0&&i.uint32(24).bool(n.playing),n.weight!==void 0&&i.uint32(37).float(n.weight),n.speed!==void 0&&i.uint32(45).float(n.speed),n.loop!==void 0&&i.uint32(48).bool(n.loop),n.shouldReset!==void 0&&i.uint32(56).bool(n.shouldReset),i}e.encode=t;function o(n,i){let r=n instanceof is.default.Reader?n:is.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=wI();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 2:if(c!==18)break;s.clip=r.string();continue;case 3:if(c!==24)break;s.playing=r.bool();continue;case 4:if(c!==37)break;s.weight=r.float();continue;case 5:if(c!==45)break;s.speed=r.float();continue;case 6:if(c!==48)break;s.loop=r.bool();continue;case 7:if(c!==56)break;s.shouldReset=r.bool();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(ap||(ap={}));var XT={COMPONENT_ID:1042,serialize(e,t){let o=Ys.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize(e){return Ys.decode(e.buffer(),e.remainingBytes())},create(){return Ys.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAnimator"}};var sp=ot(ut());function xI(){return{state:0,timestamp:0}}var Js;(function(e){function t(n,i=sp.default.Writer.create()){return n.state!==0&&i.uint32(8).int32(n.state),n.timestamp!==0&&i.uint32(16).uint32(n.timestamp),i}e.encode=t;function o(n,i){let r=n instanceof sp.default.Reader?n:sp.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=xI();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==8)break;s.state=r.int32();continue;case 2:if(c!==16)break;s.timestamp=r.uint32();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(Js||(Js={}));var ZT={COMPONENT_ID:1105,serialize(e,t){let o=Js.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize(e){return Js.decode(e.buffer(),e.remainingBytes())},create(){return Js.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAudioEvent"}};var cp=ot(ut());function II(){return{playing:void 0,volume:void 0,loop:void 0,pitch:void 0,audioClipUrl:"",currentTime:void 0,global:void 0}}var Qs;(function(e){function t(n,i=cp.default.Writer.create()){return n.playing!==void 0&&i.uint32(8).bool(n.playing),n.volume!==void 0&&i.uint32(21).float(n.volume),n.loop!==void 0&&i.uint32(24).bool(n.loop),n.pitch!==void 0&&i.uint32(37).float(n.pitch),n.audioClipUrl!==""&&i.uint32(42).string(n.audioClipUrl),n.currentTime!==void 0&&i.uint32(53).float(n.currentTime),n.global!==void 0&&i.uint32(56).bool(n.global),i}e.encode=t;function o(n,i){let r=n instanceof cp.default.Reader?n:cp.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=II();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==8)break;s.playing=r.bool();continue;case 2:if(c!==21)break;s.volume=r.float();continue;case 3:if(c!==24)break;s.loop=r.bool();continue;case 4:if(c!==37)break;s.pitch=r.float();continue;case 5:if(c!==42)break;s.audioClipUrl=r.string();continue;case 6:if(c!==53)break;s.currentTime=r.float();continue;case 7:if(c!==56)break;s.global=r.bool();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(Qs||(Qs={}));var e_={COMPONENT_ID:1020,serialize(e,t){let o=Qs.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize(e){return Qs.decode(e.buffer(),e.remainingBytes())},create(){return Qs.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAudioSource"}};var up=ot(ut());function RI(){return{playing:void 0,volume:void 0,url:""}}var Ks;(function(e){function t(n,i=up.default.Writer.create()){return n.playing!==void 0&&i.uint32(8).bool(n.playing),n.volume!==void 0&&i.uint32(21).float(n.volume),n.url!==""&&i.uint32(26).string(n.url),i}e.encode=t;function o(n,i){let r=n instanceof up.default.Reader?n:up.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=RI();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==8)break;s.playing=r.bool();continue;case 2:if(c!==21)break;s.volume=r.float();continue;case 3:if(c!==26)break;s.url=r.string();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(Ks||(Ks={}));var t_={COMPONENT_ID:1021,serialize(e,t){let o=Ks.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize(e){return Ks.decode(e.buffer(),e.remainingBytes())},create(){return Ks.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAudioStream"}};var lp=ot(ut());var n_;(function(e){e[e.AAPT_POSITION=0]="AAPT_POSITION",e[e.AAPT_NAME_TAG=1]="AAPT_NAME_TAG",e[e.AAPT_HEAD=4]="AAPT_HEAD",e[e.AAPT_NECK=5]="AAPT_NECK",e[e.AAPT_SPINE=6]="AAPT_SPINE",e[e.AAPT_SPINE1=7]="AAPT_SPINE1",e[e.AAPT_SPINE2=8]="AAPT_SPINE2",e[e.AAPT_HIP=9]="AAPT_HIP",e[e.AAPT_LEFT_SHOULDER=10]="AAPT_LEFT_SHOULDER",e[e.AAPT_LEFT_ARM=11]="AAPT_LEFT_ARM",e[e.AAPT_LEFT_FOREARM=12]="AAPT_LEFT_FOREARM",e[e.AAPT_LEFT_HAND=2]="AAPT_LEFT_HAND",e[e.AAPT_LEFT_HAND_INDEX=13]="AAPT_LEFT_HAND_INDEX",e[e.AAPT_RIGHT_SHOULDER=14]="AAPT_RIGHT_SHOULDER",e[e.AAPT_RIGHT_ARM=15]="AAPT_RIGHT_ARM",e[e.AAPT_RIGHT_FOREARM=16]="AAPT_RIGHT_FOREARM",e[e.AAPT_RIGHT_HAND=3]="AAPT_RIGHT_HAND",e[e.AAPT_RIGHT_HAND_INDEX=17]="AAPT_RIGHT_HAND_INDEX",e[e.AAPT_LEFT_UP_LEG=18]="AAPT_LEFT_UP_LEG",e[e.AAPT_LEFT_LEG=19]="AAPT_LEFT_LEG",e[e.AAPT_LEFT_FOOT=20]="AAPT_LEFT_FOOT",e[e.AAPT_LEFT_TOE_BASE=21]="AAPT_LEFT_TOE_BASE",e[e.AAPT_RIGHT_UP_LEG=22]="AAPT_RIGHT_UP_LEG",e[e.AAPT_RIGHT_LEG=23]="AAPT_RIGHT_LEG",e[e.AAPT_RIGHT_FOOT=24]="AAPT_RIGHT_FOOT",e[e.AAPT_RIGHT_TOE_BASE=25]="AAPT_RIGHT_TOE_BASE"})(n_||(n_={}));function NI(){return{avatarId:void 0,anchorPointId:0}}var Xs;(function(e){function t(n,i=lp.default.Writer.create()){return n.avatarId!==void 0&&i.uint32(10).string(n.avatarId),n.anchorPointId!==0&&i.uint32(16).int32(n.anchorPointId),i}e.encode=t;function o(n,i){let r=n instanceof lp.default.Reader?n:lp.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=NI();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;s.avatarId=r.string();continue;case 2:if(c!==16)break;s.anchorPointId=r.int32();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(Xs||(Xs={}));var o_={COMPONENT_ID:1073,serialize(e,t){let o=Xs.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize(e){return Xs.decode(e.buffer(),e.remainingBytes())},create(){return Xs.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAvatarAttach"}};var fp=ot(ut());var as=ot(ut());function OI(){return{r:0,g:0,b:0}}var nn;(function(e){function t(n,i=as.default.Writer.create()){return n.r!==0&&i.uint32(13).float(n.r),n.g!==0&&i.uint32(21).float(n.g),n.b!==0&&i.uint32(29).float(n.b),i}e.encode=t;function o(n,i){let r=n instanceof as.default.Reader?n:as.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=OI();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==13)break;s.r=r.float();continue;case 2:if(c!==21)break;s.g=r.float();continue;case 3:if(c!==29)break;s.b=r.float();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(nn||(nn={}));function kI(){return{r:0,g:0,b:0,a:0}}var Wt;(function(e){function t(n,i=as.default.Writer.create()){return n.r!==0&&i.uint32(13).float(n.r),n.g!==0&&i.uint32(21).float(n.g),n.b!==0&&i.uint32(29).float(n.b),n.a!==0&&i.uint32(37).float(n.a),i}e.encode=t;function o(n,i){let r=n instanceof as.default.Reader?n:as.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=kI();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==13)break;s.r=r.float();continue;case 2:if(c!==21)break;s.g=r.float();continue;case 3:if(c!==29)break;s.b=r.float();continue;case 4:if(c!==37)break;s.a=r.float();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(Wt||(Wt={}));function CI(){return{skinColor:void 0,eyesColor:void 0,hairColor:void 0,bodyShapeUrn:"",name:""}}var Zs;(function(e){function t(n,i=fp.default.Writer.create()){return n.skinColor!==void 0&&nn.encode(n.skinColor,i.uint32(10).fork()).ldelim(),n.eyesColor!==void 0&&nn.encode(n.eyesColor,i.uint32(18).fork()).ldelim(),n.hairColor!==void 0&&nn.encode(n.hairColor,i.uint32(26).fork()).ldelim(),n.bodyShapeUrn!==""&&i.uint32(34).string(n.bodyShapeUrn),n.name!==""&&i.uint32(42).string(n.name),i}e.encode=t;function o(n,i){let r=n instanceof fp.default.Reader?n:fp.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=CI();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;s.skinColor=nn.decode(r,r.uint32());continue;case 2:if(c!==18)break;s.eyesColor=nn.decode(r,r.uint32());continue;case 3:if(c!==26)break;s.hairColor=nn.decode(r,r.uint32());continue;case 4:if(c!==34)break;s.bodyShapeUrn=r.string();continue;case 5:if(c!==42)break;s.name=r.string();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(Zs||(Zs={}));var r_={COMPONENT_ID:1087,serialize(e,t){let o=Zs.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize(e){return Zs.decode(e.buffer(),e.remainingBytes())},create(){return Zs.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAvatarBase"}};var dp=ot(ut());function MI(){return{emoteUrn:"",loop:!1,timestamp:0}}var ec;(function(e){function t(n,i=dp.default.Writer.create()){return n.emoteUrn!==""&&i.uint32(10).string(n.emoteUrn),n.loop===!0&&i.uint32(16).bool(n.loop),n.timestamp!==0&&i.uint32(24).uint32(n.timestamp),i}e.encode=t;function o(n,i){let r=n instanceof dp.default.Reader?n:dp.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=MI();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;s.emoteUrn=r.string();continue;case 2:if(c!==16)break;s.loop=r.bool();continue;case 3:if(c!==24)break;s.timestamp=r.uint32();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(ec||(ec={}));var i_={COMPONENT_ID:1088,serialize(e,t){let o=ec.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize(e){return ec.decode(e.buffer(),e.remainingBytes())},create(){return ec.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAvatarEmoteCommand"}};var pp=ot(ut());function PI(){return{wearableUrns:[],emoteUrns:[]}}var tc;(function(e){function t(n,i=pp.default.Writer.create()){for(let r of n.wearableUrns)i.uint32(10).string(r);for(let r of n.emoteUrns)i.uint32(18).string(r);return i}e.encode=t;function o(n,i){let r=n instanceof pp.default.Reader?n:pp.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=PI();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;s.wearableUrns.push(r.string());continue;case 2:if(c!==18)break;s.emoteUrns.push(r.string());continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(tc||(tc={}));var a_={COMPONENT_ID:1091,serialize(e,t){let o=tc.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize(e){return tc.decode(e.buffer(),e.remainingBytes())},create(){return tc.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAvatarEquippedData"}};var mp=ot(ut());var ar=ot(ut());function zI(){return{x:0,y:0,z:0}}var s_;(function(e){function t(n,i=ar.default.Writer.create()){return n.x!==0&&i.uint32(13).float(n.x),n.y!==0&&i.uint32(21).float(n.y),n.z!==0&&i.uint32(29).float(n.z),i}e.encode=t;function o(n,i){let r=n instanceof ar.default.Reader?n:ar.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=zI();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==13)break;s.x=r.float();continue;case 2:if(c!==21)break;s.y=r.float();continue;case 3:if(c!==29)break;s.z=r.float();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(s_||(s_={}));function UI(){return{x:0,y:0,z:0}}var xt;(function(e){function t(n,i=ar.default.Writer.create()){return n.x!==0&&i.uint32(13).float(n.x),n.y!==0&&i.uint32(21).float(n.y),n.z!==0&&i.uint32(29).float(n.z),i}e.encode=t;function o(n,i){let r=n instanceof ar.default.Reader?n:ar.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=UI();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==13)break;s.x=r.float();continue;case 2:if(c!==21)break;s.y=r.float();continue;case 3:if(c!==29)break;s.z=r.float();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(xt||(xt={}));function BI(){return{x:0,y:0}}var wr;(function(e){function t(n,i=ar.default.Writer.create()){return n.x!==0&&i.uint32(13).float(n.x),n.y!==0&&i.uint32(21).float(n.y),i}e.encode=t;function o(n,i){let r=n instanceof ar.default.Reader?n:ar.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=BI();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==13)break;s.x=r.float();continue;case 2:if(c!==21)break;s.y=r.float();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(wr||(wr={}));function LI(){return{x:0,y:0,z:0,w:0}}var ss;(function(e){function t(n,i=ar.default.Writer.create()){return n.x!==0&&i.uint32(13).float(n.x),n.y!==0&&i.uint32(21).float(n.y),n.z!==0&&i.uint32(29).float(n.z),n.w!==0&&i.uint32(37).float(n.w),i}e.encode=t;function o(n,i){let r=n instanceof ar.default.Reader?n:ar.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=LI();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==13)break;s.x=r.float();continue;case 2:if(c!==21)break;s.y=r.float();continue;case 3:if(c!==29)break;s.z=r.float();continue;case 4:if(c!==37)break;s.w=r.float();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(ss||(ss={}));var c_;(function(e){e[e.AMT_HIDE_AVATARS=0]="AMT_HIDE_AVATARS",e[e.AMT_DISABLE_PASSPORTS=1]="AMT_DISABLE_PASSPORTS"})(c_||(c_={}));function DI(){return{area:void 0,excludeIds:[],modifiers:[]}}var nc;(function(e){function t(n,i=mp.default.Writer.create()){n.area!==void 0&&xt.encode(n.area,i.uint32(10).fork()).ldelim();for(let r of n.excludeIds)i.uint32(18).string(r);i.uint32(26).fork();for(let r of n.modifiers)i.int32(r);return i.ldelim(),i}e.encode=t;function o(n,i){let r=n instanceof mp.default.Reader?n:mp.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=DI();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;s.area=xt.decode(r,r.uint32());continue;case 2:if(c!==18)break;s.excludeIds.push(r.string());continue;case 3:if(c===24){s.modifiers.push(r.int32());continue}if(c===26){let d=r.uint32()+r.pos;for(;r.pos<d;)s.modifiers.push(r.int32());continue}break}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(nc||(nc={}));var u_={COMPONENT_ID:1070,serialize(e,t){let o=nc.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize(e){return nc.decode(e.buffer(),e.remainingBytes())},create(){return nc.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAvatarModifierArea"}};var xr=null;try{xr=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function cn(e,t,o){this.low=e|0,this.high=t|0,this.unsigned=!!o}cn.prototype.__isLong__;Object.defineProperty(cn.prototype,"__isLong__",{value:!0});function ko(e){return(e&&e.__isLong__)===!0}function l_(e){var t=Math.clz32(e&-e);return e?31-t:t}cn.isLong=ko;var f_={},d_={};function cs(e,t){var o,n,i;return t?(e>>>=0,(i=0<=e&&e<256)&&(n=d_[e],n)?n:(o=Vt(e,0,!0),i&&(d_[e]=o),o)):(e|=0,(i=-128<=e&&e<128)&&(n=f_[e],n)?n:(o=Vt(e,e<0?-1:0,!1),i&&(f_[e]=o),o))}cn.fromInt=cs;function Ir(e,t){if(isNaN(e))return t?$i:Jr;if(t){if(e<0)return $i;if(e>=y_)return T_}else{if(e<=-m_)return Ko;if(e+1>=m_)return g_}return e<0?Ir(-e,t).neg():Vt(e%rc|0,e/rc|0,t)}cn.fromNumber=Ir;function Vt(e,t,o){return new cn(e,t,o)}cn.fromBits=Vt;var hp=Math.pow;function Fy(e,t,o){if(e.length===0)throw Error("empty string");if(typeof t=="number"?(o=t,t=!1):t=!!t,e==="NaN"||e==="Infinity"||e==="+Infinity"||e==="-Infinity")return t?$i:Jr;if(o=o||10,o<2||36<o)throw RangeError("radix");var n;if((n=e.indexOf("-"))>0)throw Error("interior hyphen");if(n===0)return Fy(e.substring(1),t,o).neg();for(var i=Ir(hp(o,8)),r=Jr,a=0;a<e.length;a+=8){var s=Math.min(8,e.length-a),c=parseInt(e.substring(a,a+s),o);if(s<8){var d=Ir(hp(o,s));r=r.mul(d).add(Ir(c))}else r=r.mul(i),r=r.add(Ir(c))}return r.unsigned=t,r}cn.fromString=Fy;function Rr(e,t){return typeof e=="number"?Ir(e,t):typeof e=="string"?Fy(e,t):Vt(e.low,e.high,typeof t=="boolean"?t:e.unsigned)}cn.fromValue=Rr;var p_=65536,FI=1<<24,rc=p_*p_,y_=rc*rc,m_=y_/2,h_=cs(FI),Jr=cs(0);cn.ZERO=Jr;var $i=cs(0,!0);cn.UZERO=$i;var oc=cs(1);cn.ONE=oc;var E_=cs(1,!0);cn.UONE=E_;var Dy=cs(-1);cn.NEG_ONE=Dy;var g_=Vt(-1,2147483647,!1);cn.MAX_VALUE=g_;var T_=Vt(-1,-1,!0);cn.MAX_UNSIGNED_VALUE=T_;var Ko=Vt(0,-2147483648,!1);cn.MIN_VALUE=Ko;var Ce=cn.prototype;Ce.toInt=function(){return this.unsigned?this.low>>>0:this.low};Ce.toNumber=function(){return this.unsigned?(this.high>>>0)*rc+(this.low>>>0):this.high*rc+(this.low>>>0)};Ce.toString=function(t){if(t=t||10,t<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(Ko)){var o=Ir(t),n=this.div(o),i=n.mul(o).sub(this);return n.toString(t)+i.toInt().toString(t)}else return"-"+this.neg().toString(t);for(var r=Ir(hp(t,6),this.unsigned),a=this,s="";;){var c=a.div(r),d=a.sub(c.mul(r)).toInt()>>>0,h=d.toString(t);if(a=c,a.isZero())return h+s;for(;h.length<6;)h="0"+h;s=""+h+s}};Ce.getHighBits=function(){return this.high};Ce.getHighBitsUnsigned=function(){return this.high>>>0};Ce.getLowBits=function(){return this.low};Ce.getLowBitsUnsigned=function(){return this.low>>>0};Ce.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Ko)?64:this.neg().getNumBitsAbs();for(var t=this.high!=0?this.high:this.low,o=31;o>0&&!(t&1<<o);o--);return this.high!=0?o+33:o+1};Ce.isSafeInteger=function(){var t=this.high>>21;return t?this.unsigned?!1:t===-1&&!(this.low===0&&this.high===-2097152):!0};Ce.isZero=function(){return this.high===0&&this.low===0};Ce.eqz=Ce.isZero;Ce.isNegative=function(){return!this.unsigned&&this.high<0};Ce.isPositive=function(){return this.unsigned||this.high>=0};Ce.isOdd=function(){return(this.low&1)===1};Ce.isEven=function(){return(this.low&1)===0};Ce.equals=function(t){return ko(t)||(t=Rr(t)),this.unsigned!==t.unsigned&&this.high>>>31===1&&t.high>>>31===1?!1:this.high===t.high&&this.low===t.low};Ce.eq=Ce.equals;Ce.notEquals=function(t){return!this.eq(t)};Ce.neq=Ce.notEquals;Ce.ne=Ce.notEquals;Ce.lessThan=function(t){return this.comp(t)<0};Ce.lt=Ce.lessThan;Ce.lessThanOrEqual=function(t){return this.comp(t)<=0};Ce.lte=Ce.lessThanOrEqual;Ce.le=Ce.lessThanOrEqual;Ce.greaterThan=function(t){return this.comp(t)>0};Ce.gt=Ce.greaterThan;Ce.greaterThanOrEqual=function(t){return this.comp(t)>=0};Ce.gte=Ce.greaterThanOrEqual;Ce.ge=Ce.greaterThanOrEqual;Ce.compare=function(t){if(ko(t)||(t=Rr(t)),this.eq(t))return 0;var o=this.isNegative(),n=t.isNegative();return o&&!n?-1:!o&&n?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1};Ce.comp=Ce.compare;Ce.negate=function(){return!this.unsigned&&this.eq(Ko)?Ko:this.not().add(oc)};Ce.neg=Ce.negate;Ce.add=function(t){ko(t)||(t=Rr(t));var o=this.high>>>16,n=this.high&65535,i=this.low>>>16,r=this.low&65535,a=t.high>>>16,s=t.high&65535,c=t.low>>>16,d=t.low&65535,h=0,g=0,A=0,v=0;return v+=r+d,A+=v>>>16,v&=65535,A+=i+c,g+=A>>>16,A&=65535,g+=n+s,h+=g>>>16,g&=65535,h+=o+a,h&=65535,Vt(A<<16|v,h<<16|g,this.unsigned)};Ce.subtract=function(t){return ko(t)||(t=Rr(t)),this.add(t.neg())};Ce.sub=Ce.subtract;Ce.multiply=function(t){if(this.isZero())return this;if(ko(t)||(t=Rr(t)),xr){var o=xr.mul(this.low,this.high,t.low,t.high);return Vt(o,xr.get_high(),this.unsigned)}if(t.isZero())return this.unsigned?$i:Jr;if(this.eq(Ko))return t.isOdd()?Ko:Jr;if(t.eq(Ko))return this.isOdd()?Ko:Jr;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(h_)&&t.lt(h_))return Ir(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=this.high&65535,r=this.low>>>16,a=this.low&65535,s=t.high>>>16,c=t.high&65535,d=t.low>>>16,h=t.low&65535,g=0,A=0,v=0,S=0;return S+=a*h,v+=S>>>16,S&=65535,v+=r*h,A+=v>>>16,v&=65535,v+=a*d,A+=v>>>16,v&=65535,A+=i*h,g+=A>>>16,A&=65535,A+=r*d,g+=A>>>16,A&=65535,A+=a*c,g+=A>>>16,A&=65535,g+=n*h+i*d+r*c+a*s,g&=65535,Vt(v<<16|S,g<<16|A,this.unsigned)};Ce.mul=Ce.multiply;Ce.divide=function(t){if(ko(t)||(t=Rr(t)),t.isZero())throw Error("division by zero");if(xr){if(!this.unsigned&&this.high===-2147483648&&t.low===-1&&t.high===-1)return this;var o=(this.unsigned?xr.div_u:xr.div_s)(this.low,this.high,t.low,t.high);return Vt(o,xr.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?$i:Jr;var n,i,r;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return $i;if(t.gt(this.shru(1)))return E_;r=$i}else{if(this.eq(Ko)){if(t.eq(oc)||t.eq(Dy))return Ko;if(t.eq(Ko))return oc;var a=this.shr(1);return n=a.div(t).shl(1),n.eq(Jr)?t.isNegative()?oc:Dy:(i=this.sub(t.mul(n)),r=n.add(i.div(t)),r)}else if(t.eq(Ko))return this.unsigned?$i:Jr;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();r=Jr}for(i=this;i.gte(t);){n=Math.max(1,Math.floor(i.toNumber()/t.toNumber()));for(var s=Math.ceil(Math.log(n)/Math.LN2),c=s<=48?1:hp(2,s-48),d=Ir(n),h=d.mul(t);h.isNegative()||h.gt(i);)n-=c,d=Ir(n,this.unsigned),h=d.mul(t);d.isZero()&&(d=oc),r=r.add(d),i=i.sub(h)}return r};Ce.div=Ce.divide;Ce.modulo=function(t){if(ko(t)||(t=Rr(t)),xr){var o=(this.unsigned?xr.rem_u:xr.rem_s)(this.low,this.high,t.low,t.high);return Vt(o,xr.get_high(),this.unsigned)}return this.sub(this.div(t).mul(t))};Ce.mod=Ce.modulo;Ce.rem=Ce.modulo;Ce.not=function(){return Vt(~this.low,~this.high,this.unsigned)};Ce.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32};Ce.clz=Ce.countLeadingZeros;Ce.countTrailingZeros=function(){return this.low?l_(this.low):l_(this.high)+32};Ce.ctz=Ce.countTrailingZeros;Ce.and=function(t){return ko(t)||(t=Rr(t)),Vt(this.low&t.low,this.high&t.high,this.unsigned)};Ce.or=function(t){return ko(t)||(t=Rr(t)),Vt(this.low|t.low,this.high|t.high,this.unsigned)};Ce.xor=function(t){return ko(t)||(t=Rr(t)),Vt(this.low^t.low,this.high^t.high,this.unsigned)};Ce.shiftLeft=function(t){return ko(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?Vt(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):Vt(0,this.low<<t-32,this.unsigned)};Ce.shl=Ce.shiftLeft;Ce.shiftRight=function(t){return ko(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?Vt(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):Vt(this.high>>t-32,this.high>=0?0:-1,this.unsigned)};Ce.shr=Ce.shiftRight;Ce.shiftRightUnsigned=function(t){return ko(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?Vt(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):t===32?Vt(this.high,0,this.unsigned):Vt(this.high>>>t-32,0,this.unsigned)};Ce.shru=Ce.shiftRightUnsigned;Ce.shr_u=Ce.shiftRightUnsigned;Ce.rotateLeft=function(t){var o;return ko(t)&&(t=t.toInt()),(t&=63)===0?this:t===32?Vt(this.high,this.low,this.unsigned):t<32?(o=32-t,Vt(this.low<<t|this.high>>>o,this.high<<t|this.low>>>o,this.unsigned)):(t-=32,o=32-t,Vt(this.high<<t|this.low>>>o,this.low<<t|this.high>>>o,this.unsigned))};Ce.rotl=Ce.rotateLeft;Ce.rotateRight=function(t){var o;return ko(t)&&(t=t.toInt()),(t&=63)===0?this:t===32?Vt(this.high,this.low,this.unsigned):t<32?(o=32-t,Vt(this.high<<o|this.low>>>t,this.low<<o|this.high>>>t,this.unsigned)):(t-=32,o=32-t,Vt(this.low<<o|this.high>>>t,this.high<<o|this.low>>>t,this.unsigned))};Ce.rotr=Ce.rotateRight;Ce.toSigned=function(){return this.unsigned?Vt(this.low,this.high,!1):this};Ce.toUnsigned=function(){return this.unsigned?this:Vt(this.low,this.high,!0)};Ce.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()};Ce.toBytesLE=function(){var t=this.high,o=this.low;return[o&255,o>>>8&255,o>>>16&255,o>>>24,t&255,t>>>8&255,t>>>16&255,t>>>24]};Ce.toBytesBE=function(){var t=this.high,o=this.low;return[t>>>24,t>>>16&255,t>>>8&255,t&255,o>>>24,o>>>16&255,o>>>8&255,o&255]};cn.fromBytes=function(t,o,n){return n?cn.fromBytesLE(t,o):cn.fromBytesBE(t,o)};cn.fromBytesLE=function(t,o){return new cn(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,o)};cn.fromBytesBE=function(t,o){return new cn(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],o)};typeof BigInt=="function"&&(cn.fromBigInt=function(t,o){var n=Number(BigInt.asIntN(32,t)),i=Number(BigInt.asIntN(32,t>>BigInt(32)));return Vt(n,i,o)},cn.fromValue=function(t,o){return typeof t=="bigint"?fromBigInt(t,o):Rr(t,o)},Ce.toBigInt=function(){var t=BigInt(this.low>>>0),o=BigInt(this.unsigned?this.high>>>0:this.high);return o<<BigInt(32)|t});var jy=cn;var us=ot(ut());function jI(){return{id:"",name:void 0,bodyShape:void 0,skinColor:void 0,hairColor:void 0,eyeColor:void 0,expressionTriggerId:void 0,expressionTriggerTimestamp:void 0,talking:void 0,wearables:[],emotes:[]}}var ic;(function(e){function t(n,i=us.default.Writer.create()){n.id!==""&&i.uint32(10).string(n.id),n.name!==void 0&&i.uint32(18).string(n.name),n.bodyShape!==void 0&&i.uint32(26).string(n.bodyShape),n.skinColor!==void 0&&nn.encode(n.skinColor,i.uint32(34).fork()).ldelim(),n.hairColor!==void 0&&nn.encode(n.hairColor,i.uint32(42).fork()).ldelim(),n.eyeColor!==void 0&&nn.encode(n.eyeColor,i.uint32(50).fork()).ldelim(),n.expressionTriggerId!==void 0&&i.uint32(58).string(n.expressionTriggerId),n.expressionTriggerTimestamp!==void 0&&i.uint32(64).int64(n.expressionTriggerTimestamp),n.talking!==void 0&&i.uint32(72).bool(n.talking);for(let r of n.wearables)i.uint32(82).string(r);for(let r of n.emotes)i.uint32(90).string(r);return i}e.encode=t;function o(n,i){let r=n instanceof us.default.Reader?n:us.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=jI();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;s.id=r.string();continue;case 2:if(c!==18)break;s.name=r.string();continue;case 3:if(c!==26)break;s.bodyShape=r.string();continue;case 4:if(c!==34)break;s.skinColor=nn.decode(r,r.uint32());continue;case 5:if(c!==42)break;s.hairColor=nn.decode(r,r.uint32());continue;case 6:if(c!==50)break;s.eyeColor=nn.decode(r,r.uint32());continue;case 7:if(c!==58)break;s.expressionTriggerId=r.string();continue;case 8:if(c!==64)break;s.expressionTriggerTimestamp=VI(r.int64());continue;case 9:if(c!==72)break;s.talking=r.bool();continue;case 10:if(c!==82)break;s.wearables.push(r.string());continue;case 11:if(c!==90)break;s.emotes.push(r.string());continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(ic||(ic={}));var WI=(()=>{if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof global<"u")return global;throw"Unable to locate global object"})();function VI(e){if(e.gt(Number.MAX_SAFE_INTEGER))throw new WI.Error("Value is larger than Number.MAX_SAFE_INTEGER");return e.toNumber()}us.default.util.Long!==jy&&(us.default.util.Long=jy,us.default.configure());var __={COMPONENT_ID:1080,serialize(e,t){let o=ic.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize(e){return ic.decode(e.buffer(),e.remainingBytes())},create(){return ic.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAvatarShape"}};var yp=ot(ut());var S_;(function(e){e[e.BM_NONE=0]="BM_NONE",e[e.BM_X=1]="BM_X",e[e.BM_Y=2]="BM_Y",e[e.BM_Z=4]="BM_Z",e[e.BM_ALL=7]="BM_ALL"})(S_||(S_={}));function HI(){return{billboardMode:void 0}}var ac;(function(e){function t(n,i=yp.default.Writer.create()){return n.billboardMode!==void 0&&i.uint32(8).int32(n.billboardMode),i}e.encode=t;function o(n,i){let r=n instanceof yp.default.Reader?n:yp.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=HI();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==8)break;s.billboardMode=r.int32();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(ac||(ac={}));var b_={COMPONENT_ID:1090,serialize(e,t){let o=ac.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize(e){return ac.decode(e.buffer(),e.remainingBytes())},create(){return ac.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBBillboard"}};var Ep=ot(ut());function $I(){return{mode:0}}var sc;(function(e){function t(n,i=Ep.default.Writer.create()){return n.mode!==0&&i.uint32(8).int32(n.mode),i}e.encode=t;function o(n,i){let r=n instanceof Ep.default.Reader?n:Ep.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=$I();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==8)break;s.mode=r.int32();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(sc||(sc={}));var v_={COMPONENT_ID:1072,serialize(e,t){let o=sc.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize(e){return sc.decode(e.buffer(),e.remainingBytes())},create(){return sc.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBCameraMode"}};var gp=ot(ut());function GI(){return{area:void 0,mode:0}}var uc;(function(e){function t(n,i=gp.default.Writer.create()){return n.area!==void 0&&xt.encode(n.area,i.uint32(10).fork()).ldelim(),n.mode!==0&&i.uint32(16).int32(n.mode),i}e.encode=t;function o(n,i){let r=n instanceof gp.default.Reader?n:gp.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=GI();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;s.area=xt.decode(r,r.uint32());continue;case 2:if(c!==16)break;s.mode=r.int32();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(uc||(uc={}));var A_={COMPONENT_ID:1071,serialize(e,t){let o=uc.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize(e){return uc.decode(e.buffer(),e.remainingBytes())},create(){return uc.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBCameraModeArea"}};var Tp=ot(ut());function qI(){return{frameNumber:0,totalRuntime:0,tickNumber:0}}var lc;(function(e){function t(n,i=Tp.default.Writer.create()){return n.frameNumber!==0&&i.uint32(8).uint32(n.frameNumber),n.totalRuntime!==0&&i.uint32(21).float(n.totalRuntime),n.tickNumber!==0&&i.uint32(24).uint32(n.tickNumber),i}e.encode=t;function o(n,i){let r=n instanceof Tp.default.Reader?n:Tp.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=qI();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==8)break;s.frameNumber=r.uint32();continue;case 2:if(c!==21)break;s.totalRuntime=r.float();continue;case 3:if(c!==24)break;s.tickNumber=r.uint32();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(lc||(lc={}));var w_={COMPONENT_ID:1048,serialize(e,t){let o=lc.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize(e){return lc.decode(e.buffer(),e.remainingBytes())},create(){return lc.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBEngineInfo"}};var _p=ot(ut());function YI(){return{src:"",visibleMeshesCollisionMask:void 0,invisibleMeshesCollisionMask:void 0}}var fc;(function(e){function t(n,i=_p.default.Writer.create()){return n.src!==""&&i.uint32(10).string(n.src),n.visibleMeshesCollisionMask!==void 0&&i.uint32(32).uint32(n.visibleMeshesCollisionMask),n.invisibleMeshesCollisionMask!==void 0&&i.uint32(40).uint32(n.invisibleMeshesCollisionMask),i}e.encode=t;function o(n,i){let r=n instanceof _p.default.Reader?n:_p.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=YI();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;s.src=r.string();continue;case 4:if(c!==32)break;s.visibleMeshesCollisionMask=r.uint32();continue;case 5:if(c!==40)break;s.invisibleMeshesCollisionMask=r.uint32();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(fc||(fc={}));var x_={COMPONENT_ID:1041,serialize(e,t){let o=fc.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize(e){return fc.decode(e.buffer(),e.remainingBytes())},create(){return fc.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBGltfContainer"}};var Sp=ot(ut());function JI(){return{currentState:0}}var dc;(function(e){function t(n,i=Sp.default.Writer.create()){return n.currentState!==0&&i.uint32(8).int32(n.currentState),i}e.encode=t;function o(n,i){let r=n instanceof Sp.default.Reader?n:Sp.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=JI();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==8)break;s.currentState=r.int32();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(dc||(dc={}));var I_={COMPONENT_ID:1049,serialize(e,t){let o=dc.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize(e){return dc.decode(e.buffer(),e.remainingBytes())},create(){return dc.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBGltfContainerLoadingState"}};var ls=ot(ut());function QI(){return{mode:void 0}}var pc;(function(e){function t(n,i=ls.default.Writer.create()){switch(n.mode?.$case){case"standard":bp.encode(n.mode.standard,i.uint32(10).fork()).ldelim();break}return i}e.encode=t;function o(n,i){let r=n instanceof ls.default.Reader?n:ls.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=QI();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;s.mode={$case:"standard",standard:bp.decode(r,r.uint32())};continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(pc||(pc={}));function KI(){return{disableAll:void 0,disableWalk:void 0,disableJog:void 0,disableRun:void 0,disableJump:void 0,disableEmote:void 0}}var bp;(function(e){function t(n,i=ls.default.Writer.create()){return n.disableAll!==void 0&&i.uint32(8).bool(n.disableAll),n.disableWalk!==void 0&&i.uint32(16).bool(n.disableWalk),n.disableJog!==void 0&&i.uint32(24).bool(n.disableJog),n.disableRun!==void 0&&i.uint32(32).bool(n.disableRun),n.disableJump!==void 0&&i.uint32(40).bool(n.disableJump),n.disableEmote!==void 0&&i.uint32(48).bool(n.disableEmote),i}e.encode=t;function o(n,i){let r=n instanceof ls.default.Reader?n:ls.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=KI();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==8)break;s.disableAll=r.bool();continue;case 2:if(c!==16)break;s.disableWalk=r.bool();continue;case 3:if(c!==24)break;s.disableJog=r.bool();continue;case 4:if(c!==32)break;s.disableRun=r.bool();continue;case 5:if(c!==40)break;s.disableJump=r.bool();continue;case 6:if(c!==48)break;s.disableEmote=r.bool();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(bp||(bp={}));var R_={COMPONENT_ID:1078,serialize(e,t){let o=pc.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize(e){return pc.decode(e.buffer(),e.remainingBytes())},create(){return pc.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBInputModifier"}};var vp=ot(ut());function XI(){return{virtualCameraEntity:void 0}}var mc;(function(e){function t(n,i=vp.default.Writer.create()){return n.virtualCameraEntity!==void 0&&i.uint32(8).uint32(n.virtualCameraEntity),i}e.encode=t;function o(n,i){let r=n instanceof vp.default.Reader?n:vp.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=XI();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==8)break;s.virtualCameraEntity=r.uint32();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(mc||(mc={}));var N_={COMPONENT_ID:1075,serialize(e,t){let o=mc.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize(e){return mc.decode(e.buffer(),e.remainingBytes())},create(){return mc.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBMainCamera"}};var Ti=ot(ut());var sr=ot(ut());var O_;(function(e){e[e.TWM_REPEAT=0]="TWM_REPEAT",e[e.TWM_CLAMP=1]="TWM_CLAMP",e[e.TWM_MIRROR=2]="TWM_MIRROR"})(O_||(O_={}));var k_;(function(e){e[e.TFM_POINT=0]="TFM_POINT",e[e.TFM_BILINEAR=1]="TFM_BILINEAR",e[e.TFM_TRILINEAR=2]="TFM_TRILINEAR"})(k_||(k_={}));function ZI(){return{src:"",wrapMode:void 0,filterMode:void 0,offset:void 0,tiling:void 0}}var Ap;(function(e){function t(n,i=sr.default.Writer.create()){return n.src!==""&&i.uint32(10).string(n.src),n.wrapMode!==void 0&&i.uint32(16).int32(n.wrapMode),n.filterMode!==void 0&&i.uint32(24).int32(n.filterMode),n.offset!==void 0&&wr.encode(n.offset,i.uint32(34).fork()).ldelim(),n.tiling!==void 0&&wr.encode(n.tiling,i.uint32(42).fork()).ldelim(),i}e.encode=t;function o(n,i){let r=n instanceof sr.default.Reader?n:sr.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=ZI();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;s.src=r.string();continue;case 2:if(c!==16)break;s.wrapMode=r.int32();continue;case 3:if(c!==24)break;s.filterMode=r.int32();continue;case 4:if(c!==34)break;s.offset=wr.decode(r,r.uint32());continue;case 5:if(c!==42)break;s.tiling=wr.decode(r,r.uint32());continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(Ap||(Ap={}));function eR(){return{userId:"",wrapMode:void 0,filterMode:void 0}}var wp;(function(e){function t(n,i=sr.default.Writer.create()){return n.userId!==""&&i.uint32(10).string(n.userId),n.wrapMode!==void 0&&i.uint32(16).int32(n.wrapMode),n.filterMode!==void 0&&i.uint32(24).int32(n.filterMode),i}e.encode=t;function o(n,i){let r=n instanceof sr.default.Reader?n:sr.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=eR();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;s.userId=r.string();continue;case 2:if(c!==16)break;s.wrapMode=r.int32();continue;case 3:if(c!==24)break;s.filterMode=r.int32();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(wp||(wp={}));function tR(){return{videoPlayerEntity:0,wrapMode:void 0,filterMode:void 0}}var xp;(function(e){function t(n,i=sr.default.Writer.create()){return n.videoPlayerEntity!==0&&i.uint32(8).uint32(n.videoPlayerEntity),n.wrapMode!==void 0&&i.uint32(16).int32(n.wrapMode),n.filterMode!==void 0&&i.uint32(24).int32(n.filterMode),i}e.encode=t;function o(n,i){let r=n instanceof sr.default.Reader?n:sr.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=tR();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==8)break;s.videoPlayerEntity=r.uint32();continue;case 2:if(c!==16)break;s.wrapMode=r.int32();continue;case 3:if(c!==24)break;s.filterMode=r.int32();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(xp||(xp={}));function nR(){return{tex:void 0}}var mo;(function(e){function t(n,i=sr.default.Writer.create()){switch(n.tex?.$case){case"texture":Ap.encode(n.tex.texture,i.uint32(10).fork()).ldelim();break;case"avatarTexture":wp.encode(n.tex.avatarTexture,i.uint32(18).fork()).ldelim();break;case"videoTexture":xp.encode(n.tex.videoTexture,i.uint32(26).fork()).ldelim();break}return i}e.encode=t;function o(n,i){let r=n instanceof sr.default.Reader?n:sr.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=nR();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;s.tex={$case:"texture",texture:Ap.decode(r,r.uint32())};continue;case 2:if(c!==18)break;s.tex={$case:"avatarTexture",avatarTexture:wp.decode(r,r.uint32())};continue;case 3:if(c!==26)break;s.tex={$case:"videoTexture",videoTexture:xp.decode(r,r.uint32())};continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(mo||(mo={}));var C_;(function(e){e[e.MTM_OPAQUE=0]="MTM_OPAQUE",e[e.MTM_ALPHA_TEST=1]="MTM_ALPHA_TEST",e[e.MTM_ALPHA_BLEND=2]="MTM_ALPHA_BLEND",e[e.MTM_ALPHA_TEST_AND_ALPHA_BLEND=3]="MTM_ALPHA_TEST_AND_ALPHA_BLEND",e[e.MTM_AUTO=4]="MTM_AUTO"})(C_||(C_={}));function oR(){return{material:void 0}}var hc;(function(e){function t(n,i=Ti.default.Writer.create()){switch(n.material?.$case){case"unlit":Ip.encode(n.material.unlit,i.uint32(10).fork()).ldelim();break;case"pbr":Rp.encode(n.material.pbr,i.uint32(18).fork()).ldelim();break}return i}e.encode=t;function o(n,i){let r=n instanceof Ti.default.Reader?n:Ti.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=oR();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;s.material={$case:"unlit",unlit:Ip.decode(r,r.uint32())};continue;case 2:if(c!==18)break;s.material={$case:"pbr",pbr:Rp.decode(r,r.uint32())};continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(hc||(hc={}));function rR(){return{texture:void 0,alphaTest:void 0,castShadows:void 0,diffuseColor:void 0,alphaTexture:void 0}}var Ip;(function(e){function t(n,i=Ti.default.Writer.create()){return n.texture!==void 0&&mo.encode(n.texture,i.uint32(10).fork()).ldelim(),n.alphaTest!==void 0&&i.uint32(21).float(n.alphaTest),n.castShadows!==void 0&&i.uint32(24).bool(n.castShadows),n.diffuseColor!==void 0&&Wt.encode(n.diffuseColor,i.uint32(34).fork()).ldelim(),n.alphaTexture!==void 0&&mo.encode(n.alphaTexture,i.uint32(42).fork()).ldelim(),i}e.encode=t;function o(n,i){let r=n instanceof Ti.default.Reader?n:Ti.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=rR();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;s.texture=mo.decode(r,r.uint32());continue;case 2:if(c!==21)break;s.alphaTest=r.float();continue;case 3:if(c!==24)break;s.castShadows=r.bool();continue;case 4:if(c!==34)break;s.diffuseColor=Wt.decode(r,r.uint32());continue;case 5:if(c!==42)break;s.alphaTexture=mo.decode(r,r.uint32());continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(Ip||(Ip={}));function iR(){return{texture:void 0,alphaTest:void 0,castShadows:void 0,alphaTexture:void 0,emissiveTexture:void 0,bumpTexture:void 0,albedoColor:void 0,emissiveColor:void 0,reflectivityColor:void 0,transparencyMode:void 0,metallic:void 0,roughness:void 0,specularIntensity:void 0,emissiveIntensity:void 0,directIntensity:void 0}}var Rp;(function(e){function t(n,i=Ti.default.Writer.create()){return n.texture!==void 0&&mo.encode(n.texture,i.uint32(10).fork()).ldelim(),n.alphaTest!==void 0&&i.uint32(21).float(n.alphaTest),n.castShadows!==void 0&&i.uint32(24).bool(n.castShadows),n.alphaTexture!==void 0&&mo.encode(n.alphaTexture,i.uint32(34).fork()).ldelim(),n.emissiveTexture!==void 0&&mo.encode(n.emissiveTexture,i.uint32(42).fork()).ldelim(),n.bumpTexture!==void 0&&mo.encode(n.bumpTexture,i.uint32(50).fork()).ldelim(),n.albedoColor!==void 0&&Wt.encode(n.albedoColor,i.uint32(58).fork()).ldelim(),n.emissiveColor!==void 0&&nn.encode(n.emissiveColor,i.uint32(66).fork()).ldelim(),n.reflectivityColor!==void 0&&nn.encode(n.reflectivityColor,i.uint32(74).fork()).ldelim(),n.transparencyMode!==void 0&&i.uint32(80).int32(n.transparencyMode),n.metallic!==void 0&&i.uint32(93).float(n.metallic),n.roughness!==void 0&&i.uint32(101).float(n.roughness),n.specularIntensity!==void 0&&i.uint32(117).float(n.specularIntensity),n.emissiveIntensity!==void 0&&i.uint32(125).float(n.emissiveIntensity),n.directIntensity!==void 0&&i.uint32(133).float(n.directIntensity),i}e.encode=t;function o(n,i){let r=n instanceof Ti.default.Reader?n:Ti.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=iR();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;s.texture=mo.decode(r,r.uint32());continue;case 2:if(c!==21)break;s.alphaTest=r.float();continue;case 3:if(c!==24)break;s.castShadows=r.bool();continue;case 4:if(c!==34)break;s.alphaTexture=mo.decode(r,r.uint32());continue;case 5:if(c!==42)break;s.emissiveTexture=mo.decode(r,r.uint32());continue;case 6:if(c!==50)break;s.bumpTexture=mo.decode(r,r.uint32());continue;case 7:if(c!==58)break;s.albedoColor=Wt.decode(r,r.uint32());continue;case 8:if(c!==66)break;s.emissiveColor=nn.decode(r,r.uint32());continue;case 9:if(c!==74)break;s.reflectivityColor=nn.decode(r,r.uint32());continue;case 10:if(c!==80)break;s.transparencyMode=r.int32();continue;case 11:if(c!==93)break;s.metallic=r.float();continue;case 12:if(c!==101)break;s.roughness=r.float();continue;case 14:if(c!==117)break;s.specularIntensity=r.float();continue;case 15:if(c!==125)break;s.emissiveIntensity=r.float();continue;case 16:if(c!==133)break;s.directIntensity=r.float();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(Rp||(Rp={}));var M_={COMPONENT_ID:1017,serialize(e,t){let o=hc.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize(e){return hc.decode(e.buffer(),e.remainingBytes())},create(){return hc.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBMaterial"}};var Co=ot(ut());var P_;(function(e){e[e.CL_NONE=0]="CL_NONE",e[e.CL_POINTER=1]="CL_POINTER",e[e.CL_PHYSICS=2]="CL_PHYSICS",e[e.CL_RESERVED1=4]="CL_RESERVED1",e[e.CL_RESERVED2=8]="CL_RESERVED2",e[e.CL_RESERVED3=16]="CL_RESERVED3",e[e.CL_RESERVED4=32]="CL_RESERVED4",e[e.CL_RESERVED5=64]="CL_RESERVED5",e[e.CL_RESERVED6=128]="CL_RESERVED6",e[e.CL_CUSTOM1=256]="CL_CUSTOM1",e[e.CL_CUSTOM2=512]="CL_CUSTOM2",e[e.CL_CUSTOM3=1024]="CL_CUSTOM3",e[e.CL_CUSTOM4=2048]="CL_CUSTOM4",e[e.CL_CUSTOM5=4096]="CL_CUSTOM5",e[e.CL_CUSTOM6=8192]="CL_CUSTOM6",e[e.CL_CUSTOM7=16384]="CL_CUSTOM7",e[e.CL_CUSTOM8=32768]="CL_CUSTOM8"})(P_||(P_={}));function aR(){return{collisionMask:void 0,mesh:void 0}}var yc;(function(e){function t(n,i=Co.default.Writer.create()){switch(n.collisionMask!==void 0&&i.uint32(8).uint32(n.collisionMask),n.mesh?.$case){case"box":Np.encode(n.mesh.box,i.uint32(18).fork()).ldelim();break;case"sphere":Cp.encode(n.mesh.sphere,i.uint32(26).fork()).ldelim();break;case"cylinder":Op.encode(n.mesh.cylinder,i.uint32(34).fork()).ldelim();break;case"plane":kp.encode(n.mesh.plane,i.uint32(42).fork()).ldelim();break}return i}e.encode=t;function o(n,i){let r=n instanceof Co.default.Reader?n:Co.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=aR();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==8)break;s.collisionMask=r.uint32();continue;case 2:if(c!==18)break;s.mesh={$case:"box",box:Np.decode(r,r.uint32())};continue;case 3:if(c!==26)break;s.mesh={$case:"sphere",sphere:Cp.decode(r,r.uint32())};continue;case 4:if(c!==34)break;s.mesh={$case:"cylinder",cylinder:Op.decode(r,r.uint32())};continue;case 5:if(c!==42)break;s.mesh={$case:"plane",plane:kp.decode(r,r.uint32())};continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(yc||(yc={}));function sR(){return{}}var Np;(function(e){function t(n,i=Co.default.Writer.create()){return i}e.encode=t;function o(n,i){let r=n instanceof Co.default.Reader?n:Co.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=sR();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(Np||(Np={}));function cR(){return{radiusTop:void 0,radiusBottom:void 0}}var Op;(function(e){function t(n,i=Co.default.Writer.create()){return n.radiusTop!==void 0&&i.uint32(13).float(n.radiusTop),n.radiusBottom!==void 0&&i.uint32(21).float(n.radiusBottom),i}e.encode=t;function o(n,i){let r=n instanceof Co.default.Reader?n:Co.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=cR();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==13)break;s.radiusTop=r.float();continue;case 2:if(c!==21)break;s.radiusBottom=r.float();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(Op||(Op={}));function uR(){return{}}var kp;(function(e){function t(n,i=Co.default.Writer.create()){return i}e.encode=t;function o(n,i){let r=n instanceof Co.default.Reader?n:Co.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=uR();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(kp||(kp={}));function lR(){return{}}var Cp;(function(e){function t(n,i=Co.default.Writer.create()){return i}e.encode=t;function o(n,i){let r=n instanceof Co.default.Reader?n:Co.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=lR();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(Cp||(Cp={}));var z_={COMPONENT_ID:1019,serialize(e,t){let o=yc.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize(e){return yc.decode(e.buffer(),e.remainingBytes())},create(){return yc.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBMeshCollider"}};var Mo=ot(ut());function fR(){return{mesh:void 0}}var Ec;(function(e){function t(n,i=Mo.default.Writer.create()){switch(n.mesh?.$case){case"box":Mp.encode(n.mesh.box,i.uint32(10).fork()).ldelim();break;case"sphere":Up.encode(n.mesh.sphere,i.uint32(18).fork()).ldelim();break;case"cylinder":Pp.encode(n.mesh.cylinder,i.uint32(26).fork()).ldelim();break;case"plane":zp.encode(n.mesh.plane,i.uint32(34).fork()).ldelim();break}return i}e.encode=t;function o(n,i){let r=n instanceof Mo.default.Reader?n:Mo.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=fR();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;s.mesh={$case:"box",box:Mp.decode(r,r.uint32())};continue;case 2:if(c!==18)break;s.mesh={$case:"sphere",sphere:Up.decode(r,r.uint32())};continue;case 3:if(c!==26)break;s.mesh={$case:"cylinder",cylinder:Pp.decode(r,r.uint32())};continue;case 4:if(c!==34)break;s.mesh={$case:"plane",plane:zp.decode(r,r.uint32())};continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(Ec||(Ec={}));function dR(){return{uvs:[]}}var Mp;(function(e){function t(n,i=Mo.default.Writer.create()){i.uint32(10).fork();for(let r of n.uvs)i.float(r);return i.ldelim(),i}e.encode=t;function o(n,i){let r=n instanceof Mo.default.Reader?n:Mo.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=dR();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c===13){s.uvs.push(r.float());continue}if(c===10){let d=r.uint32()+r.pos;for(;r.pos<d;)s.uvs.push(r.float());continue}break}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(Mp||(Mp={}));function pR(){return{radiusTop:void 0,radiusBottom:void 0}}var Pp;(function(e){function t(n,i=Mo.default.Writer.create()){return n.radiusTop!==void 0&&i.uint32(13).float(n.radiusTop),n.radiusBottom!==void 0&&i.uint32(21).float(n.radiusBottom),i}e.encode=t;function o(n,i){let r=n instanceof Mo.default.Reader?n:Mo.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=pR();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==13)break;s.radiusTop=r.float();continue;case 2:if(c!==21)break;s.radiusBottom=r.float();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(Pp||(Pp={}));function mR(){return{uvs:[]}}var zp;(function(e){function t(n,i=Mo.default.Writer.create()){i.uint32(10).fork();for(let r of n.uvs)i.float(r);return i.ldelim(),i}e.encode=t;function o(n,i){let r=n instanceof Mo.default.Reader?n:Mo.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=mR();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c===13){s.uvs.push(r.float());continue}if(c===10){let d=r.uint32()+r.pos;for(;r.pos<d;)s.uvs.push(r.float());continue}break}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(zp||(zp={}));function hR(){return{}}var Up;(function(e){function t(n,i=Mo.default.Writer.create()){return i}e.encode=t;function o(n,i){let r=n instanceof Mo.default.Reader?n:Mo.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=hR();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(Up||(Up={}));var U_={COMPONENT_ID:1018,serialize(e,t){let o=Ec.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize(e){return Ec.decode(e.buffer(),e.remainingBytes())},create(){return Ec.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBMeshRenderer"}};var Bp=ot(ut());var B_;(function(e){e[e.NFT_CLASSIC=0]="NFT_CLASSIC",e[e.NFT_BAROQUE_ORNAMENT=1]="NFT_BAROQUE_ORNAMENT",e[e.NFT_DIAMOND_ORNAMENT=2]="NFT_DIAMOND_ORNAMENT",e[e.NFT_MINIMAL_WIDE=3]="NFT_MINIMAL_WIDE",e[e.NFT_MINIMAL_GREY=4]="NFT_MINIMAL_GREY",e[e.NFT_BLOCKY=5]="NFT_BLOCKY",e[e.NFT_GOLD_EDGES=6]="NFT_GOLD_EDGES",e[e.NFT_GOLD_CARVED=7]="NFT_GOLD_CARVED",e[e.NFT_GOLD_WIDE=8]="NFT_GOLD_WIDE",e[e.NFT_GOLD_ROUNDED=9]="NFT_GOLD_ROUNDED",e[e.NFT_METAL_MEDIUM=10]="NFT_METAL_MEDIUM",e[e.NFT_METAL_WIDE=11]="NFT_METAL_WIDE",e[e.NFT_METAL_SLIM=12]="NFT_METAL_SLIM",e[e.NFT_METAL_ROUNDED=13]="NFT_METAL_ROUNDED",e[e.NFT_PINS=14]="NFT_PINS",e[e.NFT_MINIMAL_BLACK=15]="NFT_MINIMAL_BLACK",e[e.NFT_MINIMAL_WHITE=16]="NFT_MINIMAL_WHITE",e[e.NFT_TAPE=17]="NFT_TAPE",e[e.NFT_WOOD_SLIM=18]="NFT_WOOD_SLIM",e[e.NFT_WOOD_WIDE=19]="NFT_WOOD_WIDE",e[e.NFT_WOOD_TWIGS=20]="NFT_WOOD_TWIGS",e[e.NFT_CANVAS=21]="NFT_CANVAS",e[e.NFT_NONE=22]="NFT_NONE"})(B_||(B_={}));function yR(){return{urn:"",style:void 0,color:void 0}}var gc;(function(e){function t(n,i=Bp.default.Writer.create()){return n.urn!==""&&i.uint32(10).string(n.urn),n.style!==void 0&&i.uint32(16).int32(n.style),n.color!==void 0&&nn.encode(n.color,i.uint32(26).fork()).ldelim(),i}e.encode=t;function o(n,i){let r=n instanceof Bp.default.Reader?n:Bp.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=yR();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;s.urn=r.string();continue;case 2:if(c!==16)break;s.style=r.int32();continue;case 3:if(c!==26)break;s.color=nn.decode(r,r.uint32());continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(gc||(gc={}));var L_={COMPONENT_ID:1040,serialize(e,t){let o=gc.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize(e){return gc.decode(e.buffer(),e.remainingBytes())},create(){return gc.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBNftShape"}};var Lp=ot(ut());function ER(){return{address:"",isGuest:!1}}var Tc;(function(e){function t(n,i=Lp.default.Writer.create()){return n.address!==""&&i.uint32(10).string(n.address),n.isGuest===!0&&i.uint32(24).bool(n.isGuest),i}e.encode=t;function o(n,i){let r=n instanceof Lp.default.Reader?n:Lp.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=ER();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;s.address=r.string();continue;case 3:if(c!==24)break;s.isGuest=r.bool();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(Tc||(Tc={}));var D_={COMPONENT_ID:1089,serialize(e,t){let o=Tc.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize(e){return Tc.decode(e.buffer(),e.remainingBytes())},create(){return Tc.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBPlayerIdentityData"}};var _i=ot(ut());function gR(){return{pointerEvents:[]}}var _c;(function(e){function t(n,i=_i.default.Writer.create()){for(let r of n.pointerEvents)Fp.encode(r,i.uint32(10).fork()).ldelim();return i}e.encode=t;function o(n,i){let r=n instanceof _i.default.Reader?n:_i.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=gR();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;s.pointerEvents.push(Fp.decode(r,r.uint32()));continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(_c||(_c={}));function TR(){return{button:void 0,hoverText:void 0,maxDistance:void 0,showFeedback:void 0,showHighlight:void 0}}var Dp;(function(e){function t(n,i=_i.default.Writer.create()){return n.button!==void 0&&i.uint32(8).int32(n.button),n.hoverText!==void 0&&i.uint32(18).string(n.hoverText),n.maxDistance!==void 0&&i.uint32(29).float(n.maxDistance),n.showFeedback!==void 0&&i.uint32(32).bool(n.showFeedback),n.showHighlight!==void 0&&i.uint32(40).bool(n.showHighlight),i}e.encode=t;function o(n,i){let r=n instanceof _i.default.Reader?n:_i.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=TR();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==8)break;s.button=r.int32();continue;case 2:if(c!==18)break;s.hoverText=r.string();continue;case 3:if(c!==29)break;s.maxDistance=r.float();continue;case 4:if(c!==32)break;s.showFeedback=r.bool();continue;case 5:if(c!==40)break;s.showHighlight=r.bool();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(Dp||(Dp={}));function _R(){return{eventType:0,eventInfo:void 0}}var Fp;(function(e){function t(n,i=_i.default.Writer.create()){return n.eventType!==0&&i.uint32(8).int32(n.eventType),n.eventInfo!==void 0&&Dp.encode(n.eventInfo,i.uint32(18).fork()).ldelim(),i}e.encode=t;function o(n,i){let r=n instanceof _i.default.Reader?n:_i.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=_R();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==8)break;s.eventType=r.int32();continue;case 2:if(c!==18)break;s.eventInfo=Dp.decode(r,r.uint32());continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(Fp||(Fp={}));var F_={COMPONENT_ID:1062,serialize(e,t){let o=_c.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize(e){return _c.decode(e.buffer(),e.remainingBytes())},create(){return _c.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBPointerEvents"}};var Wp=ot(ut());var jp=ot(ut());function SR(){return{position:void 0,globalOrigin:void 0,direction:void 0,normalHit:void 0,length:0,meshName:void 0,entityId:void 0}}var ga;(function(e){function t(n,i=jp.default.Writer.create()){return n.position!==void 0&&xt.encode(n.position,i.uint32(10).fork()).ldelim(),n.globalOrigin!==void 0&&xt.encode(n.globalOrigin,i.uint32(18).fork()).ldelim(),n.direction!==void 0&&xt.encode(n.direction,i.uint32(26).fork()).ldelim(),n.normalHit!==void 0&&xt.encode(n.normalHit,i.uint32(34).fork()).ldelim(),n.length!==0&&i.uint32(45).float(n.length),n.meshName!==void 0&&i.uint32(50).string(n.meshName),n.entityId!==void 0&&i.uint32(56).uint32(n.entityId),i}e.encode=t;function o(n,i){let r=n instanceof jp.default.Reader?n:jp.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=SR();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;s.position=xt.decode(r,r.uint32());continue;case 2:if(c!==18)break;s.globalOrigin=xt.decode(r,r.uint32());continue;case 3:if(c!==26)break;s.direction=xt.decode(r,r.uint32());continue;case 4:if(c!==34)break;s.normalHit=xt.decode(r,r.uint32());continue;case 5:if(c!==45)break;s.length=r.float();continue;case 6:if(c!==50)break;s.meshName=r.string();continue;case 7:if(c!==56)break;s.entityId=r.uint32();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(ga||(ga={}));function bR(){return{button:0,hit:void 0,state:0,timestamp:0,analog:void 0,tickNumber:0}}var Sc;(function(e){function t(n,i=Wp.default.Writer.create()){return n.button!==0&&i.uint32(8).int32(n.button),n.hit!==void 0&&ga.encode(n.hit,i.uint32(18).fork()).ldelim(),n.state!==0&&i.uint32(32).int32(n.state),n.timestamp!==0&&i.uint32(40).uint32(n.timestamp),n.analog!==void 0&&i.uint32(53).float(n.analog),n.tickNumber!==0&&i.uint32(56).uint32(n.tickNumber),i}e.encode=t;function o(n,i){let r=n instanceof Wp.default.Reader?n:Wp.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=bR();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==8)break;s.button=r.int32();continue;case 2:if(c!==18)break;s.hit=ga.decode(r,r.uint32());continue;case 4:if(c!==32)break;s.state=r.int32();continue;case 5:if(c!==40)break;s.timestamp=r.uint32();continue;case 6:if(c!==53)break;s.analog=r.float();continue;case 7:if(c!==56)break;s.tickNumber=r.uint32();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(Sc||(Sc={}));var j_={COMPONENT_ID:1063,serialize(e,t){let o=Sc.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize(e){return Sc.decode(e.buffer(),e.remainingBytes())},create(){return Sc.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBPointerEventsResult"}};var Vp=ot(ut());function vR(){return{isPointerLocked:!1}}var bc;(function(e){function t(n,i=Vp.default.Writer.create()){return n.isPointerLocked===!0&&i.uint32(8).bool(n.isPointerLocked),i}e.encode=t;function o(n,i){let r=n instanceof Vp.default.Reader?n:Vp.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=vR();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==8)break;s.isPointerLocked=r.bool();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(bc||(bc={}));var W_={COMPONENT_ID:1074,serialize(e,t){let o=bc.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize(e){return bc.decode(e.buffer(),e.remainingBytes())},create(){return bc.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBPointerLock"}};var Hp=ot(ut());var V_;(function(e){e[e.RQT_HIT_FIRST=0]="RQT_HIT_FIRST",e[e.RQT_QUERY_ALL=1]="RQT_QUERY_ALL",e[e.RQT_NONE=2]="RQT_NONE"})(V_||(V_={}));function AR(){return{timestamp:void 0,originOffset:void 0,direction:void 0,maxDistance:0,queryType:0,continuous:void 0,collisionMask:void 0}}var vc;(function(e){function t(n,i=Hp.default.Writer.create()){switch(n.timestamp!==void 0&&i.uint32(8).uint32(n.timestamp),n.originOffset!==void 0&&xt.encode(n.originOffset,i.uint32(18).fork()).ldelim(),n.direction?.$case){case"localDirection":xt.encode(n.direction.localDirection,i.uint32(50).fork()).ldelim();break;case"globalDirection":xt.encode(n.direction.globalDirection,i.uint32(26).fork()).ldelim();break;case"globalTarget":xt.encode(n.direction.globalTarget,i.uint32(58).fork()).ldelim();break;case"targetEntity":i.uint32(80).uint32(n.direction.targetEntity);break}return n.maxDistance!==0&&i.uint32(37).float(n.maxDistance),n.queryType!==0&&i.uint32(40).int32(n.queryType),n.continuous!==void 0&&i.uint32(64).bool(n.continuous),n.collisionMask!==void 0&&i.uint32(72).uint32(n.collisionMask),i}e.encode=t;function o(n,i){let r=n instanceof Hp.default.Reader?n:Hp.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=AR();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==8)break;s.timestamp=r.uint32();continue;case 2:if(c!==18)break;s.originOffset=xt.decode(r,r.uint32());continue;case 6:if(c!==50)break;s.direction={$case:"localDirection",localDirection:xt.decode(r,r.uint32())};continue;case 3:if(c!==26)break;s.direction={$case:"globalDirection",globalDirection:xt.decode(r,r.uint32())};continue;case 7:if(c!==58)break;s.direction={$case:"globalTarget",globalTarget:xt.decode(r,r.uint32())};continue;case 10:if(c!==80)break;s.direction={$case:"targetEntity",targetEntity:r.uint32()};continue;case 4:if(c!==37)break;s.maxDistance=r.float();continue;case 5:if(c!==40)break;s.queryType=r.int32();continue;case 8:if(c!==64)break;s.continuous=r.bool();continue;case 9:if(c!==72)break;s.collisionMask=r.uint32();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(vc||(vc={}));var H_={COMPONENT_ID:1067,serialize(e,t){let o=vc.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize(e){return vc.decode(e.buffer(),e.remainingBytes())},create(){return vc.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBRaycast"}};var $p=ot(ut());function wR(){return{timestamp:void 0,globalOrigin:void 0,direction:void 0,hits:[],tickNumber:0}}var Ac;(function(e){function t(n,i=$p.default.Writer.create()){n.timestamp!==void 0&&i.uint32(8).uint32(n.timestamp),n.globalOrigin!==void 0&&xt.encode(n.globalOrigin,i.uint32(18).fork()).ldelim(),n.direction!==void 0&&xt.encode(n.direction,i.uint32(26).fork()).ldelim();for(let r of n.hits)ga.encode(r,i.uint32(34).fork()).ldelim();return n.tickNumber!==0&&i.uint32(40).uint32(n.tickNumber),i}e.encode=t;function o(n,i){let r=n instanceof $p.default.Reader?n:$p.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=wR();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==8)break;s.timestamp=r.uint32();continue;case 2:if(c!==18)break;s.globalOrigin=xt.decode(r,r.uint32());continue;case 3:if(c!==26)break;s.direction=xt.decode(r,r.uint32());continue;case 4:if(c!==34)break;s.hits.push(ga.decode(r,r.uint32()));continue;case 5:if(c!==40)break;s.tickNumber=r.uint32();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(Ac||(Ac={}));var $_={COMPONENT_ID:1068,serialize(e,t){let o=Ac.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize(e){return Ac.decode(e.buffer(),e.remainingBytes())},create(){return Ac.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBRaycastResult"}};var Gp=ot(ut());function xR(){return{baseUrl:"",realmName:"",networkId:0,commsAdapter:"",isPreview:!1,room:void 0,isConnectedSceneRoom:void 0}}var wc;(function(e){function t(n,i=Gp.default.Writer.create()){return n.baseUrl!==""&&i.uint32(10).string(n.baseUrl),n.realmName!==""&&i.uint32(18).string(n.realmName),n.networkId!==0&&i.uint32(24).int32(n.networkId),n.commsAdapter!==""&&i.uint32(34).string(n.commsAdapter),n.isPreview===!0&&i.uint32(40).bool(n.isPreview),n.room!==void 0&&i.uint32(50).string(n.room),n.isConnectedSceneRoom!==void 0&&i.uint32(56).bool(n.isConnectedSceneRoom),i}e.encode=t;function o(n,i){let r=n instanceof Gp.default.Reader?n:Gp.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=xR();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;s.baseUrl=r.string();continue;case 2:if(c!==18)break;s.realmName=r.string();continue;case 3:if(c!==24)break;s.networkId=r.int32();continue;case 4:if(c!==34)break;s.commsAdapter=r.string();continue;case 5:if(c!==40)break;s.isPreview=r.bool();continue;case 6:if(c!==50)break;s.room=r.string();continue;case 7:if(c!==56)break;s.isConnectedSceneRoom=r.bool();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(wc||(wc={}));var G_={COMPONENT_ID:1106,serialize(e,t){let o=wc.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize(e){return wc.decode(e.buffer(),e.remainingBytes())},create(){return wc.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBRealmInfo"}};var qp=ot(ut());function IR(){return{text:"",font:void 0,fontSize:void 0,fontAutoSize:void 0,textAlign:void 0,width:void 0,height:void 0,paddingTop:void 0,paddingRight:void 0,paddingBottom:void 0,paddingLeft:void 0,lineSpacing:void 0,lineCount:void 0,textWrapping:void 0,shadowBlur:void 0,shadowOffsetX:void 0,shadowOffsetY:void 0,outlineWidth:void 0,shadowColor:void 0,outlineColor:void 0,textColor:void 0}}var xc;(function(e){function t(n,i=qp.default.Writer.create()){return n.text!==""&&i.uint32(10).string(n.text),n.font!==void 0&&i.uint32(16).int32(n.font),n.fontSize!==void 0&&i.uint32(29).float(n.fontSize),n.fontAutoSize!==void 0&&i.uint32(32).bool(n.fontAutoSize),n.textAlign!==void 0&&i.uint32(40).int32(n.textAlign),n.width!==void 0&&i.uint32(53).float(n.width),n.height!==void 0&&i.uint32(61).float(n.height),n.paddingTop!==void 0&&i.uint32(69).float(n.paddingTop),n.paddingRight!==void 0&&i.uint32(77).float(n.paddingRight),n.paddingBottom!==void 0&&i.uint32(85).float(n.paddingBottom),n.paddingLeft!==void 0&&i.uint32(93).float(n.paddingLeft),n.lineSpacing!==void 0&&i.uint32(101).float(n.lineSpacing),n.lineCount!==void 0&&i.uint32(104).int32(n.lineCount),n.textWrapping!==void 0&&i.uint32(112).bool(n.textWrapping),n.shadowBlur!==void 0&&i.uint32(125).float(n.shadowBlur),n.shadowOffsetX!==void 0&&i.uint32(133).float(n.shadowOffsetX),n.shadowOffsetY!==void 0&&i.uint32(141).float(n.shadowOffsetY),n.outlineWidth!==void 0&&i.uint32(149).float(n.outlineWidth),n.shadowColor!==void 0&&nn.encode(n.shadowColor,i.uint32(154).fork()).ldelim(),n.outlineColor!==void 0&&nn.encode(n.outlineColor,i.uint32(162).fork()).ldelim(),n.textColor!==void 0&&Wt.encode(n.textColor,i.uint32(170).fork()).ldelim(),i}e.encode=t;function o(n,i){let r=n instanceof qp.default.Reader?n:qp.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=IR();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;s.text=r.string();continue;case 2:if(c!==16)break;s.font=r.int32();continue;case 3:if(c!==29)break;s.fontSize=r.float();continue;case 4:if(c!==32)break;s.fontAutoSize=r.bool();continue;case 5:if(c!==40)break;s.textAlign=r.int32();continue;case 6:if(c!==53)break;s.width=r.float();continue;case 7:if(c!==61)break;s.height=r.float();continue;case 8:if(c!==69)break;s.paddingTop=r.float();continue;case 9:if(c!==77)break;s.paddingRight=r.float();continue;case 10:if(c!==85)break;s.paddingBottom=r.float();continue;case 11:if(c!==93)break;s.paddingLeft=r.float();continue;case 12:if(c!==101)break;s.lineSpacing=r.float();continue;case 13:if(c!==104)break;s.lineCount=r.int32();continue;case 14:if(c!==112)break;s.textWrapping=r.bool();continue;case 15:if(c!==125)break;s.shadowBlur=r.float();continue;case 16:if(c!==133)break;s.shadowOffsetX=r.float();continue;case 17:if(c!==141)break;s.shadowOffsetY=r.float();continue;case 18:if(c!==149)break;s.outlineWidth=r.float();continue;case 19:if(c!==154)break;s.shadowColor=nn.decode(r,r.uint32());continue;case 20:if(c!==162)break;s.outlineColor=nn.decode(r,r.uint32());continue;case 21:if(c!==170)break;s.textColor=Wt.decode(r,r.uint32());continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(xc||(xc={}));var q_={COMPONENT_ID:1030,serialize(e,t){let o=xc.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize(e){return xc.decode(e.buffer(),e.remainingBytes())},create(){return xc.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBTextShape"}};var Po=ot(ut());var Y_;(function(e){e[e.TMT_OFFSET=0]="TMT_OFFSET",e[e.TMT_TILING=1]="TMT_TILING"})(Y_||(Y_={}));var fl;(function(e){e[e.EF_LINEAR=0]="EF_LINEAR",e[e.EF_EASEINQUAD=1]="EF_EASEINQUAD",e[e.EF_EASEOUTQUAD=2]="EF_EASEOUTQUAD",e[e.EF_EASEQUAD=3]="EF_EASEQUAD",e[e.EF_EASEINSINE=4]="EF_EASEINSINE",e[e.EF_EASEOUTSINE=5]="EF_EASEOUTSINE",e[e.EF_EASESINE=6]="EF_EASESINE",e[e.EF_EASEINEXPO=7]="EF_EASEINEXPO",e[e.EF_EASEOUTEXPO=8]="EF_EASEOUTEXPO",e[e.EF_EASEEXPO=9]="EF_EASEEXPO",e[e.EF_EASEINELASTIC=10]="EF_EASEINELASTIC",e[e.EF_EASEOUTELASTIC=11]="EF_EASEOUTELASTIC",e[e.EF_EASEELASTIC=12]="EF_EASEELASTIC",e[e.EF_EASEINBOUNCE=13]="EF_EASEINBOUNCE",e[e.EF_EASEOUTBOUNCE=14]="EF_EASEOUTBOUNCE",e[e.EF_EASEBOUNCE=15]="EF_EASEBOUNCE",e[e.EF_EASEINCUBIC=16]="EF_EASEINCUBIC",e[e.EF_EASEOUTCUBIC=17]="EF_EASEOUTCUBIC",e[e.EF_EASECUBIC=18]="EF_EASECUBIC",e[e.EF_EASEINQUART=19]="EF_EASEINQUART",e[e.EF_EASEOUTQUART=20]="EF_EASEOUTQUART",e[e.EF_EASEQUART=21]="EF_EASEQUART",e[e.EF_EASEINQUINT=22]="EF_EASEINQUINT",e[e.EF_EASEOUTQUINT=23]="EF_EASEOUTQUINT",e[e.EF_EASEQUINT=24]="EF_EASEQUINT",e[e.EF_EASEINCIRC=25]="EF_EASEINCIRC",e[e.EF_EASEOUTCIRC=26]="EF_EASEOUTCIRC",e[e.EF_EASECIRC=27]="EF_EASECIRC",e[e.EF_EASEINBACK=28]="EF_EASEINBACK",e[e.EF_EASEOUTBACK=29]="EF_EASEOUTBACK",e[e.EF_EASEBACK=30]="EF_EASEBACK"})(fl||(fl={}));function RR(){return{duration:0,easingFunction:0,mode:void 0,playing:void 0,currentTime:void 0}}var Gi;(function(e){function t(n,i=Po.default.Writer.create()){switch(n.duration!==0&&i.uint32(13).float(n.duration),n.easingFunction!==0&&i.uint32(16).int32(n.easingFunction),n.mode?.$case){case"move":Yp.encode(n.mode.move,i.uint32(26).fork()).ldelim();break;case"rotate":Jp.encode(n.mode.rotate,i.uint32(34).fork()).ldelim();break;case"scale":Qp.encode(n.mode.scale,i.uint32(42).fork()).ldelim();break;case"textureMove":Kp.encode(n.mode.textureMove,i.uint32(66).fork()).ldelim();break}return n.playing!==void 0&&i.uint32(48).bool(n.playing),n.currentTime!==void 0&&i.uint32(61).float(n.currentTime),i}e.encode=t;function o(n,i){let r=n instanceof Po.default.Reader?n:Po.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=RR();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==13)break;s.duration=r.float();continue;case 2:if(c!==16)break;s.easingFunction=r.int32();continue;case 3:if(c!==26)break;s.mode={$case:"move",move:Yp.decode(r,r.uint32())};continue;case 4:if(c!==34)break;s.mode={$case:"rotate",rotate:Jp.decode(r,r.uint32())};continue;case 5:if(c!==42)break;s.mode={$case:"scale",scale:Qp.decode(r,r.uint32())};continue;case 8:if(c!==66)break;s.mode={$case:"textureMove",textureMove:Kp.decode(r,r.uint32())};continue;case 6:if(c!==48)break;s.playing=r.bool();continue;case 7:if(c!==61)break;s.currentTime=r.float();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(Gi||(Gi={}));function NR(){return{start:void 0,end:void 0,faceDirection:void 0}}var Yp;(function(e){function t(n,i=Po.default.Writer.create()){return n.start!==void 0&&xt.encode(n.start,i.uint32(10).fork()).ldelim(),n.end!==void 0&&xt.encode(n.end,i.uint32(18).fork()).ldelim(),n.faceDirection!==void 0&&i.uint32(24).bool(n.faceDirection),i}e.encode=t;function o(n,i){let r=n instanceof Po.default.Reader?n:Po.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=NR();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;s.start=xt.decode(r,r.uint32());continue;case 2:if(c!==18)break;s.end=xt.decode(r,r.uint32());continue;case 3:if(c!==24)break;s.faceDirection=r.bool();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(Yp||(Yp={}));function OR(){return{start:void 0,end:void 0}}var Jp;(function(e){function t(n,i=Po.default.Writer.create()){return n.start!==void 0&&ss.encode(n.start,i.uint32(10).fork()).ldelim(),n.end!==void 0&&ss.encode(n.end,i.uint32(18).fork()).ldelim(),i}e.encode=t;function o(n,i){let r=n instanceof Po.default.Reader?n:Po.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=OR();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;s.start=ss.decode(r,r.uint32());continue;case 2:if(c!==18)break;s.end=ss.decode(r,r.uint32());continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(Jp||(Jp={}));function kR(){return{start:void 0,end:void 0}}var Qp;(function(e){function t(n,i=Po.default.Writer.create()){return n.start!==void 0&&xt.encode(n.start,i.uint32(10).fork()).ldelim(),n.end!==void 0&&xt.encode(n.end,i.uint32(18).fork()).ldelim(),i}e.encode=t;function o(n,i){let r=n instanceof Po.default.Reader?n:Po.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=kR();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;s.start=xt.decode(r,r.uint32());continue;case 2:if(c!==18)break;s.end=xt.decode(r,r.uint32());continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(Qp||(Qp={}));function CR(){return{start:void 0,end:void 0,movementType:void 0}}var Kp;(function(e){function t(n,i=Po.default.Writer.create()){return n.start!==void 0&&wr.encode(n.start,i.uint32(10).fork()).ldelim(),n.end!==void 0&&wr.encode(n.end,i.uint32(18).fork()).ldelim(),n.movementType!==void 0&&i.uint32(24).int32(n.movementType),i}e.encode=t;function o(n,i){let r=n instanceof Po.default.Reader?n:Po.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=CR();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;s.start=wr.decode(r,r.uint32());continue;case 2:if(c!==18)break;s.end=wr.decode(r,r.uint32());continue;case 3:if(c!==24)break;s.movementType=r.int32();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(Kp||(Kp={}));var J_={COMPONENT_ID:1102,serialize(e,t){let o=Gi.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize(e){return Gi.decode(e.buffer(),e.remainingBytes())},create(){return Gi.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBTween"}};var Xp=ot(ut());var Q_;(function(e){e[e.TL_RESTART=0]="TL_RESTART",e[e.TL_YOYO=1]="TL_YOYO"})(Q_||(Q_={}));function MR(){return{sequence:[],loop:void 0}}var Ic;(function(e){function t(n,i=Xp.default.Writer.create()){for(let r of n.sequence)Gi.encode(r,i.uint32(10).fork()).ldelim();return n.loop!==void 0&&i.uint32(16).int32(n.loop),i}e.encode=t;function o(n,i){let r=n instanceof Xp.default.Reader?n:Xp.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=MR();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;s.sequence.push(Gi.decode(r,r.uint32()));continue;case 2:if(c!==16)break;s.loop=r.int32();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(Ic||(Ic={}));var K_={COMPONENT_ID:1104,serialize(e,t){let o=Ic.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize(e){return Ic.decode(e.buffer(),e.remainingBytes())},create(){return Ic.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBTweenSequence"}};var Zp=ot(ut());var X_;(function(e){e[e.TS_ACTIVE=0]="TS_ACTIVE",e[e.TS_COMPLETED=1]="TS_COMPLETED",e[e.TS_PAUSED=2]="TS_PAUSED"})(X_||(X_={}));function PR(){return{state:0,currentTime:0}}var Rc;(function(e){function t(n,i=Zp.default.Writer.create()){return n.state!==0&&i.uint32(8).int32(n.state),n.currentTime!==0&&i.uint32(21).float(n.currentTime),i}e.encode=t;function o(n,i){let r=n instanceof Zp.default.Reader?n:Zp.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=PR();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==8)break;s.state=r.int32();continue;case 2:if(c!==21)break;s.currentTime=r.float();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(Rc||(Rc={}));var Z_={COMPONENT_ID:1103,serialize(e,t){let o=Rc.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize(e){return Rc.decode(e.buffer(),e.remainingBytes())},create(){return Rc.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBTweenState"}};var em=ot(ut());var fs=ot(ut());function zR(){return{top:0,left:0,right:0,bottom:0}}var Ta;(function(e){function t(n,i=fs.default.Writer.create()){return n.top!==0&&i.uint32(13).float(n.top),n.left!==0&&i.uint32(21).float(n.left),n.right!==0&&i.uint32(29).float(n.right),n.bottom!==0&&i.uint32(37).float(n.bottom),i}e.encode=t;function o(n,i){let r=n instanceof fs.default.Reader?n:fs.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=zR();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==13)break;s.top=r.float();continue;case 2:if(c!==21)break;s.left=r.float();continue;case 3:if(c!==29)break;s.right=r.float();continue;case 4:if(c!==37)break;s.bottom=r.float();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(Ta||(Ta={}));function UR(){return{x:0,y:0,width:0,height:0}}var e3;(function(e){function t(n,i=fs.default.Writer.create()){return n.x!==0&&i.uint32(13).float(n.x),n.y!==0&&i.uint32(21).float(n.y),n.width!==0&&i.uint32(29).float(n.width),n.height!==0&&i.uint32(37).float(n.height),i}e.encode=t;function o(n,i){let r=n instanceof fs.default.Reader?n:fs.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=UR();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==13)break;s.x=r.float();continue;case 2:if(c!==21)break;s.y=r.float();continue;case 3:if(c!==29)break;s.width=r.float();continue;case 4:if(c!==37)break;s.height=r.float();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(e3||(e3={}));var t3;(function(e){e[e.NINE_SLICES=0]="NINE_SLICES",e[e.CENTER=1]="CENTER",e[e.STRETCH=2]="STRETCH"})(t3||(t3={}));function BR(){return{color:void 0,texture:void 0,textureMode:0,textureSlices:void 0,uvs:[]}}var Nc;(function(e){function t(n,i=em.default.Writer.create()){n.color!==void 0&&Wt.encode(n.color,i.uint32(10).fork()).ldelim(),n.texture!==void 0&&mo.encode(n.texture,i.uint32(18).fork()).ldelim(),n.textureMode!==0&&i.uint32(24).int32(n.textureMode),n.textureSlices!==void 0&&Ta.encode(n.textureSlices,i.uint32(34).fork()).ldelim(),i.uint32(42).fork();for(let r of n.uvs)i.float(r);return i.ldelim(),i}e.encode=t;function o(n,i){let r=n instanceof em.default.Reader?n:em.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=BR();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;s.color=Wt.decode(r,r.uint32());continue;case 2:if(c!==18)break;s.texture=mo.decode(r,r.uint32());continue;case 3:if(c!==24)break;s.textureMode=r.int32();continue;case 4:if(c!==34)break;s.textureSlices=Ta.decode(r,r.uint32());continue;case 5:if(c===45){s.uvs.push(r.float());continue}if(c===42){let d=r.uint32()+r.pos;for(;r.pos<d;)s.uvs.push(r.float());continue}break}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(Nc||(Nc={}));var n3={COMPONENT_ID:1053,serialize(e,t){let o=Nc.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize(e){return Nc.decode(e.buffer(),e.remainingBytes())},create(){return Nc.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiBackground"}};var tm=ot(ut());function LR(){return{devicePixelRatio:0,width:0,height:0,interactableArea:void 0}}var Oc;(function(e){function t(n,i=tm.default.Writer.create()){return n.devicePixelRatio!==0&&i.uint32(13).float(n.devicePixelRatio),n.width!==0&&i.uint32(16).int32(n.width),n.height!==0&&i.uint32(24).int32(n.height),n.interactableArea!==void 0&&Ta.encode(n.interactableArea,i.uint32(34).fork()).ldelim(),i}e.encode=t;function o(n,i){let r=n instanceof tm.default.Reader?n:tm.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=LR();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==13)break;s.devicePixelRatio=r.float();continue;case 2:if(c!==16)break;s.width=r.int32();continue;case 3:if(c!==24)break;s.height=r.int32();continue;case 4:if(c!==34)break;s.interactableArea=Ta.decode(r,r.uint32());continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(Oc||(Oc={}));var o3={COMPONENT_ID:1054,serialize(e,t){let o=Oc.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize(e){return Oc.decode(e.buffer(),e.remainingBytes())},create(){return Oc.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiCanvasInformation"}};var nm=ot(ut());function DR(){return{acceptEmpty:!1,emptyLabel:void 0,options:[],selectedIndex:void 0,disabled:!1,color:void 0,textAlign:void 0,font:void 0,fontSize:void 0}}var kc;(function(e){function t(n,i=nm.default.Writer.create()){n.acceptEmpty===!0&&i.uint32(8).bool(n.acceptEmpty),n.emptyLabel!==void 0&&i.uint32(18).string(n.emptyLabel);for(let r of n.options)i.uint32(26).string(r);return n.selectedIndex!==void 0&&i.uint32(32).int32(n.selectedIndex),n.disabled===!0&&i.uint32(40).bool(n.disabled),n.color!==void 0&&Wt.encode(n.color,i.uint32(50).fork()).ldelim(),n.textAlign!==void 0&&i.uint32(80).int32(n.textAlign),n.font!==void 0&&i.uint32(88).int32(n.font),n.fontSize!==void 0&&i.uint32(96).int32(n.fontSize),i}e.encode=t;function o(n,i){let r=n instanceof nm.default.Reader?n:nm.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=DR();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==8)break;s.acceptEmpty=r.bool();continue;case 2:if(c!==18)break;s.emptyLabel=r.string();continue;case 3:if(c!==26)break;s.options.push(r.string());continue;case 4:if(c!==32)break;s.selectedIndex=r.int32();continue;case 5:if(c!==40)break;s.disabled=r.bool();continue;case 6:if(c!==50)break;s.color=Wt.decode(r,r.uint32());continue;case 10:if(c!==80)break;s.textAlign=r.int32();continue;case 11:if(c!==88)break;s.font=r.int32();continue;case 12:if(c!==96)break;s.fontSize=r.int32();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(kc||(kc={}));var r3={COMPONENT_ID:1094,serialize(e,t){let o=kc.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize(e){return kc.decode(e.buffer(),e.remainingBytes())},create(){return kc.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiDropdown"}};var om=ot(ut());function FR(){return{value:0}}var Cc;(function(e){function t(n,i=om.default.Writer.create()){return n.value!==0&&i.uint32(8).int32(n.value),i}e.encode=t;function o(n,i){let r=n instanceof om.default.Reader?n:om.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=FR();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==8)break;s.value=r.int32();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(Cc||(Cc={}));var i3={COMPONENT_ID:1096,serialize(e,t){let o=Cc.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize(e){return Cc.decode(e.buffer(),e.remainingBytes())},create(){return Cc.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiDropdownResult"}};var rm=ot(ut());function jR(){return{placeholder:"",color:void 0,placeholderColor:void 0,disabled:!1,textAlign:void 0,font:void 0,fontSize:void 0,value:void 0}}var Mc;(function(e){function t(n,i=rm.default.Writer.create()){return n.placeholder!==""&&i.uint32(10).string(n.placeholder),n.color!==void 0&&Wt.encode(n.color,i.uint32(18).fork()).ldelim(),n.placeholderColor!==void 0&&Wt.encode(n.placeholderColor,i.uint32(26).fork()).ldelim(),n.disabled===!0&&i.uint32(32).bool(n.disabled),n.textAlign!==void 0&&i.uint32(80).int32(n.textAlign),n.font!==void 0&&i.uint32(88).int32(n.font),n.fontSize!==void 0&&i.uint32(96).int32(n.fontSize),n.value!==void 0&&i.uint32(106).string(n.value),i}e.encode=t;function o(n,i){let r=n instanceof rm.default.Reader?n:rm.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=jR();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;s.placeholder=r.string();continue;case 2:if(c!==18)break;s.color=Wt.decode(r,r.uint32());continue;case 3:if(c!==26)break;s.placeholderColor=Wt.decode(r,r.uint32());continue;case 4:if(c!==32)break;s.disabled=r.bool();continue;case 10:if(c!==80)break;s.textAlign=r.int32();continue;case 11:if(c!==88)break;s.font=r.int32();continue;case 12:if(c!==96)break;s.fontSize=r.int32();continue;case 13:if(c!==106)break;s.value=r.string();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(Mc||(Mc={}));var a3={COMPONENT_ID:1093,serialize(e,t){let o=Mc.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize(e){return Mc.decode(e.buffer(),e.remainingBytes())},create(){return Mc.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiInput"}};var im=ot(ut());function WR(){return{value:"",isSubmit:void 0}}var Pc;(function(e){function t(n,i=im.default.Writer.create()){return n.value!==""&&i.uint32(10).string(n.value),n.isSubmit!==void 0&&i.uint32(16).bool(n.isSubmit),i}e.encode=t;function o(n,i){let r=n instanceof im.default.Reader?n:im.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=WR();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;s.value=r.string();continue;case 2:if(c!==16)break;s.isSubmit=r.bool();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(Pc||(Pc={}));var s3={COMPONENT_ID:1095,serialize(e,t){let o=Pc.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize(e){return Pc.decode(e.buffer(),e.remainingBytes())},create(){return Pc.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiInputResult"}};var am=ot(ut());var c3;(function(e){e[e.TW_WRAP=0]="TW_WRAP",e[e.TW_NO_WRAP=1]="TW_NO_WRAP"})(c3||(c3={}));function VR(){return{value:"",color:void 0,textAlign:void 0,font:void 0,fontSize:void 0,textWrap:void 0}}var zc;(function(e){function t(n,i=am.default.Writer.create()){return n.value!==""&&i.uint32(10).string(n.value),n.color!==void 0&&Wt.encode(n.color,i.uint32(18).fork()).ldelim(),n.textAlign!==void 0&&i.uint32(24).int32(n.textAlign),n.font!==void 0&&i.uint32(32).int32(n.font),n.fontSize!==void 0&&i.uint32(40).int32(n.fontSize),n.textWrap!==void 0&&i.uint32(48).int32(n.textWrap),i}e.encode=t;function o(n,i){let r=n instanceof am.default.Reader?n:am.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=VR();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;s.value=r.string();continue;case 2:if(c!==18)break;s.color=Wt.decode(r,r.uint32());continue;case 3:if(c!==24)break;s.textAlign=r.int32();continue;case 4:if(c!==32)break;s.font=r.int32();continue;case 5:if(c!==40)break;s.fontSize=r.int32();continue;case 6:if(c!==48)break;s.textWrap=r.int32();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(zc||(zc={}));var u3={COMPONENT_ID:1052,serialize(e,t){let o=zc.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize(e){return zc.decode(e.buffer(),e.remainingBytes())},create(){return zc.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiText"}};var sm=ot(ut());var l3;(function(e){e[e.YGPT_RELATIVE=0]="YGPT_RELATIVE",e[e.YGPT_ABSOLUTE=1]="YGPT_ABSOLUTE"})(l3||(l3={}));var f3;(function(e){e[e.YGA_AUTO=0]="YGA_AUTO",e[e.YGA_FLEX_START=1]="YGA_FLEX_START",e[e.YGA_CENTER=2]="YGA_CENTER",e[e.YGA_FLEX_END=3]="YGA_FLEX_END",e[e.YGA_STRETCH=4]="YGA_STRETCH",e[e.YGA_BASELINE=5]="YGA_BASELINE",e[e.YGA_SPACE_BETWEEN=6]="YGA_SPACE_BETWEEN",e[e.YGA_SPACE_AROUND=7]="YGA_SPACE_AROUND"})(f3||(f3={}));var d3;(function(e){e[e.YGU_UNDEFINED=0]="YGU_UNDEFINED",e[e.YGU_POINT=1]="YGU_POINT",e[e.YGU_PERCENT=2]="YGU_PERCENT",e[e.YGU_AUTO=3]="YGU_AUTO"})(d3||(d3={}));var p3;(function(e){e[e.YGFD_ROW=0]="YGFD_ROW",e[e.YGFD_COLUMN=1]="YGFD_COLUMN",e[e.YGFD_COLUMN_REVERSE=2]="YGFD_COLUMN_REVERSE",e[e.YGFD_ROW_REVERSE=3]="YGFD_ROW_REVERSE"})(p3||(p3={}));var m3;(function(e){e[e.YGW_NO_WRAP=0]="YGW_NO_WRAP",e[e.YGW_WRAP=1]="YGW_WRAP",e[e.YGW_WRAP_REVERSE=2]="YGW_WRAP_REVERSE"})(m3||(m3={}));var h3;(function(e){e[e.YGJ_FLEX_START=0]="YGJ_FLEX_START",e[e.YGJ_CENTER=1]="YGJ_CENTER",e[e.YGJ_FLEX_END=2]="YGJ_FLEX_END",e[e.YGJ_SPACE_BETWEEN=3]="YGJ_SPACE_BETWEEN",e[e.YGJ_SPACE_AROUND=4]="YGJ_SPACE_AROUND",e[e.YGJ_SPACE_EVENLY=5]="YGJ_SPACE_EVENLY"})(h3||(h3={}));var y3;(function(e){e[e.YGO_VISIBLE=0]="YGO_VISIBLE",e[e.YGO_HIDDEN=1]="YGO_HIDDEN",e[e.YGO_SCROLL=2]="YGO_SCROLL"})(y3||(y3={}));var E3;(function(e){e[e.YGD_FLEX=0]="YGD_FLEX",e[e.YGD_NONE=1]="YGD_NONE"})(E3||(E3={}));var g3;(function(e){e[e.YGE_LEFT=0]="YGE_LEFT",e[e.YGE_TOP=1]="YGE_TOP",e[e.YGE_RIGHT=2]="YGE_RIGHT",e[e.YGE_BOTTOM=3]="YGE_BOTTOM",e[e.YGE_START=4]="YGE_START",e[e.YGE_END=5]="YGE_END",e[e.YGE_HORIZONTAL=6]="YGE_HORIZONTAL",e[e.YGE_VERTICAL=7]="YGE_VERTICAL",e[e.YGE_ALL=8]="YGE_ALL"})(g3||(g3={}));var T3;(function(e){e[e.PFM_NONE=0]="PFM_NONE",e[e.PFM_BLOCK=1]="PFM_BLOCK"})(T3||(T3={}));function HR(){return{parent:0,rightOf:0,alignContent:void 0,alignItems:void 0,flexWrap:void 0,flexShrink:void 0,positionType:0,alignSelf:0,flexDirection:0,justifyContent:0,overflow:0,display:0,flexBasisUnit:0,flexBasis:0,flexGrow:0,widthUnit:0,width:0,heightUnit:0,height:0,minWidthUnit:0,minWidth:0,minHeightUnit:0,minHeight:0,maxWidthUnit:0,maxWidth:0,maxHeightUnit:0,maxHeight:0,positionLeftUnit:0,positionLeft:0,positionTopUnit:0,positionTop:0,positionRightUnit:0,positionRight:0,positionBottomUnit:0,positionBottom:0,marginLeftUnit:0,marginLeft:0,marginTopUnit:0,marginTop:0,marginRightUnit:0,marginRight:0,marginBottomUnit:0,marginBottom:0,paddingLeftUnit:0,paddingLeft:0,paddingTopUnit:0,paddingTop:0,paddingRightUnit:0,paddingRight:0,paddingBottomUnit:0,paddingBottom:0,pointerFilter:void 0,borderLeftWidthUnit:void 0,borderLeftWidth:void 0,borderTopWidthUnit:void 0,borderTopWidth:void 0,borderRightWidthUnit:void 0,borderRightWidth:void 0,borderBottomWidthUnit:void 0,borderBottomWidth:void 0,borderTopLeftRadiusUnit:void 0,borderTopLeftRadius:void 0,borderTopRightRadiusUnit:void 0,borderTopRightRadius:void 0,borderBottomLeftRadiusUnit:void 0,borderBottomLeftRadius:void 0,borderBottomRightRadiusUnit:void 0,borderBottomRightRadius:void 0,borderTopColor:void 0,borderBottomColor:void 0,borderLeftColor:void 0,borderRightColor:void 0}}var Uc;(function(e){function t(n,i=sm.default.Writer.create()){return n.parent!==0&&i.uint32(8).int32(n.parent),n.rightOf!==0&&i.uint32(16).int32(n.rightOf),n.alignContent!==void 0&&i.uint32(24).int32(n.alignContent),n.alignItems!==void 0&&i.uint32(32).int32(n.alignItems),n.flexWrap!==void 0&&i.uint32(40).int32(n.flexWrap),n.flexShrink!==void 0&&i.uint32(53).float(n.flexShrink),n.positionType!==0&&i.uint32(56).int32(n.positionType),n.alignSelf!==0&&i.uint32(64).int32(n.alignSelf),n.flexDirection!==0&&i.uint32(72).int32(n.flexDirection),n.justifyContent!==0&&i.uint32(80).int32(n.justifyContent),n.overflow!==0&&i.uint32(88).int32(n.overflow),n.display!==0&&i.uint32(96).int32(n.display),n.flexBasisUnit!==0&&i.uint32(104).int32(n.flexBasisUnit),n.flexBasis!==0&&i.uint32(117).float(n.flexBasis),n.flexGrow!==0&&i.uint32(125).float(n.flexGrow),n.widthUnit!==0&&i.uint32(128).int32(n.widthUnit),n.width!==0&&i.uint32(141).float(n.width),n.heightUnit!==0&&i.uint32(144).int32(n.heightUnit),n.height!==0&&i.uint32(157).float(n.height),n.minWidthUnit!==0&&i.uint32(160).int32(n.minWidthUnit),n.minWidth!==0&&i.uint32(173).float(n.minWidth),n.minHeightUnit!==0&&i.uint32(176).int32(n.minHeightUnit),n.minHeight!==0&&i.uint32(189).float(n.minHeight),n.maxWidthUnit!==0&&i.uint32(192).int32(n.maxWidthUnit),n.maxWidth!==0&&i.uint32(205).float(n.maxWidth),n.maxHeightUnit!==0&&i.uint32(208).int32(n.maxHeightUnit),n.maxHeight!==0&&i.uint32(221).float(n.maxHeight),n.positionLeftUnit!==0&&i.uint32(224).int32(n.positionLeftUnit),n.positionLeft!==0&&i.uint32(237).float(n.positionLeft),n.positionTopUnit!==0&&i.uint32(240).int32(n.positionTopUnit),n.positionTop!==0&&i.uint32(253).float(n.positionTop),n.positionRightUnit!==0&&i.uint32(256).int32(n.positionRightUnit),n.positionRight!==0&&i.uint32(269).float(n.positionRight),n.positionBottomUnit!==0&&i.uint32(272).int32(n.positionBottomUnit),n.positionBottom!==0&&i.uint32(285).float(n.positionBottom),n.marginLeftUnit!==0&&i.uint32(288).int32(n.marginLeftUnit),n.marginLeft!==0&&i.uint32(301).float(n.marginLeft),n.marginTopUnit!==0&&i.uint32(304).int32(n.marginTopUnit),n.marginTop!==0&&i.uint32(317).float(n.marginTop),n.marginRightUnit!==0&&i.uint32(320).int32(n.marginRightUnit),n.marginRight!==0&&i.uint32(333).float(n.marginRight),n.marginBottomUnit!==0&&i.uint32(336).int32(n.marginBottomUnit),n.marginBottom!==0&&i.uint32(349).float(n.marginBottom),n.paddingLeftUnit!==0&&i.uint32(352).int32(n.paddingLeftUnit),n.paddingLeft!==0&&i.uint32(365).float(n.paddingLeft),n.paddingTopUnit!==0&&i.uint32(368).int32(n.paddingTopUnit),n.paddingTop!==0&&i.uint32(381).float(n.paddingTop),n.paddingRightUnit!==0&&i.uint32(384).int32(n.paddingRightUnit),n.paddingRight!==0&&i.uint32(397).float(n.paddingRight),n.paddingBottomUnit!==0&&i.uint32(400).int32(n.paddingBottomUnit),n.paddingBottom!==0&&i.uint32(413).float(n.paddingBottom),n.pointerFilter!==void 0&&i.uint32(416).int32(n.pointerFilter),n.borderLeftWidthUnit!==void 0&&i.uint32(424).int32(n.borderLeftWidthUnit),n.borderLeftWidth!==void 0&&i.uint32(437).float(n.borderLeftWidth),n.borderTopWidthUnit!==void 0&&i.uint32(440).int32(n.borderTopWidthUnit),n.borderTopWidth!==void 0&&i.uint32(453).float(n.borderTopWidth),n.borderRightWidthUnit!==void 0&&i.uint32(456).int32(n.borderRightWidthUnit),n.borderRightWidth!==void 0&&i.uint32(469).float(n.borderRightWidth),n.borderBottomWidthUnit!==void 0&&i.uint32(472).int32(n.borderBottomWidthUnit),n.borderBottomWidth!==void 0&&i.uint32(485).float(n.borderBottomWidth),n.borderTopLeftRadiusUnit!==void 0&&i.uint32(488).int32(n.borderTopLeftRadiusUnit),n.borderTopLeftRadius!==void 0&&i.uint32(501).float(n.borderTopLeftRadius),n.borderTopRightRadiusUnit!==void 0&&i.uint32(504).int32(n.borderTopRightRadiusUnit),n.borderTopRightRadius!==void 0&&i.uint32(517).float(n.borderTopRightRadius),n.borderBottomLeftRadiusUnit!==void 0&&i.uint32(520).int32(n.borderBottomLeftRadiusUnit),n.borderBottomLeftRadius!==void 0&&i.uint32(533).float(n.borderBottomLeftRadius),n.borderBottomRightRadiusUnit!==void 0&&i.uint32(536).int32(n.borderBottomRightRadiusUnit),n.borderBottomRightRadius!==void 0&&i.uint32(549).float(n.borderBottomRightRadius),n.borderTopColor!==void 0&&Wt.encode(n.borderTopColor,i.uint32(554).fork()).ldelim(),n.borderBottomColor!==void 0&&Wt.encode(n.borderBottomColor,i.uint32(562).fork()).ldelim(),n.borderLeftColor!==void 0&&Wt.encode(n.borderLeftColor,i.uint32(570).fork()).ldelim(),n.borderRightColor!==void 0&&Wt.encode(n.borderRightColor,i.uint32(578).fork()).ldelim(),i}e.encode=t;function o(n,i){let r=n instanceof sm.default.Reader?n:sm.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=HR();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==8)break;s.parent=r.int32();continue;case 2:if(c!==16)break;s.rightOf=r.int32();continue;case 3:if(c!==24)break;s.alignContent=r.int32();continue;case 4:if(c!==32)break;s.alignItems=r.int32();continue;case 5:if(c!==40)break;s.flexWrap=r.int32();continue;case 6:if(c!==53)break;s.flexShrink=r.float();continue;case 7:if(c!==56)break;s.positionType=r.int32();continue;case 8:if(c!==64)break;s.alignSelf=r.int32();continue;case 9:if(c!==72)break;s.flexDirection=r.int32();continue;case 10:if(c!==80)break;s.justifyContent=r.int32();continue;case 11:if(c!==88)break;s.overflow=r.int32();continue;case 12:if(c!==96)break;s.display=r.int32();continue;case 13:if(c!==104)break;s.flexBasisUnit=r.int32();continue;case 14:if(c!==117)break;s.flexBasis=r.float();continue;case 15:if(c!==125)break;s.flexGrow=r.float();continue;case 16:if(c!==128)break;s.widthUnit=r.int32();continue;case 17:if(c!==141)break;s.width=r.float();continue;case 18:if(c!==144)break;s.heightUnit=r.int32();continue;case 19:if(c!==157)break;s.height=r.float();continue;case 20:if(c!==160)break;s.minWidthUnit=r.int32();continue;case 21:if(c!==173)break;s.minWidth=r.float();continue;case 22:if(c!==176)break;s.minHeightUnit=r.int32();continue;case 23:if(c!==189)break;s.minHeight=r.float();continue;case 24:if(c!==192)break;s.maxWidthUnit=r.int32();continue;case 25:if(c!==205)break;s.maxWidth=r.float();continue;case 26:if(c!==208)break;s.maxHeightUnit=r.int32();continue;case 27:if(c!==221)break;s.maxHeight=r.float();continue;case 28:if(c!==224)break;s.positionLeftUnit=r.int32();continue;case 29:if(c!==237)break;s.positionLeft=r.float();continue;case 30:if(c!==240)break;s.positionTopUnit=r.int32();continue;case 31:if(c!==253)break;s.positionTop=r.float();continue;case 32:if(c!==256)break;s.positionRightUnit=r.int32();continue;case 33:if(c!==269)break;s.positionRight=r.float();continue;case 34:if(c!==272)break;s.positionBottomUnit=r.int32();continue;case 35:if(c!==285)break;s.positionBottom=r.float();continue;case 36:if(c!==288)break;s.marginLeftUnit=r.int32();continue;case 37:if(c!==301)break;s.marginLeft=r.float();continue;case 38:if(c!==304)break;s.marginTopUnit=r.int32();continue;case 39:if(c!==317)break;s.marginTop=r.float();continue;case 40:if(c!==320)break;s.marginRightUnit=r.int32();continue;case 41:if(c!==333)break;s.marginRight=r.float();continue;case 42:if(c!==336)break;s.marginBottomUnit=r.int32();continue;case 43:if(c!==349)break;s.marginBottom=r.float();continue;case 44:if(c!==352)break;s.paddingLeftUnit=r.int32();continue;case 45:if(c!==365)break;s.paddingLeft=r.float();continue;case 46:if(c!==368)break;s.paddingTopUnit=r.int32();continue;case 47:if(c!==381)break;s.paddingTop=r.float();continue;case 48:if(c!==384)break;s.paddingRightUnit=r.int32();continue;case 49:if(c!==397)break;s.paddingRight=r.float();continue;case 50:if(c!==400)break;s.paddingBottomUnit=r.int32();continue;case 51:if(c!==413)break;s.paddingBottom=r.float();continue;case 52:if(c!==416)break;s.pointerFilter=r.int32();continue;case 53:if(c!==424)break;s.borderLeftWidthUnit=r.int32();continue;case 54:if(c!==437)break;s.borderLeftWidth=r.float();continue;case 55:if(c!==440)break;s.borderTopWidthUnit=r.int32();continue;case 56:if(c!==453)break;s.borderTopWidth=r.float();continue;case 57:if(c!==456)break;s.borderRightWidthUnit=r.int32();continue;case 58:if(c!==469)break;s.borderRightWidth=r.float();continue;case 59:if(c!==472)break;s.borderBottomWidthUnit=r.int32();continue;case 60:if(c!==485)break;s.borderBottomWidth=r.float();continue;case 61:if(c!==488)break;s.borderTopLeftRadiusUnit=r.int32();continue;case 62:if(c!==501)break;s.borderTopLeftRadius=r.float();continue;case 63:if(c!==504)break;s.borderTopRightRadiusUnit=r.int32();continue;case 64:if(c!==517)break;s.borderTopRightRadius=r.float();continue;case 65:if(c!==520)break;s.borderBottomLeftRadiusUnit=r.int32();continue;case 66:if(c!==533)break;s.borderBottomLeftRadius=r.float();continue;case 67:if(c!==536)break;s.borderBottomRightRadiusUnit=r.int32();continue;case 68:if(c!==549)break;s.borderBottomRightRadius=r.float();continue;case 69:if(c!==554)break;s.borderTopColor=Wt.decode(r,r.uint32());continue;case 70:if(c!==562)break;s.borderBottomColor=Wt.decode(r,r.uint32());continue;case 71:if(c!==570)break;s.borderLeftColor=Wt.decode(r,r.uint32());continue;case 72:if(c!==578)break;s.borderRightColor=Wt.decode(r,r.uint32());continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(Uc||(Uc={}));var _3={COMPONENT_ID:1050,serialize(e,t){let o=Uc.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize(e){return Uc.decode(e.buffer(),e.remainingBytes())},create(){return Uc.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiTransform"}};var cm=ot(ut());var S3;(function(e){e[e.VS_NONE=0]="VS_NONE",e[e.VS_ERROR=1]="VS_ERROR",e[e.VS_LOADING=2]="VS_LOADING",e[e.VS_READY=3]="VS_READY",e[e.VS_PLAYING=4]="VS_PLAYING",e[e.VS_BUFFERING=5]="VS_BUFFERING",e[e.VS_SEEKING=6]="VS_SEEKING",e[e.VS_PAUSED=7]="VS_PAUSED"})(S3||(S3={}));function $R(){return{timestamp:0,tickNumber:0,currentOffset:0,videoLength:0,state:0}}var Bc;(function(e){function t(n,i=cm.default.Writer.create()){return n.timestamp!==0&&i.uint32(8).uint32(n.timestamp),n.tickNumber!==0&&i.uint32(16).uint32(n.tickNumber),n.currentOffset!==0&&i.uint32(29).float(n.currentOffset),n.videoLength!==0&&i.uint32(37).float(n.videoLength),n.state!==0&&i.uint32(40).int32(n.state),i}e.encode=t;function o(n,i){let r=n instanceof cm.default.Reader?n:cm.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=$R();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==8)break;s.timestamp=r.uint32();continue;case 2:if(c!==16)break;s.tickNumber=r.uint32();continue;case 3:if(c!==29)break;s.currentOffset=r.float();continue;case 4:if(c!==37)break;s.videoLength=r.float();continue;case 5:if(c!==40)break;s.state=r.int32();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(Bc||(Bc={}));var b3={COMPONENT_ID:1044,serialize(e,t){let o=Bc.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize(e){return Bc.decode(e.buffer(),e.remainingBytes())},create(){return Bc.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBVideoEvent"}};var um=ot(ut());function GR(){return{src:"",playing:void 0,position:void 0,volume:void 0,playbackRate:void 0,loop:void 0}}var Lc;(function(e){function t(n,i=um.default.Writer.create()){return n.src!==""&&i.uint32(10).string(n.src),n.playing!==void 0&&i.uint32(16).bool(n.playing),n.position!==void 0&&i.uint32(29).float(n.position),n.volume!==void 0&&i.uint32(37).float(n.volume),n.playbackRate!==void 0&&i.uint32(45).float(n.playbackRate),n.loop!==void 0&&i.uint32(48).bool(n.loop),i}e.encode=t;function o(n,i){let r=n instanceof um.default.Reader?n:um.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=GR();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;s.src=r.string();continue;case 2:if(c!==16)break;s.playing=r.bool();continue;case 3:if(c!==29)break;s.position=r.float();continue;case 4:if(c!==37)break;s.volume=r.float();continue;case 5:if(c!==45)break;s.playbackRate=r.float();continue;case 6:if(c!==48)break;s.loop=r.bool();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(Lc||(Lc={}));var v3={COMPONENT_ID:1043,serialize(e,t){let o=Lc.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize(e){return Lc.decode(e.buffer(),e.remainingBytes())},create(){return Lc.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBVideoPlayer"}};var fm=ot(ut());var lm=ot(ut());function qR(){return{transitionMode:void 0}}var dl;(function(e){function t(n,i=lm.default.Writer.create()){switch(n.transitionMode?.$case){case"time":i.uint32(13).float(n.transitionMode.time);break;case"speed":i.uint32(21).float(n.transitionMode.speed);break}return i}e.encode=t;function o(n,i){let r=n instanceof lm.default.Reader?n:lm.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=qR();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==13)break;s.transitionMode={$case:"time",time:r.float()};continue;case 2:if(c!==21)break;s.transitionMode={$case:"speed",speed:r.float()};continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(dl||(dl={}));function YR(){return{defaultTransition:void 0,lookAtEntity:void 0}}var Dc;(function(e){function t(n,i=fm.default.Writer.create()){return n.defaultTransition!==void 0&&dl.encode(n.defaultTransition,i.uint32(10).fork()).ldelim(),n.lookAtEntity!==void 0&&i.uint32(16).uint32(n.lookAtEntity),i}e.encode=t;function o(n,i){let r=n instanceof fm.default.Reader?n:fm.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=YR();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;s.defaultTransition=dl.decode(r,r.uint32());continue;case 2:if(c!==16)break;s.lookAtEntity=r.uint32();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(Dc||(Dc={}));var A3={COMPONENT_ID:1076,serialize(e,t){let o=Dc.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize(e){return Dc.decode(e.buffer(),e.remainingBytes())},create(){return Dc.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBVirtualCamera"}};var dm=ot(ut());function JR(){return{visible:void 0}}var Fc;(function(e){function t(n,i=dm.default.Writer.create()){return n.visible!==void 0&&i.uint32(8).bool(n.visible),i}e.encode=t;function o(n,i){let r=n instanceof dm.default.Reader?n:dm.default.Reader.create(n),a=i===void 0?r.len:r.pos+i,s=JR();for(;r.pos<a;){let c=r.uint32();switch(c>>>3){case 1:if(c!==8)break;s.visible=r.bool();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return s}e.decode=o})(Fc||(Fc={}));var w3={COMPONENT_ID:1081,serialize(e,t){let o=Fc.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize(e){return Fc.decode(e.buffer(),e.remainingBytes())},create(){return Fc.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBVisibilityComponent"}};var Wy=e=>e.defineComponentFromSchema("core::Animator",XT),pl=e=>e.defineValueSetComponentFromSchema("core::AudioEvent",ZT,{timestampFunction:t=>t.timestamp,maxElements:100}),pm=e=>e.defineComponentFromSchema("core::AudioSource",e_),mm=e=>e.defineComponentFromSchema("core::AudioStream",t_),hm=e=>e.defineComponentFromSchema("core::AvatarAttach",o_),ml=e=>e.defineComponentFromSchema("core::AvatarBase",r_),Vy=e=>e.defineValueSetComponentFromSchema("core::AvatarEmoteCommand",i_,{timestampFunction:t=>t.timestamp,maxElements:100}),hl=e=>e.defineComponentFromSchema("core::AvatarEquippedData",a_),x3=e=>e.defineComponentFromSchema("core::AvatarModifierArea",u_),I3=e=>e.defineComponentFromSchema("core::AvatarShape",__),ym=e=>e.defineComponentFromSchema("core::Billboard",b_),R3=e=>e.defineComponentFromSchema("core::CameraMode",v_),N3=e=>e.defineComponentFromSchema("core::CameraModeArea",A_),Hy=e=>e.defineComponentFromSchema("core::EngineInfo",w_),ds=e=>e.defineComponentFromSchema("core::GltfContainer",x_),$y=e=>e.defineComponentFromSchema("core::GltfContainerLoadingState",I_),Gy=e=>e.defineComponentFromSchema("core::InputModifier",R_),O3=e=>e.defineComponentFromSchema("core::MainCamera",N_),qy=e=>e.defineComponentFromSchema("core::Material",M_),Yy=e=>e.defineComponentFromSchema("core::MeshCollider",z_),Jy=e=>e.defineComponentFromSchema("core::MeshRenderer",U_),k3=e=>e.defineComponentFromSchema("core::NftShape",L_),yl=e=>e.defineComponentFromSchema("core::PlayerIdentityData",D_),_a=e=>e.defineComponentFromSchema("core::PointerEvents",F_),El=e=>e.defineValueSetComponentFromSchema("core::PointerEventsResult",j_,{timestampFunction:t=>t.timestamp,maxElements:100}),C3=e=>e.defineComponentFromSchema("core::PointerLock",W_),Qy=e=>e.defineComponentFromSchema("core::Raycast",H_),Em=e=>e.defineComponentFromSchema("core::RaycastResult",$_),Ky=e=>e.defineComponentFromSchema("core::RealmInfo",G_),M3=e=>e.defineComponentFromSchema("core::TextShape",q_),Xy=e=>e.defineComponentFromSchema("core::Tween",J_),ps=e=>e.defineComponentFromSchema("core::TweenSequence",K_),gl=e=>e.defineComponentFromSchema("core::TweenState",Z_),jc=e=>e.defineComponentFromSchema("core::UiBackground",n3),Tl=e=>e.defineComponentFromSchema("core::UiCanvasInformation",o3),_l=e=>e.defineComponentFromSchema("core::UiDropdown",r3),Sl=e=>e.defineComponentFromSchema("core::UiDropdownResult",i3),ms=e=>e.defineComponentFromSchema("core::UiInput",a3),hs=e=>e.defineComponentFromSchema("core::UiInputResult",s3),ys=e=>e.defineComponentFromSchema("core::UiText",u3),qi=e=>e.defineComponentFromSchema("core::UiTransform",_3),gm=e=>e.defineValueSetComponentFromSchema("core::VideoEvent",b3,{timestampFunction:t=>t.timestamp,maxElements:100}),bl=e=>e.defineComponentFromSchema("core::VideoPlayer",v3),Zy=e=>e.defineComponentFromSchema("core::VirtualCamera",A3),Tm=e=>e.defineComponentFromSchema("core::VisibilityComponent",w3),e1={"core::Animator":Wy,"core::AudioEvent":pl,"core::AudioSource":pm,"core::AudioStream":mm,"core::AvatarAttach":hm,"core::AvatarBase":ml,"core::AvatarEmoteCommand":Vy,"core::AvatarEquippedData":hl,"core::AvatarModifierArea":x3,"core::AvatarShape":I3,"core::Billboard":ym,"core::CameraMode":R3,"core::CameraModeArea":N3,"core::EngineInfo":Hy,"core::GltfContainer":ds,"core::GltfContainerLoadingState":$y,"core::InputModifier":Gy,"core::MainCamera":O3,"core::Material":qy,"core::MeshCollider":Yy,"core::MeshRenderer":Jy,"core::NftShape":k3,"core::PlayerIdentityData":yl,"core::PointerEvents":_a,"core::PointerEventsResult":El,"core::PointerLock":C3,"core::Raycast":Qy,"core::RaycastResult":Em,"core::RealmInfo":Ky,"core::TextShape":M3,"core::Tween":Xy,"core::TweenSequence":ps,"core::TweenState":gl,"core::UiBackground":jc,"core::UiCanvasInformation":Tl,"core::UiDropdown":_l,"core::UiDropdownResult":Sl,"core::UiInput":ms,"core::UiInputResult":hs,"core::UiText":ys,"core::UiTransform":qi,"core::VideoEvent":gm,"core::VideoPlayer":bl,"core::VirtualCamera":Zy,"core::VisibilityComponent":Tm};function P3(e){let t=Wy(e);function o(n,i){let r=t.getMutableOrNull(n);if(!r)return[null,null];let a=r.states.find(s=>s.clip===i);return a?[r,a]:[r,null]}return{...t,getClipOrNull(n,i){let[r,a]=o(n,i);return a},getClip(n,i){let[r,a]=o(n,i);if(!r)throw new Error(`There is no Animator found in the entity ${n}`);if(!a)throw new Error(`The Animator component of ${n} has no the state ${i}`);return a},playSingleAnimation(n,i,r=!0){let[a,s]=o(n,i);if(!a||!s)return!1;for(let c of a.states)c.playing=!1,c.shouldReset=!0;return s.playing=!0,s.shouldReset=r,!0},stopAllAnimations(n,i=!0){let r=t.getMutableOrNull(n);if(!r)return!1;for(let a of r.states)a.playing=!1,a.shouldReset=i;return!0}}}function z3(e){let t=pm(e);return{...t,playSound(o,n,i=!0){let r=t.getMutableOrNull(o);return r?(r.audioClipUrl=n,r.playing=!0,r.currentTime=i?0:r.currentTime,!0):!1},stopSound(o,n=!0){let i=t.getMutableOrNull(o);return i?(i.playing=!1,i.currentTime=n?0:i.currentTime,!0):!1}}}var KR={Common(e){return{tex:{$case:"texture",texture:e}}},Avatar(e){return{tex:{$case:"avatarTexture",avatarTexture:e}}},Video(e){return{tex:{$case:"videoTexture",videoTexture:e}}}};function U3(e){let t=qy(e);return{...t,Texture:KR,setBasicMaterial(o,n){t.createOrReplace(o,{material:{$case:"unlit",unlit:n}})},setPbrMaterial(o,n){t.createOrReplace(o,{material:{$case:"pbr",pbr:n}})}}}function B3(e){let t=Yy(e);function o(n){if(Array.isArray(n))return n.map(i=>i).reduce((i,r)=>i|r,0);if(n)return n}return{...t,setBox(n,i){t.createOrReplace(n,{mesh:{$case:"box",box:{}},collisionMask:o(i)})},setPlane(n,i){t.createOrReplace(n,{mesh:{$case:"plane",plane:{}},collisionMask:o(i)})},setCylinder(n,i,r,a){t.createOrReplace(n,{mesh:{$case:"cylinder",cylinder:{radiusBottom:i,radiusTop:r}},collisionMask:o(a)})},setSphere(n,i){t.createOrReplace(n,{mesh:{$case:"sphere",sphere:{}},collisionMask:o(i)})}}}function L3(e){let t=Jy(e);return{...t,setBox(o,n){t.createOrReplace(o,{mesh:{$case:"box",box:{uvs:n||[]}}})},setPlane(o,n){t.createOrReplace(o,{mesh:{$case:"plane",plane:{uvs:n||[]}}})},setCylinder(o,n,i){t.createOrReplace(o,{mesh:{$case:"cylinder",cylinder:{radiusBottom:n,radiusTop:i}}})},setSphere(o){t.createOrReplace(o,{mesh:{$case:"sphere",sphere:{}}})}}}var XR={Move(e){return{$case:"move",move:e}},Rotate(e){return{$case:"rotate",rotate:e}},Scale(e){return{$case:"scale",scale:e}},TextureMove(e){return{$case:"textureMove",textureMove:e}}};function D3(e){return{...Xy(e),Mode:XR}}var _m=e=>({serialize(t,o){o.writeUint32(t.length);for(let n of t)e.serialize(n,o)},deserialize(t){let o=[],n=t.readUint32();for(let i=0;i<n;i++)o.push(e.deserialize(t));return o},create(){return[]},jsonSchema:{type:"array",items:e.jsonSchema,serializationType:"array"}});var vl={serialize(e,t){t.writeInt8(e?1:0)},deserialize(e){return e.readInt8()===1},create(){return!1},jsonSchema:{type:"boolean",serializationType:"boolean"}};var Al={serialize(e,t){t.writeInt64(BigInt(e))},deserialize(e){return Number(e.readInt64())},create(){return 0},jsonSchema:{type:"integer",serializationType:"int64"}},Sa={serialize(e,t){t.writeInt32(e)},deserialize(e){return e.readInt32()},create(){return 0},jsonSchema:{type:"integer",serializationType:"int32"}},wl={serialize(e,t){t.writeInt16(e)},deserialize(e){return e.readInt16()},create(){return 0},jsonSchema:{type:"integer",serializationType:"int16"}},xl={serialize(e,t){t.writeInt8(e)},deserialize(e){return e.readInt8()},create(){return 0},jsonSchema:{type:"integer",serializationType:"int8"}};var Sm={serialize(e,t){t.writeUtf8String(e)},deserialize(e){return e.readUtf8String()},create(){return""},jsonSchema:{type:"string",serializationType:"utf8-string"}},Il=Sm;function ZR(e){let n=0,i=0;for(let r in e){if(typeof e[r]=="number"){if(e[r]>2147483647||e[r]<-2147483648)throw new Error("Enum member values must be numbers within the range of -2147483648 to 2147483647.");n++}i++}if(i!==n*2)throw new Error("All enum member values must be of numeric type.")}function eN(e){for(let t in e)if(typeof e[t]!="string")throw new Error("All enum member values must be of string type.")}var tN="enum-int",bm=(e,t)=>(ZR(e),{serialize(o,n){Sa.serialize(o,n)},deserialize(o){return Sa.deserialize(o)},create(){return t},jsonSchema:{type:"integer",enum:Object.values(e).filter(o=>Number.isInteger(o)),default:t,serializationType:tN,enumObject:e}}),nN="enum-string",vm=(e,t)=>(eN(e),{serialize(o,n){Sm.serialize(o,n)},deserialize(o){return Sm.deserialize(o)},create(){return t},jsonSchema:{type:"string",enum:Object.values(e),default:t,serializationType:nN,enumObject:e}});var Wc={serialize(e,t){t.writeFloat32(e)},deserialize(e){return e.readFloat32()},create(){return 0},jsonSchema:{type:"number",serializationType:"float32"}},Rl={serialize(e,t){t.writeFloat64(e)},deserialize(e){return e.readFloat64()},create(){return 0},jsonSchema:{type:"number",serializationType:"float64"}};var Nl={serialize(e,t){t.writeFloat32(e.r),t.writeFloat32(e.g),t.writeFloat32(e.b)},deserialize(e){return{r:e.readFloat32(),g:e.readFloat32(),b:e.readFloat32()}},create(){return{r:0,g:0,b:0}},jsonSchema:{type:"object",properties:{r:{type:"number"},g:{type:"number"},b:{type:"number"}},serializationType:"color3"}};var Ol={serialize(e,t){t.writeFloat32(e.r),t.writeFloat32(e.g),t.writeFloat32(e.b),t.writeFloat32(e.a)},deserialize(e){return{r:e.readFloat32(),g:e.readFloat32(),b:e.readFloat32(),a:e.readFloat32()}},create(){return{r:0,g:0,b:0,a:0}},jsonSchema:{type:"object",properties:{r:{type:"number"},g:{type:"number"},b:{type:"number"},a:{type:"number"}},serializationType:"color4"}};var kl={serialize(e,t){t.writeInt32(e)},deserialize(e){return e.readInt32()},create(){return 0},jsonSchema:{type:"integer",serializationType:"entity"}};var Cl={serialize(e,t){t.writeFloat32(e.x),t.writeFloat32(e.y),t.writeFloat32(e.z),t.writeFloat32(e.w)},deserialize(e){return{x:e.readFloat32(),y:e.readFloat32(),z:e.readFloat32(),w:e.readFloat32()}},create(){return{x:0,y:0,z:0,w:0}},jsonSchema:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"},w:{type:"number"}},serializationType:"quaternion"}};var Ml={serialize(e,t){t.writeFloat32(e.x),t.writeFloat32(e.y),t.writeFloat32(e.z)},deserialize(e){return{x:e.readFloat32(),y:e.readFloat32(),z:e.readFloat32()}},create(){return{x:0,y:0,z:0}},jsonSchema:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"},w:{type:"number"}},serializationType:"vector3"}};var Am=(e,t)=>{let o=Object.keys(e).reduce((n,i)=>(n[i]=e[i].jsonSchema,n),{});return{serialize(n,i){for(let r in e)e[r].serialize(n[r],i)},deserialize(n){let i={};for(let r in e)i[r]=e[r].deserialize(n);return i},create(){let n={};for(let i in e)n[i]=e[i].create();return{...n,...t}},extend:n=>{let i={};for(let r in e)i[r]=e[r].create();return{...i,...t,...n}},jsonSchema:{type:"object",properties:o,serializationType:"map"}}};var wm=e=>({serialize(t,o){t?(o.writeInt8(1),e.serialize(t,o)):o.writeInt8(0)},deserialize(t){if(t.readInt8())return e.deserialize(t)},create(){},jsonSchema:{type:e.jsonSchema.type,serializationType:"optional",optionalJsonSchema:e.jsonSchema}});var xm=e=>{let t=Object.keys(e),o=t.reduce((i,r,a)=>(i[r]=a,i),{}),n=t.reduce((i,r)=>(i[r]=e[r].jsonSchema,i),{});return{serialize({$case:i,value:r},a){let s=o[i.toString()]+1;a.writeUint8(s),e[i].serialize(r,a)},deserialize(i){let r=t[i.readInt8()-1],a=e[r].deserialize(i);return{$case:r,value:a}},create(){return{}},jsonSchema:{type:"object",properties:n,serializationType:"one-of"}}};var F3=(e,t)=>t.includes(e.serializationType),oN=e=>F3(e,["one-of"]),rN=()=>({type:{type:"object",serializationType:"unknown"},value:void 0}),Im=e=>F3(e,["array","map"]),t1=(e,t,o)=>{let n=e[o],i=t[o];if(oN(n)){let r=i;if(!r.$case)return rN();let a=n.properties[r.$case];return Im(a)&&(t[o]={[r.$case]:r.value}),{type:a,value:r.value}}return{type:n,value:i}};var j3={[vl.jsonSchema.serializationType]:vl,[Il.jsonSchema.serializationType]:Il,[Wc.jsonSchema.serializationType]:Wc,[Rl.jsonSchema.serializationType]:Rl,[xl.jsonSchema.serializationType]:xl,[wl.jsonSchema.serializationType]:wl,[Sa.jsonSchema.serializationType]:Sa,[Al.jsonSchema.serializationType]:Al,[Ml.jsonSchema.serializationType]:Ml,[Cl.jsonSchema.serializationType]:Cl,[Nl.jsonSchema.serializationType]:Nl,[Ol.jsonSchema.serializationType]:Ol,[kl.jsonSchema.serializationType]:kl};function Vc(e){if(j3[e.serializationType])return j3[e.serializationType];if(e.serializationType==="map"){let t=e,o={};for(let n in t.properties)o[n]=Vc(t.properties[n]);return Am(o)}if(e.serializationType==="optional")return wm(Vc(e.optionalJsonSchema));if(e.serializationType==="array")return _m(Vc(e.items));if(e.serializationType==="enum-int"){let t=e;return bm(t.enumObject,t.default)}if(e.serializationType==="enum-string"){let t=e;return vm(t.enumObject,t.default)}if(e.serializationType==="one-of"){let t=e,o={};for(let n in t.properties)o[n]=Vc(t.properties[n]);return xm(o)}throw new Error(`${e.serializationType} is not supported as reverse schema generation.`)}function Rm(e,t,o){if(e.serializationType==="map"){let{properties:n}=e,i=t;for(let r in n){let{type:a,value:s}=t1(n,i,r);if(a.serializationType!=="unknown")if(Im(a))Rm(a,s,o);else{let c=o(s,a);c.changed&&(i[r]=c.value)}}}else if(e.serializationType==="array"){let{items:n}=e,i=t;for(let r=0,a=i.length;r<a;r++){let{type:s,value:c}=t1({items:n},{items:i[r]},"items");if(Im(s))Rm(s,c,o);else{let d=o(c,s);d.changed&&(i[r]=d.value)}}}}var U;(function(e){e.Boolean=vl,e.String=Il,e.Float=Wc,e.Double=Rl,e.Byte=xl,e.Short=wl,e.Int=Sa,e.Int64=Al,e.Number=Wc,e.Vector3=Ml,e.Quaternion=Cl,e.Color3=Nl,e.Color4=Ol,e.Entity=kl,e.EnumNumber=bm,e.EnumString=vm,e.Array=_m,e.Map=Am,e.Optional=wm,e.OneOf=xm,e.fromJson=Vc,e.mutateNestedValues=Rm})(U||(U={}));function iN(e){return e.defineComponent("core-schema::Name",{value:U.String})}var W3=iN;function aN(e){return e.defineComponent("core-schema::Sync-Components",{componentIds:U.Array(U.Int64)})}var V3=aN;function sN(e){return e.defineComponent("core-schema::Network-Entity",{networkId:U.Int64,entityId:U.Entity})}var H3=sN;function cN(e){return e.defineComponent("core-schema::Network-Parent",{networkId:U.Int64,entityId:U.Entity})}var $3=cN;var Hc={serialize(e,t){let o=t.incrementWriteOffset(44);t.setFloat32(o,e.position.x),t.setFloat32(o+4,e.position.y),t.setFloat32(o+8,e.position.z),t.setFloat32(o+12,e.rotation.x),t.setFloat32(o+16,e.rotation.y),t.setFloat32(o+20,e.rotation.z),t.setFloat32(o+24,e.rotation.w),t.setFloat32(o+28,e.scale.x),t.setFloat32(o+32,e.scale.y),t.setFloat32(o+36,e.scale.z),t.setUint32(o+40,e.parent||0)},deserialize(e){let t=e.incrementReadOffset(44);return{position:{x:e.getFloat32(t),y:e.getFloat32(t+4),z:e.getFloat32(t+8)},rotation:{x:e.getFloat32(t+12),y:e.getFloat32(t+16),z:e.getFloat32(t+20),w:e.getFloat32(t+24)},scale:{x:e.getFloat32(t+28),y:e.getFloat32(t+32),z:e.getFloat32(t+36)},parent:e.getUint32(t+40)}},create(){return{position:{x:0,y:0,z:0},scale:{x:1,y:1,z:1},rotation:{x:0,y:0,z:0,w:1},parent:0}},extend(e){return{position:{x:0,y:0,z:0},scale:{x:1,y:1,z:1},rotation:{x:0,y:0,z:0,w:1},parent:0,...e}},jsonSchema:{type:"object",properties:{position:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"}}},scale:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"}}},rotation:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"},w:{type:"number"}}},parent:{type:"integer"}},serializationType:"transform"}};function G3(e){let t=e.defineComponentFromSchema("core::Transform",Hc);return{...t,create(o,n){return t.create(o,Hc.extend(n))},createOrReplace(o,n){return t.createOrReplace(o,Hc.extend(n))}}}function q3(e){let t=mm(e),o=pl(e);return{...t,getAudioState(n){return!t.getMutableOrNull(n)||!o.has(n)?void 0:Array.from(o.get(n)).pop()}}}var n1;(function(e){e[e.MS_NONE=0]="MS_NONE",e[e.MS_ERROR=1]="MS_ERROR",e[e.MS_LOADING=2]="MS_LOADING",e[e.MS_READY=3]="MS_READY",e[e.MS_PLAYING=4]="MS_PLAYING",e[e.MS_BUFFERING=5]="MS_BUFFERING",e[e.MS_SEEKING=6]="MS_SEEKING",e[e.MS_PAUSED=7]="MS_PAUSED"})(n1||(n1={}));var cr=e=>G3(e),Nm=e=>U3(e),o1=e=>P3(e),Om=e=>z3(e),Y3=e=>q3(e),km=e=>L3(e),Cm=e=>B3(e),$c=e=>D3(e);var Gc=e=>W3(e),Mm=e=>V3(e),Yi=e=>H3(e),qc=e=>$3(e);var r1={"core::Transform":1,"core::Animator":1042,"core::AudioEvent":1105,"core::AudioSource":1020,"core::AudioStream":1021,"core::AvatarAttach":1073,"core::AvatarBase":1087,"core::AvatarEmoteCommand":1088,"core::AvatarEquippedData":1091,"core::AvatarModifierArea":1070,"core::AvatarShape":1080,"core::Billboard":1090,"core::CameraMode":1072,"core::CameraModeArea":1071,"core::EngineInfo":1048,"core::GltfContainer":1041,"core::GltfContainerLoadingState":1049,"core::InputModifier":1078,"core::MainCamera":1075,"core::MapPin":1097,"core::Material":1017,"core::MeshCollider":1019,"core::MeshRenderer":1018,"core::NftShape":1040,"core::PlayerIdentityData":1089,"core::PointerEvents":1062,"core::PointerEventsResult":1063,"core::PointerLock":1074,"core::Raycast":1067,"core::RaycastResult":1068,"core::RealmInfo":1106,"core::TextShape":1030,"core::Tween":1102,"core::TweenSequence":1104,"core::TweenState":1103,"core::UiBackground":1053,"core::UiCanvasInformation":1054,"core::UiDropdown":1094,"core::UiDropdownResult":1096,"core::UiInput":1093,"core::UiInputResult":1095,"core::UiText":1052,"core::UiTransform":1050,"core::VideoEvent":1044,"core::VideoPlayer":1043,"core::VirtualCamera":1076,"core::VisibilityComponent":1081};var Q3=ot(op());var uN=new Int32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function lN(e,t){let o=~~t^-1;for(let n=0;n<e.length;n++)o=uN[(o^e[n])&255]^o>>>8;return o^-1}function J3(e,t=0){return lN(e,t)>>>0}var i1=2048;function Nr(e){if(r1[e])return r1[e];let t=new Uint8Array(128);return Q3.write(e,t,0),(J3(t)+i1&4294967295)>>>0}var a1=typeof process=="object"&&!1||!1;function Pl(e,t){if(a1&&e&&typeof e=="object"&&typeof e.then=="function")throw new Error(t);return e}function K3(){let e=new Map;return{addTo(t,o){if(o<0)return!1;let n=e.get(t);return n!==void 0&&n>=o||e.set(t,o),!0},has(t,o){let n=e.get(t);return n!==void 0&&n>=o},getMap(){return e}}}var Es=65535,fN=4294901760,$D=Es+1,X3=Es,s1=512,Or;(function(e){function t(n){return[(n&Es)>>>0,((n&fN)>>16&Es)>>>0]}e.fromEntityId=t;function o(n,i){return(n&Es|(i&Es)<<16)>>>0}e.toEntityId=o})(Or||(Or={}));var Gn;(function(e){e[e.Unknown=0]="Unknown",e[e.UsedEntity=1]="UsedEntity",e[e.Removed=2]="Removed",e[e.Reserved=3]="Reserved"})(Gn||(Gn={}));function Z3(e){let t=e?.reservedStaticEntities??s1,o=t,n=new Set,i=[],r=K3();function a(){if(o>X3-1)throw new Error(`It fails trying to generate an entity out of range ${X3}.`);let v=o++,S=r.getMap().has(v)?r.getMap().get(v)+1:0,_=Or.toEntityId(v,S);return n.has(_)?a():(n.add(_),_)}function s(){if(n.size+t>=o)return a();for(let[S,_]of r.getMap())if(_<Es){let x=Or.toEntityId(S,_+1);if(!n.has(x)&&!i.includes(x))return n.add(x),x}return a()}function c(v){return v<t?!1:(n.has(v)?(n.delete(v),i.push(v)):h(v),!0)}function d(){let v=i;if(v.length){i=[];for(let S of v){let[_,x]=Or.fromEntityId(S);r.addTo(_,x)}}return v}function h(v){let[S,_]=Or.fromEntityId(v);r.addTo(S,_);for(let x=0;x<=_;x++)n.delete(Or.toEntityId(S,x));return!0}function g(v){let[S,_]=Or.fromEntityId(v);if(r.has(S,_))return!1;if(_>0){for(let x=0;x<=_-1;x++)n.delete(Or.toEntityId(S,x));r.addTo(S,_-1)}return n.add(v),!0}function A(v){let[S,_]=Or.fromEntityId(v);if(S<t)return Gn.Reserved;if(n.has(v))return Gn.UsedEntity;let x=r.getMap().get(S);return x!==void 0&&x>=_?Gn.Removed:Gn.Unknown}return{generateEntity:s,removeEntity:c,getExistingEntities(){return new Set(n)},getEntityState:A,releaseRemovedEntities:d,updateRemovedEntity:h,updateUsedEntity:g}}var Yc=ot(op()),Zt=function(e,t,o,n){if(o==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return o==="m"?n:o==="a"?n.call(e):n?n.value:t.get(e)},Yt,Xo,ho;function dN(e,t){let o=Math.max(e,t)+1024;return Math.ceil(o/1024)*1024}var pN=10240,Lt=class{constructor(t,o,n){Yt.add(this),this._buffer=t||new Uint8Array(pN),this.view=new DataView(this._buffer.buffer,this._buffer.byteOffset),this.woffset=n??(t?this._buffer.length:null)??0,this.roffset=o??0}buffer(){return this._buffer}bufferLength(){return this._buffer.length}resetBuffer(){this.roffset=0,this.woffset=0}currentReadOffset(){return this.roffset}currentWriteOffset(){return this.woffset}incrementReadOffset(t){return Zt(this,Yt,"m",ho).call(this,t)}remainingBytes(){return this.woffset-this.roffset}readFloat32(){return this.view.getFloat32(Zt(this,Yt,"m",ho).call(this,4),!0)}readFloat64(){return this.view.getFloat64(Zt(this,Yt,"m",ho).call(this,8),!0)}readInt8(){return this.view.getInt8(Zt(this,Yt,"m",ho).call(this,1))}readInt16(){return this.view.getInt16(Zt(this,Yt,"m",ho).call(this,2),!0)}readInt32(){return this.view.getInt32(Zt(this,Yt,"m",ho).call(this,4),!0)}readInt64(){return this.view.getBigInt64(Zt(this,Yt,"m",ho).call(this,8),!0)}readUint8(){return this.view.getUint8(Zt(this,Yt,"m",ho).call(this,1))}readUint16(){return this.view.getUint16(Zt(this,Yt,"m",ho).call(this,2),!0)}readUint32(){return this.view.getUint32(Zt(this,Yt,"m",ho).call(this,4),!0)}readUint64(){return this.view.getBigUint64(Zt(this,Yt,"m",ho).call(this,8),!0)}readBuffer(){let t=this.view.getUint32(Zt(this,Yt,"m",ho).call(this,4),!0);return this._buffer.subarray(Zt(this,Yt,"m",ho).call(this,t),Zt(this,Yt,"m",ho).call(this,0))}readUtf8String(){let t=this.view.getUint32(Zt(this,Yt,"m",ho).call(this,4),!0);return Yc.read(this._buffer,Zt(this,Yt,"m",ho).call(this,t),Zt(this,Yt,"m",ho).call(this,0))}incrementWriteOffset(t){return Zt(this,Yt,"m",Xo).call(this,t)}toBinary(){return this._buffer.subarray(0,this.woffset)}toCopiedBinary(){return new Uint8Array(this.toBinary())}writeBuffer(t,o=!0){o&&this.writeUint32(t.byteLength);let n=Zt(this,Yt,"m",Xo).call(this,t.byteLength);this._buffer.set(t,n)}writeUtf8String(t,o=!0){let n=Yc.length(t);o&&this.writeUint32(n);let i=Zt(this,Yt,"m",Xo).call(this,n);Yc.write(t,this._buffer,i)}writeFloat32(t){let o=Zt(this,Yt,"m",Xo).call(this,4);this.view.setFloat32(o,t,!0)}writeFloat64(t){let o=Zt(this,Yt,"m",Xo).call(this,8);this.view.setFloat64(o,t,!0)}writeInt8(t){let o=Zt(this,Yt,"m",Xo).call(this,1);this.view.setInt8(o,t)}writeInt16(t){let o=Zt(this,Yt,"m",Xo).call(this,2);this.view.setInt16(o,t,!0)}writeInt32(t){let o=Zt(this,Yt,"m",Xo).call(this,4);this.view.setInt32(o,t,!0)}writeInt64(t){let o=Zt(this,Yt,"m",Xo).call(this,8);this.view.setBigInt64(o,t,!0)}writeUint8(t){let o=Zt(this,Yt,"m",Xo).call(this,1);this.view.setUint8(o,t)}writeUint16(t){let o=Zt(this,Yt,"m",Xo).call(this,2);this.view.setUint16(o,t,!0)}writeUint32(t){let o=Zt(this,Yt,"m",Xo).call(this,4);this.view.setUint32(o,t,!0)}writeUint64(t){let o=Zt(this,Yt,"m",Xo).call(this,8);this.view.setBigUint64(o,t,!0)}getFloat32(t){return this.view.getFloat32(t,!0)}getFloat64(t){return this.view.getFloat64(t,!0)}getInt8(t){return this.view.getInt8(t)}getInt16(t){return this.view.getInt16(t,!0)}getInt32(t){return this.view.getInt32(t,!0)}getInt64(t){return this.view.getBigInt64(t,!0)}getUint8(t){return this.view.getUint8(t)}getUint16(t){return this.view.getUint16(t,!0)}getUint32(t){return this.view.getUint32(t,!0)}getUint64(t){return this.view.getBigUint64(t,!0)}setFloat32(t,o){this.view.setFloat32(t,o,!0)}setFloat64(t,o){this.view.setFloat64(t,o,!0)}setInt8(t,o){this.view.setInt8(t,o)}setInt16(t,o){this.view.setInt16(t,o,!0)}setInt32(t,o){this.view.setInt32(t,o,!0)}setInt64(t,o){this.view.setBigInt64(t,o,!0)}setUint8(t,o){this.view.setUint8(t,o)}setUint16(t,o){this.view.setUint16(t,o,!0)}setUint32(t,o){this.view.setUint32(t,o,!0)}setUint64(t,o){this.view.setBigUint64(t,o,!0)}};Yt=new WeakSet,Xo=function(t){if(this.woffset+t>this._buffer.byteLength){let o=dN(this._buffer.byteLength,this.woffset+t),n=new Uint8Array(o);n.set(this._buffer);let i=this._buffer.byteOffset;this._buffer=n,this.view=new DataView(this._buffer.buffer,i)}return this.woffset+=t,this.woffset-t},ho=function(t){if(this.roffset+t>this.woffset)throw new Error("Outside of the bounds of writen data.");return this.roffset+=t,this.roffset-t};var Me;(function(e){e[e.RESERVED=0]="RESERVED",e[e.PUT_COMPONENT=1]="PUT_COMPONENT",e[e.DELETE_COMPONENT=2]="DELETE_COMPONENT",e[e.DELETE_ENTITY=3]="DELETE_ENTITY",e[e.APPEND_VALUE=4]="APPEND_VALUE",e[e.PUT_COMPONENT_NETWORK=5]="PUT_COMPONENT_NETWORK",e[e.DELETE_COMPONENT_NETWORK=6]="DELETE_COMPONENT_NETWORK",e[e.DELETE_ENTITY_NETWORK=7]="DELETE_ENTITY_NETWORK",e[e.MAX_MESSAGE_TYPE=8]="MAX_MESSAGE_TYPE"})(Me||(Me={}));var ro=8,ur;(function(e){e[e.StateUpdatedTimestamp=1]="StateUpdatedTimestamp",e[e.StateOutdatedTimestamp=2]="StateOutdatedTimestamp",e[e.NoChanges=3]="NoChanges",e[e.StateOutdatedData=4]="StateOutdatedData",e[e.StateUpdatedData=5]="StateUpdatedData",e[e.EntityWasDeleted=6]="EntityWasDeleted",e[e.EntityDeleted=7]="EntityDeleted"})(ur||(ur={}));var jn;(function(e){function t(r){let a=r.remainingBytes();if(a<ro)return!1;let s=r.getUint32(r.currentReadOffset());return!(a<s)}e.validate=t;function o(r){return t(r)?{length:r.readUint32(),type:r.readUint32()}:null}e.readHeader=o;function n(r){if(!t(r))return null;let a=r.currentReadOffset();return{length:r.getUint32(a),type:r.getUint32(a+4)}}e.getHeader=n;function i(r){let a=n(r);return a?(r.incrementReadOffset(a.length),!0):!1}e.consumeMessage=i})(jn||(jn={}));var Kr;(function(e){e.MESSAGE_HEADER_LENGTH=12;function t(n,i,r,a){let s=ro+e.MESSAGE_HEADER_LENGTH,c=a.incrementWriteOffset(s);a.setUint32(c,s),a.setUint32(c+4,Me.DELETE_COMPONENT),a.setUint32(c+8,n),a.setUint32(c+12,i),a.setUint32(c+16,r)}e.write=t;function o(n){let i=jn.readHeader(n);if(!i)return null;if(i.type!==Me.DELETE_COMPONENT)throw new Error("DeleteComponentOperation tried to read another message type.");return{...i,entityId:n.readUint32(),componentId:n.readUint32(),timestamp:n.readUint32()}}e.read=o})(Kr||(Kr={}));var Ji;(function(e){e.MESSAGE_HEADER_LENGTH=16;function t(n,i,r,a,s){let c=s.incrementWriteOffset(ro+e.MESSAGE_HEADER_LENGTH);s.writeBuffer(a,!1);let d=s.currentWriteOffset()-c;s.setUint32(c,d),s.setUint32(c+4,Me.APPEND_VALUE),s.setUint32(c+8,n),s.setUint32(c+12,r),s.setUint32(c+16,i);let h=d-e.MESSAGE_HEADER_LENGTH-ro;s.setUint32(c+20,h)}e.write=t;function o(n){let i=jn.readHeader(n);if(!i)return null;if(i.type!==Me.APPEND_VALUE)throw new Error("AppendValueOperation tried to read another message type.");return{...i,entityId:n.readUint32(),componentId:n.readUint32(),timestamp:n.readUint32(),data:n.readBuffer()}}e.read=o})(Ji||(Ji={}));var Qi;(function(e){e.MESSAGE_HEADER_LENGTH=4;function t(n,i){i.writeUint32(ro+4),i.writeUint32(Me.DELETE_ENTITY),i.writeUint32(n)}e.write=t;function o(n){let i=jn.readHeader(n);if(!i)return null;if(i.type!==Me.DELETE_ENTITY)throw new Error("DeleteEntity tried to read another message type.");return{...i,entityId:n.readUint32()}}e.read=o})(Qi||(Qi={}));var Wo;(function(e){e.MESSAGE_HEADER_LENGTH=16;function t(n,i,r,a,s){let c=s.incrementWriteOffset(ro+e.MESSAGE_HEADER_LENGTH);s.writeBuffer(a,!1);let d=s.currentWriteOffset()-c;s.setUint32(c,d),s.setUint32(c+4,Me.PUT_COMPONENT),s.setUint32(c+8,n),s.setUint32(c+12,r),s.setUint32(c+16,i);let h=d-e.MESSAGE_HEADER_LENGTH-ro;s.setUint32(c+20,h)}e.write=t;function o(n){let i=jn.readHeader(n);if(!i)return null;if(i.type!==Me.PUT_COMPONENT)throw new Error("PutComponentOperation tried to read another message type.");return{...i,entityId:n.readUint32(),componentId:n.readUint32(),timestamp:n.readUint32(),data:n.readBuffer()}}e.read=o})(Wo||(Wo={}));var Si;(function(e){e.MESSAGE_HEADER_LENGTH=20;function t(n,i,r,a,s,c){let d=c.incrementWriteOffset(ro+e.MESSAGE_HEADER_LENGTH);c.writeBuffer(s,!1);let h=c.currentWriteOffset()-d;c.setUint32(d,h),c.setUint32(d+4,Me.PUT_COMPONENT_NETWORK),c.setUint32(d+8,n),c.setUint32(d+12,r),c.setUint32(d+16,i),c.setUint32(d+20,a);let g=h-e.MESSAGE_HEADER_LENGTH-ro;c.setUint32(d+24,g)}e.write=t;function o(n){let i=jn.readHeader(n);if(!i)return null;if(i.type!==Me.PUT_COMPONENT_NETWORK)throw new Error("PutComponentNetworkOperation tried to read another message type.");return{...i,entityId:n.readUint32(),componentId:n.readUint32(),timestamp:n.readUint32(),networkId:n.readUint32(),data:n.readBuffer()}}e.read=o})(Si||(Si={}));var ba;(function(e){e.MESSAGE_HEADER_LENGTH=16;function t(n,i,r,a,s){let c=ro+e.MESSAGE_HEADER_LENGTH,d=s.incrementWriteOffset(c);s.setUint32(d,c),s.setUint32(d+4,Me.DELETE_COMPONENT_NETWORK),s.setUint32(d+8,n),s.setUint32(d+12,i),s.setUint32(d+16,r),s.setUint32(d+20,a)}e.write=t;function o(n){let i=jn.readHeader(n);if(!i)return null;if(i.type!==Me.DELETE_COMPONENT_NETWORK)throw new Error("DeleteComponentOperation tried to read another message type.");return{...i,entityId:n.readUint32(),componentId:n.readUint32(),timestamp:n.readUint32(),networkId:n.readUint32()}}e.read=o})(ba||(ba={}));var va;(function(e){e.MESSAGE_HEADER_LENGTH=8;function t(n,i,r){r.writeUint32(ro+4),r.writeUint32(Me.DELETE_ENTITY_NETWORK),r.writeUint32(n),r.writeUint32(i)}e.write=t;function o(n){let i=jn.readHeader(n);if(!i)return null;if(i.type!==Me.DELETE_ENTITY_NETWORK)throw new Error("DeleteEntityNetwork tried to read another message type.");return{...i,entityId:n.readUint32(),networkId:n.readUint32()}}e.read=o})(va||(va={}));function Pm(e){return[Me.DELETE_COMPONENT_NETWORK,Me.DELETE_ENTITY_NETWORK,Me.PUT_COMPONENT_NETWORK].includes(e.type)}function eS(e,t,o,n){let i=o.currentWriteOffset();e.type===Me.PUT_COMPONENT_NETWORK?Wo.write(t,e.timestamp,e.componentId,e.data,o):e.type===Me.DELETE_COMPONENT_NETWORK?Kr.write(t,e.componentId,e.timestamp,o):e.type===Me.DELETE_ENTITY_NETWORK&&Qi.write(t,o),n.writeBuffer(o.buffer().subarray(i,o.currentWriteOffset()),!1)}function tS(e,t,o,n){let i=o.currentWriteOffset();e.type===Me.PUT_COMPONENT?Si.write(t.entityId,e.timestamp,e.componentId,t.networkId,e.data,o):e.type===Me.DELETE_COMPONENT?ba.write(t.entityId,e.componentId,e.timestamp,t.networkId,o):e.type===Me.DELETE_ENTITY&&va.write(t.entityId,t.networkId,o),n.writeBuffer(o.buffer().subarray(i,o.currentWriteOffset()),!1)}var c1=new Lt;function zm(e,t,o){c1.resetBuffer();let n=t;if(!n&&"data"in e&&(n=Hc.deserialize(new Lt(e.data))),!n)throw new Error("Invalid parent transform");let i={...n,parent:o};return Hc.serialize(i,c1),c1.toBinary()}function nS(e,t){let o=[],n=Yi(e),i=qc(e),r=cr(e),a=[],s=[];function c(S){return function(x){let k=new Lt(x),j;for(;j=jn.getHeader(k);){let Y=k.currentReadOffset(),ie;j.type===Me.DELETE_COMPONENT?ie=Kr.read(k):j.type===Me.DELETE_COMPONENT_NETWORK?ie=ba.read(k):j.type===Me.PUT_COMPONENT?ie=Wo.read(k):j.type===Me.PUT_COMPONENT_NETWORK?ie=Si.read(k):j.type===Me.DELETE_ENTITY?ie=Qi.read(k):j.type===Me.DELETE_ENTITY_NETWORK?ie=va.read(k):j.type===Me.APPEND_VALUE?ie=Ji.read(k):k.incrementReadOffset(j.length),ie&&a.push({...ie,transportId:S,messageBuffer:k.buffer().subarray(Y,k.currentReadOffset())})}}}function d(S){return S.splice(0,S.length)}function h(S){if("networkId"in S){for(let[x,k]of e.getEntitiesWith(n))if(k.networkId===S.networkId&&k.entityId===S.entityId)return{entityId:x,network:k}}return{entityId:S.entityId}}async function g(){let S=d(a),_=[];for(let x of S){let{entityId:k,network:j}=h(x);if(Pm(x)&&!j&&(k=e.addEntity(),j={entityId:x.entityId,networkId:x.networkId},n.createOrReplace(k,j)),x.type===Me.DELETE_ENTITY||x.type===Me.DELETE_ENTITY_NETWORK)_.push(k),s.push(x);else{let Y=e.entityContainer.getEntityState(k);if(Y===Gn.Removed)continue;Y===Gn.Unknown&&e.entityContainer.updateUsedEntity(k);let ie=e.getComponentOrNull(x.componentId);if(ie){x.type===Me.PUT_COMPONENT&&ie.componentId===r.componentId&&n.has(k)&&i.has(k)&&(x.data=zm(x));let[ve,ae]=ie.updateFromCrdt({...x,entityId:k});ve||(s.push(x),t&&t(k,x.type,ie,ae))}else s.push(x)}}for(let x of _){for(let k of e.componentsIter())k.entityDeleted(x,!0);e.entityContainer.updateRemovedEntity(x),t&&t(x,Me.DELETE_ENTITY)}}async function A(S){let _=d(s),x=new Lt;for(let j of e.componentsIter())for(let Y of j.getCrdtUpdates()){let ie=x.currentWriteOffset();if(o.some(ve=>ve.filter(Y))&&(Y.type===Me.PUT_COMPONENT?Wo.write(Y.entityId,Y.timestamp,Y.componentId,Y.data,x):Y.type===Me.DELETE_COMPONENT?Kr.write(Y.entityId,j.componentId,Y.timestamp,x):Y.type===Me.APPEND_VALUE&&Ji.write(Y.entityId,Y.timestamp,Y.componentId,Y.data,x),_.push({...Y,messageBuffer:x.buffer().subarray(ie,x.currentWriteOffset())})),t){let ve=Y.type===Me.PUT_COMPONENT||Y.type===Me.APPEND_VALUE?j.get(Y.entityId):void 0;t(Y.entityId,Y.type,j,ve)}}for(let j of S){let Y=x.currentWriteOffset();Qi.write(j,x),_.push({type:Me.DELETE_ENTITY,entityId:j,messageBuffer:x.buffer().subarray(Y,x.currentWriteOffset())}),t&&t(j,Me.DELETE_ENTITY)}let k=new Lt;for(let j in o){let ie=[],ve=Number(j),ae=o[ve],J=ae.type==="renderer",ne=ae.type==="network";k.resetBuffer();let X=new Lt;for(let q of _){if(ne&&k.toBinary().byteLength/1024>13&&(ie.push(k.toBinary()),k.resetBuffer()),q.transportId===ve||!ae.filter(q))continue;let{entityId:B}=h(q),ce="componentId"in q&&q.componentId===r.componentId&&r.has(B)&&i.has(B)&&n.has(B);if(J&&q.type===Me.PUT_COMPONENT&&ce){let R=h(i.get(B)),C=zm(q,r.get(B),R.entityId),$=X.currentWriteOffset();Wo.write(B,q.timestamp,q.componentId,C,X),k.writeBuffer(X.buffer().subarray($,X.currentWriteOffset()),!1);continue}if(J&&Pm(q)){let R="data"in q?q.data:new Uint8Array;if(ce){let C=h(i.get(B));R=zm(q,r.get(B),C.entityId)}eS({...q,data:R},B,X,k);continue}if(ne&&!Pm(q)){let R=n.getOrNull(q.entityId);if(R){tS(q,R,X,k);continue}}k.writeBuffer(q.messageBuffer,!1)}ne&&k.currentWriteOffset()&&ie.push(k.toBinary());let Z=ne?ie:k.toBinary();await ae.send(Z)}}function v(S){let _=o.push(S)-1;S.onmessage=c(_)}return{sendMessages:A,receiveMessages:g,addTransport:v}}var oS;(function(e){let t;(function(o){o[o.NETWORKED=0]="NETWORKED",o[o.RENDERER=1]="RENDERER"})(t=e.SynchronizedEntityType||(e.SynchronizedEntityType={}))})(oS||(oS={}));function zl(e,t){if(e===t)return 0;if(e===null&&t!==null)return-1;if(e!==null&&t===null)return 1;if(e instanceof Uint8Array&&t instanceof Uint8Array){let o=e.byteLength-t.byteLength;if(o!==0)return o>0?1:-1;let n;for(let i=0,r=e.byteLength;i<r;i++)if(n=e[i]-t[i],n!==0)return n>0?1:-1;return 0}if(typeof e=="string"){let o=e.length-t.length;return o!==0?o>0?1:-1:e.localeCompare(t)}return e>t?1:-1}function u1(e){return Object.freeze({...e})}function hN(e,t){let o=(t.get(e)||0)+1;return t.set(e,o),o}function yN(e,t,o,n){return function(r,a){for(let[s,c]of t)if(!(a&&!a(s)))if(n.has(s)){let d=n.get(s),h=new Lt;o.serialize(d,h),Wo.write(s,c,e,h.toBinary(),r)}else Kr.write(s,e,c,r)}}function EN(e,t,o,n){function i(r){let{entityId:a,timestamp:s}=r,c=t.get(a);if(c===void 0||c<s)return ur.StateUpdatedTimestamp;if(c>s)return ur.StateOutdatedTimestamp;if(r.type===Me.DELETE_COMPONENT&&!n.has(a))return ur.NoChanges;let d=0;if(n.has(a)){let h=new Lt;o.serialize(n.get(a),h),d=zl(h.toBinary(),r.data||null)}else d=zl(null,r.data);return d===0?ur.NoChanges:d>0?ur.StateOutdatedData:ur.StateUpdatedData}return r=>{if(r.type!==Me.PUT_COMPONENT&&r.type!==Me.PUT_COMPONENT_NETWORK&&r.type!==Me.DELETE_COMPONENT&&r.type!==Me.DELETE_COMPONENT_NETWORK)return[null,n.get(r.entityId)];let a=i(r),s=r.entityId;switch(a){case ur.StateUpdatedData:case ur.StateUpdatedTimestamp:{if(t.set(s,r.timestamp),r.type===Me.PUT_COMPONENT||r.type===Me.PUT_COMPONENT_NETWORK){let c=new Lt(r.data);n.set(s,o.deserialize(c))}else n.delete(s);return[null,n.get(s)]}case ur.StateOutdatedTimestamp:case ur.StateOutdatedData:if(n.has(s)){let c=new Lt;return o.serialize(n.get(s),c),[{type:Me.PUT_COMPONENT,componentId:e,data:c.toBinary(),entityId:s,timestamp:t.get(s)},n.get(s)]}else return[{type:Me.DELETE_COMPONENT,componentId:e,entityId:s,timestamp:t.get(s)},void 0]}return[null,n.get(s)]}}function gN(e,t,o,n,i){return function*(){for(let r of o){let a=hN(r,t);if(i.has(r)){let s=new Lt;n.serialize(i.get(r),s),yield{type:Me.PUT_COMPONENT,componentId:e,entityId:r,data:s.toBinary(),timestamp:a}}else yield{type:Me.DELETE_COMPONENT,componentId:e,entityId:r,timestamp:a}}o.clear()}}function l1(e,t,o){let n=new Map,i=new Set,r=new Map,a=new Map;return{get componentId(){return t},get componentName(){return e},get componentType(){return 0},schema:o,has(s){return n.has(s)},deleteFrom(s,c=!0){let d=n.get(s);return n.delete(s)&&c&&i.add(s),d||null},entityDeleted(s,c){n.delete(s)&&c&&i.add(s)},getOrNull(s){let c=n.get(s);return c?u1(c):null},get(s){let c=n.get(s);if(!c)throw new Error(`[getFrom] Component ${e} for entity #${s} not found`);return u1(c)},create(s,c){if(n.get(s))throw new Error(`[create] Component ${e} for ${s} already exists`);let h=c===void 0?o.create():o.extend?o.extend(c):c;return n.set(s,h),i.add(s),h},createOrReplace(s,c){let d=c===void 0?o.create():o.extend?o.extend(c):c;return n.set(s,d),i.add(s),d},getMutableOrNull(s){let c=n.get(s);return c?(i.add(s),c):null},getOrCreateMutable(s,c){let d=n.get(s);return d?(i.add(s),d):this.create(s,c)},getMutable(s){let c=this.getMutableOrNull(s);if(c===null)throw new Error(`[mutable] Component ${e} for ${s} not found`);return c},*iterator(){for(let[s,c]of n)yield[s,c]},*dirtyIterator(){for(let s of i)yield s},getCrdtUpdates:gN(t,r,i,o,n),updateFromCrdt:EN(t,r,o,n),dumpCrdtStateToBuffer:yN(t,r,o,n),onChange(s,c){let d=a.get(s)??[];d.push(c),a.set(s,d)},__onChangeCallbacks(s,c){let d=a.get(s);if(d)for(let h of d)h(c)}}}function rS(){let e=[];function t(){e.sort((i,r)=>r.priority-i.priority)}function o(i,r,a){let s=a??i.name;if(e.find(c=>c.fn===i))throw new Error(`System ${JSON.stringify(s)} already added to the engine`);e.push({fn:i,priority:r,name:s}),t()}function n(i){let r=-1;return typeof i=="string"?r=e.findIndex(a=>a.name===i):r=e.findIndex(a=>a.fn===i),r===-1?!1:(e.splice(r,1),t(),!0)}return{add:o,remove:n,getSystems(){return e}}}var f1=aS(new Set);function iS(){throw new Error("The set is frozen")}function aS(e){return e.add=iS,e.clear=iS,e}function TN(e,t){return e.timestamp>t.timestamp?1:-1}function sS(e,t,o,n){let i=new Map,r=new Set,a=[],s=new Map;function c(A){let v=A.raw.length;return v>1&&A.raw[v-1].timestamp<=A.raw[v-2].timestamp}function d(A){let v=i.get(A);if(v){for(c(v)&&v.raw.sort(TN);v.raw.length>n.maxElements;)v.raw.shift();let S=aS(new Set(v?.raw.map(_=>_.value)));return v.frozenSet=S,S}else return f1}function h(A,v){let S=i.get(A);S||(S={raw:[],frozenSet:f1},i.set(A,S));let _=o.extend?o.extend(v):v,x=n.timestampFunction(_);return a1&&Object.freeze(_),S.raw.push({value:_,timestamp:x}),{set:d(A),value:_}}return{get componentId(){return t},get componentName(){return e},get componentType(){return 1},schema:o,has(A){return i.has(A)},entityDeleted(A){i.delete(A)},get(A){let v=i.get(A);return v?v.frozenSet:f1},addValue(A,v){let{set:S,value:_}=h(A,v);r.add(A);let x=new Lt;return o.serialize(_,x),a.push({componentId:t,data:x.toBinary(),entityId:A,timestamp:0,type:Me.APPEND_VALUE}),S},*iterator(){for(let[A,v]of i)yield[A,v.frozenSet]},*dirtyIterator(){for(let A of r)yield A},getCrdtUpdates(){return r.clear(),a.splice(0,a.length)},updateFromCrdt(A){if(A.type===Me.APPEND_VALUE){let v=new Lt(A.data),{value:S}=h(A.entityId,o.deserialize(v));return[null,S]}return[null,void 0]},dumpCrdtStateToBuffer:function(A,v){for(let[S,{raw:_}]of i)if(!(v&&!v(S)))for(let x of _){let k=new Lt;o.serialize(x.value,k),Ji.write(S,0,t,k.toBinary(),A)}},onChange(A,v){let S=s.get(A)??[];S.push(v),s.set(A,S)},__onChangeCallbacks(A,v){let S=s.get(A);if(S)for(let _ of S)_(v)}}}function*cS(e,t){if(t.has(e)){t.delete(e);for(let[o,n]of t)n.parent===e&&(yield*cS(o,t));yield e}}function Jc(e,t,o){let n=new Map(e.getEntitiesWith(o));return cS(t,n)}function uS(e,t){let o=qc(e),n=Yi(e);e.removeEntity(t);let i=n.getOrNull(t);if(i)for(let[r,a]of e.getEntitiesWith(o))a.entityId===i.entityId&&a.networkId===i.networkId&&uS(e,r)}function lS(e,t){let o=cr(e);if(Yi(e).has(t))return uS(e,t);for(let i of Jc(e,t,o))e.removeEntity(i)}var fS=[0,1,2,4,5,6,7,8,9,10,11,12,13],_N=1<<20;function d1(e){let t=El(e),o={previousFrameMaxTimestamp:0,currentFrameMaxTimestamp:0,buttonState:new Map,thisFrameCommands:[]};function n(_,x,k){let j=t.get(k);for(let Y of Array.from(j).reverse())if(Y.button===x&&Y.state===_)return Y}function*i(_,x){let k=t.get(x);for(let j of Array.from(k).reverse())j.button===_&&(yield j)}function r(){let _=o.currentFrameMaxTimestamp;o.previousFrameMaxTimestamp=_,o.thisFrameCommands.length&&(o.thisFrameCommands=[]);for(let[,x]of e.getEntitiesWith(t)){let k=Array.from(x);for(let j=k.length-1;j>=0;j--){let Y=k[j];if(Y.timestamp>_&&(_=Y.timestamp),Y.timestamp>o.previousFrameMaxTimestamp&&o.thisFrameCommands.push(Y),Y.state===0||Y.state===1){let ie=o.buttonState.get(Y.button);if(!ie||Y.timestamp>ie.timestamp)o.buttonState.set(Y.button,Y);else break}}}o.currentFrameMaxTimestamp=_}e.addSystem(r,_N,"@dcl/ecs#inputSystem");function a(_){return _>o.previousFrameMaxTimestamp&&_<=o.currentFrameMaxTimestamp}function s(_,x){if(_!==3)return c(_,x);for(let k of fS){let j=c(k,x);if(j)return j}return null}function c(_,x){let k=null,j=null;for(let Y of i(_,x))if(j){if(!k&&Y.state===1){k=Y;break}}else if(Y.state===0){j=Y;continue}return!j||!k?null:k.timestamp<j.timestamp&&a(j.timestamp)?{up:j,down:k}:null}function d(_,x,k){if(_!==3)return g(_,x,k);for(let j of fS){let Y=g(j,x,k);if(Y)return Y}return null}function h(_,x,k){if(k)return d(_,x,k);for(let j of o.thisFrameCommands)if((j.button===_||_===3)&&j.state===x)return j;return null}function g(_,x,k){let j=n(x,_,k);return j&&a(j.timestamp)?j:null}function A(_,x){return s(_,x)!==null}function v(_,x,k){if(k){let j=n(x,_,k);return j&&a(j.timestamp)||!1}else{for(let j of o.thisFrameCommands)if((j.button===_||_===3)&&j.state===x)return!0;return!1}}function S(_){return o.buttonState.get(_)?.state===1}return{isPressed:S,getClick:s,getInputCommand:h,isClicked:A,isTriggered:v}}var dS;(function(e){e[e.LastWriteWinElementSet=0]="LastWriteWinElementSet",e[e.GrowOnlyValueSet=1]="GrowOnlyValueSet"})(dS||(dS={}));function bN(e){let t=e?.entityContainer??Z3(),o=new Map,n=rS(),i=!1;function r(J,ne=1e5,X){n.add(J,ne,X)}function a(J){return n.remove(J)}function s(){return t.generateEntity()}function c(J){for(let[,ne]of o)ne.componentName!=="core-schema::Network-Entity"&&ne.entityDeleted(J,!0);return t.removeEntity(J)}function d(J){return lS({removeEntity:c,defineComponentFromSchema:g,getEntitiesWith:x,defineComponent:v},J)}function h(J,ne){if(i)throw new Error("Engine is already sealed. No components can be added at this stage");let X=Nr(J);if(o.get(X))throw new Error(`Component number ${X} was already registered.`);if(ne.componentName!==J)throw new Error(`Component name doesn't match componentDefinition.componentName ${J} != ${ne.componentName}`);if(ne.componentId!==X)throw new Error(`Component number doesn't match componentDefinition.componentId ${X} != ${ne.componentId}`);return o.set(X,ne),ne}function g(J,ne){let X=Nr(J),Z=o.get(X);if(Z)return Z;if(i)throw new Error("Engine is already sealed. No components can be added at this stage");let q=l1(J,X,ne);return o.set(X,q),q}function A(J,ne,X){let Z=Nr(J),q=o.get(Z);if(q)return q;if(i)throw new Error("Engine is already sealed. No components can be added at this stage");let B=sS(J,Z,ne,X);return o.set(Z,B),B}function v(J,ne,X){let Z=Nr(J),q=o.get(Z);if(q)return q;if(i)throw new Error("Engine is already sealed. No components can be added at this stage");let B=U.Map(ne,X),ce=l1(J,Z,B),R={...ce,create(C,$){return ce.create(C,$)},createOrReplace(C,$){return ce.createOrReplace(C,$)}};return o.set(Z,R),R}function S(J){let ne=typeof J=="number"?J:Nr(J),X=o.get(ne);if(!X)throw new Error(`Component ${J} not found. You need to declare the components at the beginnig of the engine declaration`);return X}function _(J){let ne=typeof J=="number"?J:Nr(J);return o.get(ne)??null}function*x(...J){for(let[ne,...X]of j(...J))yield[ne,...X.map(Z=>Z.get(ne))]}function k(J){let ne=Gc({defineComponent:v});for(let[X,Z]of x(ne))if(Z.value===J)return X;return null}function*j(...J){let[ne,...X]=J;for(let[Z]of ne.iterator()){let q=!0;for(let B of X)if(!B.has(Z)){q=!1;break}q&&(yield[Z,...J])}}function Y(){return n.getSystems()}function ie(){return o.values()}function ve(J){if(i)throw new Error("Engine is already sealed. No components can be removed at this stage");let ne=typeof J=="number"?J:Nr(J);o.delete(ne)}cr({defineComponentFromSchema:g});function ae(){i||(i=!0)}return{addEntity:s,removeEntity:c,removeEntityWithChildren:d,addSystem:r,getSystems:Y,removeSystem:a,defineComponent:v,defineComponentFromSchema:g,defineValueSetComponentFromSchema:A,getEntitiesWith:x,getComponent:S,getComponentOrNull:_,getEntityOrNullByName:k,removeComponentDefinition:ve,registerComponentDefinition:h,entityContainer:t,componentsIter:ie,seal:ae}}function pS(e){let t=bN(e),n=nS(t,(r,a,s,c)=>{if(a===Me.DELETE_ENTITY)for(let d of t.componentsIter())d?.__onChangeCallbacks(r,void 0);else s?.__onChangeCallbacks(r,c);return e?.onChangeFunction(r,a,s,c)});async function i(r){await n.receiveMessages();for(let s of t.getSystems()){let c=s.fn(r);Pl(c,`A system (${s.name||"anonymous"}) returned a thenable. Systems cannot be async functions. Documentation: https://dcl.gg/sdk/sync-systems`)}let a=t.entityContainer.releaseRemovedEntities();await n.sendMessages(a)}return{_id:Date.now(),addEntity:t.addEntity,removeEntity:t.removeEntity,removeEntityWithChildren:t.removeEntityWithChildren,addSystem:t.addSystem,removeSystem:t.removeSystem,defineComponent:t.defineComponent,defineComponentFromSchema:t.defineComponentFromSchema,defineValueSetComponentFromSchema:t.defineValueSetComponentFromSchema,registerComponentDefinition:t.registerComponentDefinition,getEntitiesWith:t.getEntitiesWith,getComponent:t.getComponent,getComponentOrNull:t.getComponentOrNull,removeComponentDefinition:t.removeComponentDefinition,componentsIter:t.componentsIter,seal:t.seal,getEntityOrNullByName:t.getEntityOrNullByName,update:i,RootEntity:0,PlayerEntity:1,CameraEntity:2,getEntityState:t.entityContainer.getEntityState,addTransport:n.addTransport,entityContainer:t.entityContainer}}var Ul=(e={})=>({button:3,...e});function p1(e,t){let o=_a(e),n;(function(S){S[S.Click=0]="Click",S[S.Down=1]="Down",S[S.Up=2]="Up",S[S.HoverEnter=3]="HoverEnter",S[S.HoverLeave=4]="HoverLeave"})(n||(n={}));let i=new Map;function r(S){return i.get(S)||i.set(S,new Map).get(S)}function a(S,_,x){(o.getMutableOrNull(S)||o.create(S)).pointerEvents.push({eventType:_,eventInfo:{button:x.button,showFeedback:x.showFeedback,showHighlight:x.showHighlight,hoverText:x.hoverText,maxDistance:x.maxDistance}})}function s(S,_,x){let k=o.getMutableOrNull(S);k&&(k.pointerEvents=k.pointerEvents.filter(j=>!(j.eventInfo?.button===x&&j.eventType===_)))}function c(S){return S===n.Up?0:S===n.HoverLeave?3:S===n.HoverEnter?2:1}function d(S,_){let x=r(S),k=x.get(_);k?.opts.hoverText&&s(S,c(_),k.opts.button),x.delete(_)}e.addSystem(function(){for(let[_,x]of i){if(e.getEntityState(_)===Gn.Removed){i.delete(_);continue}for(let[k,{cb:j,opts:Y}]of x){if(k===n.Click){let ie=t.getClick(Y.button,_);ie&&Pl(j(ie.up),"Click event returned a thenable. Only synchronous functions are allowed")}if(k===n.Down||k===n.Up||k===n.HoverEnter||k===n.HoverLeave){let ie=t.getInputCommand(Y.button,c(k),_);ie&&Pl(j(ie),"Event handler returned a thenable. Only synchronous functions are allowed")}}}});let h=(...S)=>{let[_,x,k]=S;if(typeof _=="number")return h({entity:_,opts:k??{}},x);let{entity:j,opts:Y}=_,ie=Ul(Y);d(j,n.Down),r(j).set(n.Down,{cb:x,opts:ie}),a(j,1,ie)},g=(...S)=>{let[_,x,k]=S;if(typeof _=="number")return g({entity:_,opts:k??{}},x);let{entity:j,opts:Y}=_,ie=Ul(Y);d(j,n.Up),r(j).set(n.Up,{cb:x,opts:ie}),a(j,0,ie)};return{removeOnClick(S){d(S,n.Click)},removeOnPointerDown(S){d(S,n.Down)},removeOnPointerUp(S){d(S,n.Up)},removeOnPointerHoverEnter(S){d(S,n.HoverEnter)},removeOnPointerHoverLeave(S){d(S,n.HoverLeave)},onClick(S,_){let{entity:x}=S,k=Ul(S.opts);d(x,n.Click),r(x).set(n.Click,{cb:_,opts:k}),a(x,1,k)},onPointerDown:h,onPointerUp:g,onPointerHoverEnter:(...S)=>{let[_,x]=S,{entity:k,opts:j}=_,Y=Ul(j);d(k,n.HoverEnter),r(k).set(n.HoverEnter,{cb:x,opts:Y}),a(k,2,Y)},onPointerHoverLeave:(...S)=>{let[_,x]=S,{entity:k,opts:j}=_,Y=Ul(j);d(k,n.HoverLeave),r(k).set(n.HoverLeave,{cb:x,opts:Y}),a(k,3,Y)}}}var m1=new Map;function Um(e){if(m1.has(e._id))return m1.get(e._id);let t=$c(e),o=gl(e),n=ps(e),i=new Map;function r(h){let g=o.getOrNull(h),A=t.getOrNull(h),v=i.get(h);return!g||!A?!1:!!((a(h)||g.state===1)&&!v?.completed&&(v?.frames??0)>2)}function a(h){let g=t.getOrNull(h),A=i.get(h)?.tween;if(g&&!A||!g&&A)return!0;let v=new Lt;return t.schema.serialize(g,v),zl(v.toBinary(),A)}let s=[];e.addSystem(()=>{for(let h of s)h();s.length=0;for(let[h,g]of e.getEntitiesWith(t)){if(a(h)){let v=new Lt;t.schema.serialize(g,v),i.set(h,{tween:v.toBinary(),frames:0,completed:!1,changed:!0});continue}let A=i.get(h);if(A.frames+=1,A.changed=!1,r(h)){A.frames=0,A.completed=!0;let v=n.getOrNull(h);if(!v)continue;let{sequence:S}=v;if(S&&S.length){let[_,...x]=S;t.createOrReplace(h,_);let k=n.getMutable(h);k.sequence=x,v.loop===0&&k.sequence.push(g)}else v.loop===1?t.createOrReplace(h,c(g)):v.loop===0&&(t.deleteFrom(h),i.delete(h),s.push(()=>{t.createOrReplace(h,g)}))}}},Number.NEGATIVE_INFINITY);function c(h){if(h.mode?.$case==="move"&&h.mode.move)return{...h,mode:{...h.mode,move:{start:h.mode.move.end,end:h.mode.move.start}}};if(h.mode?.$case==="rotate"&&h.mode.rotate)return{...h,mode:{...h.mode,rotate:{start:h.mode.rotate.end,end:h.mode.rotate.start}}};if(h.mode?.$case==="scale"&&h.mode.scale)return{...h,mode:{...h.mode,scale:{start:h.mode.scale.end,end:h.mode.scale.start}}};if(h.mode?.$case==="textureMove"&&h.mode.textureMove)return{...h,mode:{...h.mode,textureMove:{start:h.mode.textureMove.end,end:h.mode.textureMove.start}}};throw new Error("Invalid tween")}let d={tweenCompleted:r};return m1.set(e._id,d),d}function mS(e){let t=_a(e),o=Cm(e),n=ds(e),i=qi(e),r=new Set,a=0;function s(c){if(a+=c,!(a<=10)){a=0;for(let[d]of e.getEntitiesWith(t)){if(r.has(d)||n.has(d)||i.has(d))continue;let h=o.getOrNull(d);h&&(h.collisionMask===void 0||h.collisionMask&1)||(r.add(d),console.log(`\u26A0\uFE0F Missing MeshCollider component on entity ${d}. Add a MeshCollider to the entity so it can be clickeable by the player.
See https://docs.decentraland.org/creator/development-guide/sdk7/colliders/#pointer-blocking`))}}}e.removeSystem(s),e.addSystem(s)}var De=pS();var q9=Um(De);mS(De);var hS=pl(De);var yS=ml(De),ES=Vy(De),gS=hl(De);var TS=Hy(De),h1=ds(De),_S=$y(De);var gs=yl(De);var Bm=El(De);var SS=Em(De),Ts=Ky(De);var Lm=ps(De),Dm=gl(De);var bS=Tl(De),vS=_l(De),AS=Sl(De),wS=ms(De),xS=hs(De),IS=ys(De),RS=qi(De),NS=gm(De);var OS;(function(e){e[e.CT_FIRST_PERSON=0]="CT_FIRST_PERSON",e[e.CT_THIRD_PERSON=1]="CT_THIRD_PERSON",e[e.CT_CINEMATIC=2]="CT_CINEMATIC"})(OS||(OS={}));var kS;(function(e){e[e.IA_POINTER=0]="IA_POINTER",e[e.IA_PRIMARY=1]="IA_PRIMARY",e[e.IA_SECONDARY=2]="IA_SECONDARY",e[e.IA_ANY=3]="IA_ANY",e[e.IA_FORWARD=4]="IA_FORWARD",e[e.IA_BACKWARD=5]="IA_BACKWARD",e[e.IA_RIGHT=6]="IA_RIGHT",e[e.IA_LEFT=7]="IA_LEFT",e[e.IA_JUMP=8]="IA_JUMP",e[e.IA_WALK=9]="IA_WALK",e[e.IA_ACTION_3=10]="IA_ACTION_3",e[e.IA_ACTION_4=11]="IA_ACTION_4",e[e.IA_ACTION_5=12]="IA_ACTION_5",e[e.IA_ACTION_6=13]="IA_ACTION_6"})(kS||(kS={}));var CS;(function(e){e[e.PET_UP=0]="PET_UP",e[e.PET_DOWN=1]="PET_DOWN",e[e.PET_HOVER_ENTER=2]="PET_HOVER_ENTER",e[e.PET_HOVER_LEAVE=3]="PET_HOVER_LEAVE"})(CS||(CS={}));var MS;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.LOADING=1]="LOADING",e[e.NOT_FOUND=2]="NOT_FOUND",e[e.FINISHED_WITH_ERROR=3]="FINISHED_WITH_ERROR",e[e.FINISHED=4]="FINISHED"})(MS||(MS={}));var PS;(function(e){e[e.TAM_TOP_LEFT=0]="TAM_TOP_LEFT",e[e.TAM_TOP_CENTER=1]="TAM_TOP_CENTER",e[e.TAM_TOP_RIGHT=2]="TAM_TOP_RIGHT",e[e.TAM_MIDDLE_LEFT=3]="TAM_MIDDLE_LEFT",e[e.TAM_MIDDLE_CENTER=4]="TAM_MIDDLE_CENTER",e[e.TAM_MIDDLE_RIGHT=5]="TAM_MIDDLE_RIGHT",e[e.TAM_BOTTOM_LEFT=6]="TAM_BOTTOM_LEFT",e[e.TAM_BOTTOM_CENTER=7]="TAM_BOTTOM_CENTER",e[e.TAM_BOTTOM_RIGHT=8]="TAM_BOTTOM_RIGHT"})(PS||(PS={}));var zS;(function(e){e[e.F_SANS_SERIF=0]="F_SANS_SERIF",e[e.F_SERIF=1]="F_SERIF",e[e.F_MONOSPACE=2]="F_MONOSPACE"})(zS||(zS={}));function y1(e){let t=e.getComponentOrNull("composite::root");return t||e.defineComponent("composite::root",{src:U.String,entities:U.Array(U.Map({src:U.Entity,dest:U.Entity}))})}var vN="/";function AN(e,t=!1){let o="",n=0,i=-1,r=0,a;for(let s=0;s<=e.length;++s){if(s<e.length)a=e.charCodeAt(s);else{if(a===47)break;a=47}if(a===47){if(!(i===s-1||r===1))if(i!==s-1&&r===2){if(o.length<2||n!==2||o.charCodeAt(o.length-1)!==46||o.charCodeAt(o.length-2)!==46){if(o.length>2){let c=o.lastIndexOf("/");if(c!==o.length-1){c===-1?(o="",n=0):(o=o.slice(0,c),n=o.length-1-o.lastIndexOf("/")),i=s,r=0;continue}}else if(o.length===2||o.length===1){o="",n=0,i=s,r=0;continue}}t&&(o.length>0?o+="/..":o="..",n=2)}else o.length>0?o+="/"+e.slice(i+1,s):o=e.slice(i+1,s),n=s-i-1;i=s,r=0}else a===46&&r!==-1?++r:r=-1}return o}function Fm(...e){let t="",o=!1,n;for(let i=e.length-1;i>=-1&&!o;i--){let r;i>=0?r=e[i]:(n===void 0&&(n=vN),r=n),r.length!==0&&(t=r+"/"+t,o=r.charCodeAt(0)===47)}return t=AN(t,!o),o?t.length>0?"/"+t:"/":t.length>0?t:"."}function US(e){if(e.length===0)return".";let t=e.charCodeAt(0),o=t===47,n=-1,i=!0;for(let r=e.length-1;r>=1;--r)if(t=e.charCodeAt(r),t===47){if(!i){n=r;break}}else i=!1;return n===-1?o?"/":".":o&&n===1?"//":e.slice(0,n)}function jm(e,t){return(e.startsWith(".")?Fm(t,e):Fm(e)).substring(1)}var Qc;(function(e){e[e.EMM_NONE=0]="EMM_NONE",e[e.EMM_NEXT_AVAILABLE=1]="EMM_NEXT_AVAILABLE",e[e.EMM_DIRECT_MAPPING=2]="EMM_DIRECT_MAPPING"})(Qc||(Qc={}));function BS(e,t){return t.data?.$case==="json"?t.data.json:e.schema.deserialize(new Lt(t.data?.binary))}function xN(e,t){let o=e.getComponentOrNull(t.name);if(o)return o;if(t.name.startsWith("core::")){if(t.name in e1)return e1[t.name](e);throw new Error(`The core component ${t.name} was not found.`)}else{if(t.jsonSchema)return e.defineComponentFromSchema(t.name,U.fromJson(t.jsonSchema));throw new Error(`${t.name} is not defined and there is no schema to define it.`)}}function IN(e,t,o,{entityMapping:n}){let i=o.get(t);if(i)return i;if(n?.type===Qc.EMM_DIRECT_MAPPING){let a=n.getCompositeEntity(t);return o.set(t,a),a}let r=n?.type===Qc.EMM_NEXT_AVAILABLE?n.getNextAvailableEntity():e.addEntity();if(r===null)throw new Error("There is no more entities to allocate");return o.set(t,r),r}function E1(e,t,o,n){let{rootEntity:i,alreadyRequestedSrc:r,entityMapping:a}=n,s=r||new Set,c=US(Fm(t.src)),d=Nr("core::Transform"),h=y1(e),g=new Map,A=x=>IN(e,x,g,n),v=i??A(0);i&&g.set(0,i);let S=t.composite.components.find(x=>x.name===h.componentName);if(S)for(let[x,k]of S.data){let j=BS(h,k),Y=jm(j.src,c),ie=o.getCompositeOrNull(Y),ve=A(x);if(ie){if(s.has(ie.src)||ie.src===t.src)throw new Error(`Composite ${t.src} has a recursive instanciation while try to instance ${ie.src}. Previous instances: ${s.toString()}`);E1(e,ie,o,{rootEntity:ve,alreadyRequestedSrc:new Set(s).add(ie.src),entityMapping:a?.type===Qc.EMM_NEXT_AVAILABLE?a:void 0})}}for(let x of t.composite.components){if(x.name===h.componentName)continue;let k=xN(e,x);for(let[j,Y]of x.data){let ie=BS(k,Y),ve=A(j),ae=k.create(ve,ie);if(k.componentId===d){let J=ae;J.parent?J.parent=A(J.parent):J.parent=A(0)}else U.mutateNestedValues(k.schema.jsonSchema,ae,(J,ne)=>ne.serializationType==="entity"?{changed:!0,value:A(J)}:{changed:!1})}}let _=h.getMutableOrNull(v)||h.create(v);for(let[x,k]of g)_.entities.push({src:x,dest:k});return _.src=t.src,v}var fr=ot(ut());var lr=ot(ut());var LS;(function(e){e[e.NULL_VALUE=0]="NULL_VALUE"})(LS||(LS={}));function RN(e){switch(e){case 0:case"NULL_VALUE":return 0;default:throw new WS.Error("Unrecognized enum value "+e+" for enum NullValue")}}function NN(e){switch(e){case 0:return"NULL_VALUE";default:throw new WS.Error("Unrecognized enum value "+e+" for enum NullValue")}}function DS(){return{fields:new Map}}var Kc;(function(e){function t(s,c=lr.default.Writer.create()){return s.fields.forEach((d,h)=>{d!==void 0&&Wm.encode({key:h,value:d},c.uint32(10).fork()).ldelim()}),c}e.encode=t;function o(s,c){let d=s instanceof lr.default.Reader?s:lr.default.Reader.create(s),h=c===void 0?d.len:d.pos+c,g=DS();for(;d.pos<h;){let A=d.uint32();switch(A>>>3){case 1:if(A!==10)break;let v=Wm.decode(d,d.uint32());v.value!==void 0&&g.fields.set(v.key,v.value);continue}if((A&7)===4||A===0)break;d.skipType(A&7)}return g}e.decode=o;function n(s){return{fields:kN(s.fields)?Object.entries(s.fields).reduce((c,[d,h])=>(c.set(d,h),c),new Map):new Map}}e.fromJSON=n;function i(s){let c={};return c.fields={},s.fields&&s.fields.forEach((d,h)=>{c.fields[h]=d}),c}e.toJSON=i;function r(s){let c=DS();return s!==void 0&&Object.keys(s).forEach(d=>{c.fields.set(d,s[d])}),c}e.wrap=r;function a(s){let c={};return[...s.fields.keys()].forEach(d=>{c[d]=s.fields.get(d)}),c}e.unwrap=a})(Kc||(Kc={}));function ON(){return{key:"",value:void 0}}var Wm;(function(e){function t(r,a=lr.default.Writer.create()){return r.key!==""&&a.uint32(10).string(r.key),r.value!==void 0&&io.encode(io.wrap(r.value),a.uint32(18).fork()).ldelim(),a}e.encode=t;function o(r,a){let s=r instanceof lr.default.Reader?r:lr.default.Reader.create(r),c=a===void 0?s.len:s.pos+a,d=ON();for(;s.pos<c;){let h=s.uint32();switch(h>>>3){case 1:if(h!==10)break;d.key=s.string();continue;case 2:if(h!==18)break;d.value=io.unwrap(io.decode(s,s.uint32()));continue}if((h&7)===4||h===0)break;s.skipType(h&7)}return d}e.decode=o;function n(r){return{key:Aa(r.key)?String(r.key):"",value:Aa(r?.value)?r.value:void 0}}e.fromJSON=n;function i(r){let a={};return r.key!==void 0&&(a.key=r.key),r.value!==void 0&&(a.value=r.value),a}e.toJSON=i})(Wm||(Wm={}));function FS(){return{kind:void 0}}var io;(function(e){function t(s,c=lr.default.Writer.create()){switch(s.kind?.$case){case"nullValue":c.uint32(8).int32(s.kind.nullValue);break;case"numberValue":c.uint32(17).double(s.kind.numberValue);break;case"stringValue":c.uint32(26).string(s.kind.stringValue);break;case"boolValue":c.uint32(32).bool(s.kind.boolValue);break;case"structValue":Kc.encode(Kc.wrap(s.kind.structValue),c.uint32(42).fork()).ldelim();break;case"listValue":Xc.encode(Xc.wrap(s.kind.listValue),c.uint32(50).fork()).ldelim();break}return c}e.encode=t;function o(s,c){let d=s instanceof lr.default.Reader?s:lr.default.Reader.create(s),h=c===void 0?d.len:d.pos+c,g=FS();for(;d.pos<h;){let A=d.uint32();switch(A>>>3){case 1:if(A!==8)break;g.kind={$case:"nullValue",nullValue:d.int32()};continue;case 2:if(A!==17)break;g.kind={$case:"numberValue",numberValue:d.double()};continue;case 3:if(A!==26)break;g.kind={$case:"stringValue",stringValue:d.string()};continue;case 4:if(A!==32)break;g.kind={$case:"boolValue",boolValue:d.bool()};continue;case 5:if(A!==42)break;g.kind={$case:"structValue",structValue:Kc.unwrap(Kc.decode(d,d.uint32()))};continue;case 6:if(A!==50)break;g.kind={$case:"listValue",listValue:Xc.unwrap(Xc.decode(d,d.uint32()))};continue}if((A&7)===4||A===0)break;d.skipType(A&7)}return g}e.decode=o;function n(s){return{kind:Aa(s.nullValue)?{$case:"nullValue",nullValue:RN(s.nullValue)}:Aa(s.numberValue)?{$case:"numberValue",numberValue:Number(s.numberValue)}:Aa(s.stringValue)?{$case:"stringValue",stringValue:String(s.stringValue)}:Aa(s.boolValue)?{$case:"boolValue",boolValue:!!s.boolValue}:Aa(s.structValue)?{$case:"structValue",structValue:s.structValue}:Aa(s.listValue)?{$case:"listValue",listValue:[...s.listValue]}:void 0}}e.fromJSON=n;function i(s){let c={};return s.kind?.$case==="nullValue"&&(c.nullValue=s.kind?.nullValue!==void 0?NN(s.kind?.nullValue):void 0),s.kind?.$case==="numberValue"&&(c.numberValue=s.kind?.numberValue),s.kind?.$case==="stringValue"&&(c.stringValue=s.kind?.stringValue),s.kind?.$case==="boolValue"&&(c.boolValue=s.kind?.boolValue),s.kind?.$case==="structValue"&&(c.structValue=s.kind?.structValue),s.kind?.$case==="listValue"&&(c.listValue=s.kind?.listValue),c}e.toJSON=i;function r(s){let c=FS();if(s===null)c.kind={$case:"nullValue",nullValue:0};else if(typeof s=="boolean")c.kind={$case:"boolValue",boolValue:s};else if(typeof s=="number")c.kind={$case:"numberValue",numberValue:s};else if(typeof s=="string")c.kind={$case:"stringValue",stringValue:s};else if(Array.isArray(s))c.kind={$case:"listValue",listValue:s};else if(typeof s=="object")c.kind={$case:"structValue",structValue:s};else if(typeof s<"u")throw new Error("Unsupported any value type: "+typeof s);return c}e.wrap=r;function a(s){return s.kind?.$case==="nullValue"?null:s.kind?.$case==="numberValue"?s.kind?.numberValue:s.kind?.$case==="stringValue"?s.kind?.stringValue:s.kind?.$case==="boolValue"?s.kind?.boolValue:s.kind?.$case==="structValue"?s.kind?.structValue:s.kind?.$case==="listValue"?s.kind?.listValue:void 0}e.unwrap=a})(io||(io={}));function jS(){return{values:[]}}var Xc;(function(e){function t(s,c=lr.default.Writer.create()){for(let d of s.values)io.encode(io.wrap(d),c.uint32(10).fork()).ldelim();return c}e.encode=t;function o(s,c){let d=s instanceof lr.default.Reader?s:lr.default.Reader.create(s),h=c===void 0?d.len:d.pos+c,g=jS();for(;d.pos<h;){let A=d.uint32();switch(A>>>3){case 1:if(A!==10)break;g.values.push(io.unwrap(io.decode(d,d.uint32())));continue}if((A&7)===4||A===0)break;d.skipType(A&7)}return g}e.decode=o;function n(s){return{values:Array.isArray(s?.values)?[...s.values]:[]}}e.fromJSON=n;function i(s){let c={};return s.values?c.values=s.values.map(d=>d):c.values=[],c}e.toJSON=i;function r(s){let c=jS();return c.values=s??[],c}e.wrap=r;function a(s){return s?.hasOwnProperty("values")&&Array.isArray(s.values)?s.values:s}e.unwrap=a})(Xc||(Xc={}));var WS=(()=>{if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof global<"u")return global;throw"Unable to locate global object"})();function kN(e){return typeof e=="object"&&e!==null}function Aa(e){return e!=null}function CN(){return{data:void 0}}var wa;(function(e){function t(r,a=fr.default.Writer.create()){switch(r.data?.$case){case"json":io.encode(io.wrap(r.data.json),a.uint32(10).fork()).ldelim();break;case"binary":a.uint32(18).bytes(r.data.binary);break}return a}e.encode=t;function o(r,a){let s=r instanceof fr.default.Reader?r:fr.default.Reader.create(r),c=a===void 0?s.len:s.pos+a,d=CN();for(;s.pos<c;){let h=s.uint32();switch(h>>>3){case 1:if(h!==10)break;d.data={$case:"json",json:io.unwrap(io.decode(s,s.uint32()))};continue;case 2:if(h!==18)break;d.data={$case:"binary",binary:s.bytes()};continue}if((h&7)===4||h===0)break;s.skipType(h&7)}return d}e.decode=o;function n(r){return{data:Ss(r.json)?{$case:"json",json:r.json}:Ss(r.binary)?{$case:"binary",binary:UN(r.binary)}:void 0}}e.fromJSON=n;function i(r){let a={};return r.data?.$case==="json"&&(a.json=r.data?.json),r.data?.$case==="binary"&&(a.binary=r.data?.binary!==void 0?BN(r.data?.binary):void 0),a}e.toJSON=i})(wa||(wa={}));function MN(){return{name:"",jsonSchema:void 0,data:new Map}}var Zc;(function(e){function t(r,a=fr.default.Writer.create()){return r.name!==""&&a.uint32(10).string(r.name),r.jsonSchema!==void 0&&io.encode(io.wrap(r.jsonSchema),a.uint32(18).fork()).ldelim(),r.data.forEach((s,c)=>{Vm.encode({key:c,value:s},a.uint32(26).fork()).ldelim()}),a}e.encode=t;function o(r,a){let s=r instanceof fr.default.Reader?r:fr.default.Reader.create(r),c=a===void 0?s.len:s.pos+a,d=MN();for(;s.pos<c;){let h=s.uint32();switch(h>>>3){case 1:if(h!==10)break;d.name=s.string();continue;case 2:if(h!==18)break;d.jsonSchema=io.unwrap(io.decode(s,s.uint32()));continue;case 3:if(h!==26)break;let g=Vm.decode(s,s.uint32());g.value!==void 0&&d.data.set(g.key,g.value);continue}if((h&7)===4||h===0)break;s.skipType(h&7)}return d}e.decode=o;function n(r){return{name:Ss(r.name)?String(r.name):"",jsonSchema:Ss(r?.jsonSchema)?r.jsonSchema:void 0,data:LN(r.data)?Object.entries(r.data).reduce((a,[s,c])=>(a.set(Number(s),wa.fromJSON(c)),a),new Map):new Map}}e.fromJSON=n;function i(r){let a={};return r.name!==void 0&&(a.name=r.name),r.jsonSchema!==void 0&&(a.jsonSchema=r.jsonSchema),a.data={},r.data&&r.data.forEach((s,c)=>{a.data[c]=wa.toJSON(s)}),a}e.toJSON=i})(Zc||(Zc={}));function PN(){return{key:0,value:void 0}}var Vm;(function(e){function t(r,a=fr.default.Writer.create()){return r.key!==0&&a.uint32(8).int32(r.key),r.value!==void 0&&wa.encode(r.value,a.uint32(18).fork()).ldelim(),a}e.encode=t;function o(r,a){let s=r instanceof fr.default.Reader?r:fr.default.Reader.create(r),c=a===void 0?s.len:s.pos+a,d=PN();for(;s.pos<c;){let h=s.uint32();switch(h>>>3){case 1:if(h!==8)break;d.key=s.int32();continue;case 2:if(h!==18)break;d.value=wa.decode(s,s.uint32());continue}if((h&7)===4||h===0)break;s.skipType(h&7)}return d}e.decode=o;function n(r){return{key:Ss(r.key)?Number(r.key):0,value:Ss(r.value)?wa.fromJSON(r.value):void 0}}e.fromJSON=n;function i(r){let a={};return r.key!==void 0&&(a.key=Math.round(r.key)),r.value!==void 0&&(a.value=r.value?wa.toJSON(r.value):void 0),a}e.toJSON=i})(Vm||(Vm={}));function zN(){return{version:0,components:[]}}var _s;(function(e){function t(r,a=fr.default.Writer.create()){r.version!==0&&a.uint32(8).int32(r.version);for(let s of r.components)Zc.encode(s,a.uint32(18).fork()).ldelim();return a}e.encode=t;function o(r,a){let s=r instanceof fr.default.Reader?r:fr.default.Reader.create(r),c=a===void 0?s.len:s.pos+a,d=zN();for(;s.pos<c;){let h=s.uint32();switch(h>>>3){case 1:if(h!==8)break;d.version=s.int32();continue;case 2:if(h!==18)break;d.components.push(Zc.decode(s,s.uint32()));continue}if((h&7)===4||h===0)break;s.skipType(h&7)}return d}e.decode=o;function n(r){return{version:Ss(r.version)?Number(r.version):0,components:Array.isArray(r?.components)?r.components.map(a=>Zc.fromJSON(a)):[]}}e.fromJSON=n;function i(r){let a={};return r.version!==void 0&&(a.version=Math.round(r.version)),r.components?a.components=r.components.map(s=>s?Zc.toJSON(s):void 0):a.components=[],a}e.toJSON=i})(_s||(_s={}));var eu=(()=>{if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof global<"u")return global;throw"Unable to locate global object"})();function UN(e){if(eu.Buffer)return Uint8Array.from(eu.Buffer.from(e,"base64"));{let t=eu.atob(e),o=new Uint8Array(t.length);for(let n=0;n<t.length;++n)o[n]=t.charCodeAt(n);return o}}function BN(e){if(eu.Buffer)return eu.Buffer.from(e).toString("base64");{let t=[];return e.forEach(o=>{t.push(String.fromCharCode(o))}),eu.btoa(t.join(""))}}function LN(e){return typeof e=="object"&&e!==null}function Ss(e){return e!=null}var xa;(function(e){function t(s){return _s.fromJSON(s)}e.fromJson=t;function o(s){return _s.decode(s)}e.fromBinary=o;function n(s){return _s.toJSON(s)}e.toJson=n;function i(s){return _s.encode(s).finish()}e.toBinary=i;function r(s,c,d,h={}){E1(s,c,d,h)}e.instance=r;function a(s,c="/"){return jm(s,c)}e.resolveAndNormalizePath=a})(xa||(xa={}));var Sn=cr(De);var g1=Om(De),T1=Y3(De),tu=Nm(De),Hm=km(De),_1=Cm(De),Fj=Gc(De),bn=$c(De);var $m=Mm(De),nu=Yi(De),Gm=qc(De);var Ia=.45454545454545453,Ra=2.2,VS=1e-6,Bl=Math.PI/180,Ll=360/(Math.PI*2);var un;(function(e){e.TwoPi=Math.PI*2;function t(ae,J,ne=1401298e-51){let X=ae-J;return-ne<=X&&X<=ne}e.withinEpsilon=t;function o(ae){let J=ae.toString(16);return ae<=15?("0"+J).toUpperCase():J.toUpperCase()}e.toHex=o;function n(ae){let J=+ae;return J===0||isNaN(J)?J:J>0?1:-1}e.sign=n;function i(ae,J=0,ne=1){return Math.min(ne,Math.max(J,ae))}e.clamp=i;function r(ae){return Math.log(ae)*Math.LOG2E}e.log2=r;function a(ae,J){return ae-Math.floor(ae/J)*J}e.repeat=a;function s(ae,J,ne){return(ae-J)/(ne-J)}e.normalize=s;function c(ae,J,ne){return ae*(ne-J)+J}e.denormalize=c;function d(ae,J){let ne=a(J-ae,360);return ne>180&&(ne-=360),ne}e.deltaAngle=d;function h(ae,J){let ne=a(ae,J*2);return J-Math.abs(ne-J)}e.pingPong=h;function g(ae,J,ne){let X=i(ne);return X=-2*X*X*X+3*X*X,J*X+ae*(1-X)}e.smoothStep=g;function A(ae,J,ne){let X=0;return Math.abs(J-ae)<=ne?X=J:X=ae+n(J-ae)*ne,X}e.moveTowards=A;function v(ae,J,ne){let X=d(ae,J),Z=0;return-ne<X&&X<ne?Z=J:Z=A(ae,ae+X,ne),Z}e.moveTowardsAngle=v;function S(ae,J,ne){return ae+(J-ae)*ne}e.lerp=S;function _(ae,J,ne){let X=a(J-ae,360);return X>180&&(X-=360),ae+X*i(ne)}e.lerpAngle=_;function x(ae,J,ne){let X=0;return ae!==J?X=i((ne-ae)/(J-ae)):X=0,X}e.inverseLerp=x;function k(ae,J,ne,X,Z){let q=Z*Z,B=Z*q,ce=2*B-3*q+1,R=-2*B+3*q,C=B-2*q+Z,$=B-q;return ae*ce+ne*R+J*C+X*$}e.hermite=k;function j(ae,J){return ae===J?ae:Math.random()*(J-ae)+ae}e.randomRange=j;function Y(ae,J,ne){return(ae-J)/(ne-J)}e.rangeToPercent=Y;function ie(ae,J,ne){return(ne-J)*ae+J}e.percentToRange=ie;function ve(ae){return ae-e.TwoPi*Math.floor((ae+Math.PI)/e.TwoPi)}e.normalizeRadians=ve})(un||(un={}));var Ee;(function(e){function t(V){let K=Math.abs(V.x),ue=Math.abs(V.y);if(K!==ue)return!0;let Le=Math.abs(V.z);return K!==Le}e.isNonUniform=t;function o(V=0,K=0,ue=0){return{x:V,y:K,z:ue}}e.create=o;function n(V,K){return{x:V.x+K.x,y:V.y+K.y,z:V.z+K.z}}e.add=n;function i(V,K,ue){ue.x=V.x+K.x,ue.y=V.y+K.y,ue.z=V.z+K.z}e.addToRef=i;function r(V,K){return{x:V.x-K.x,y:V.y-K.y,z:V.z-K.z}}e.subtract=r;function a(V,K,ue){ue.x=V.x-K.x,ue.y=V.y-K.y,ue.z=V.z-K.z}e.subtractToRef=a;function s(V,K,ue,Le,ze){ze.x=V.x-K,ze.y=V.y-ue,ze.z=V.z-Le}e.subtractFromFloatsToRef=s;function c(V){return{x:-V.x,y:-V.y,z:-V.z}}e.negate=c;function d(V,K){K.x=V.x,K.y=V.y,K.z=V.z}e.copyFrom=d;function h(V,K,ue,Le){Le.x=V,Le.y=K,Le.z=ue}e.copyFromFloats=h;function g(V){return o(V.x,V.y,V.z)}e.clone=g;function A(V,K,ue,Le){let ze=Z(V,ue)-Le,je=Z(K,ue)-Le;return ze/(ze-je)}e.getClipFactor=A;function v(V,K,ue){let Le=ne(V),ze=ne(K),je=Z(Le,ze),nt=o();return ye(Le,ze,nt),Z(nt,ue)>0?Math.acos(je):-Math.acos(je)}e.getAngleBetweenVectors=v;function S(V,K=0){return o(V[K],V[K+1],V[K+2])}e.fromArray=S;function _(V,K){return S(V,K)}e.fromFloatArray=_;function x(V,K,ue){ue.x=V[K],ue.y=V[K+1],ue.z=V[K+2]}e.fromArrayToRef=x;function k(V,K,ue){return x(V,K,ue)}e.fromFloatArrayToRef=k;function j(V){return Math.sqrt(V.x*V.x+V.y*V.y+V.z*V.z)}e.length=j;function Y(V){return V.x*V.x+V.y*V.y+V.z*V.z}e.lengthSquared=Y;function ie(V,K,ue){ue.x=V.x*K,ue.y=V.y*K,ue.z=V.z*K}e.scaleToRef=ie;function ve(V,K){return o(V.x*K,V.y*K,V.z*K)}e.scale=ve;function ae(V,K){let ue=o(0,0,0);return J(V,K,ue),ue}e.normalizeFromLength=ae;function J(V,K,ue){if(K===0||K===1){d(V,ue);return}ie(V,1/K,ue)}e.normalizeFromLengthToRef=J;function ne(V){return ae(V,j(V))}e.normalize=ne;function X(V,K){J(V,j(V),K)}e.normalizeToRef=X;function Z(V,K){return V.x*K.x+V.y*K.y+V.z*K.z}e.dot=Z;function q(V,K){let ue=g(V);return B(V,K,ue),ue}e.applyMatrix4=q;function B(V,K,ue){let{x:Le,y:ze,z:je}=V,nt=K._m,bt=1/(nt[3]*Le+nt[7]*ze+nt[11]*je+nt[15]);ue.x=(nt[0]*Le+nt[4]*ze+nt[8]*je+nt[12])*bt,ue.y=(nt[1]*Le+nt[5]*ze+nt[9]*je+nt[13])*bt,ue.z=(nt[2]*Le+nt[6]*ze+nt[10]*je+nt[14])*bt}e.applyMatrix4ToRef=B;function ce(V,K){let ue=o();return R(V,K,ue),ue}e.rotate=ce;function R(V,K,ue){let{x:Le,y:ze,z:je}=V,{x:nt,y:bt,z:G,w:ee}=K,de=ee*Le+bt*je-G*ze,xe=ee*ze+G*Le-nt*je,_e=ee*je+nt*ze-bt*Le,E=-nt*Le-bt*ze-G*je;ue.x=de*ee+E*-nt+xe*-G-_e*-bt,ue.y=xe*ee+E*-bt+_e*-nt-de*-G,ue.z=_e*ee+E*-G+de*-bt-xe*-nt}e.rotateToRef=R;function C(V,K,ue){let Le=o(0,0,0);return $(V,K,ue,Le),Le}e.lerp=C;function $(V,K,ue,Le){Le.x=V.x+(K.x-V.x)*ue,Le.y=V.y+(K.y-V.y)*ue,Le.z=V.z+(K.z-V.z)*ue}e.lerpToRef=$;function Se(V,K){let ue=Fn();return ye(V,K,ue),ue}e.cross=Se;function ye(V,K,ue){ue.x=V.y*K.z-V.z*K.y,ue.y=V.z*K.x-V.x*K.z,ue.z=V.x*K.y-V.y*K.x}e.crossToRef=ye;function we(V,K){let ue=Fn();return Re(V,K,ue),ue}e.transformCoordinates=we;function Re(V,K,ue){return Xe(V.x,V.y,V.z,K,ue)}e.transformCoordinatesToRef=Re;function Xe(V,K,ue,Le,ze){let je=Le._m,nt=V*je[0]+K*je[4]+ue*je[8]+je[12],bt=V*je[1]+K*je[5]+ue*je[9]+je[13],G=V*je[2]+K*je[6]+ue*je[10]+je[14],ee=1/(V*je[3]+K*je[7]+ue*je[11]+je[15]);ze.x=nt*ee,ze.y=bt*ee,ze.z=G*ee}e.transformCoordinatesFromFloatsToRef=Xe;function it(V,K){let ue=Fn();return mt(V,K,ue),ue}e.transformNormal=it;function mt(V,K,ue){ct(V.x,V.y,V.z,K,ue)}e.transformNormalToRef=mt;function ct(V,K,ue,Le,ze){let je=Le._m;ze.x=V*je[0]+K*je[4]+ue*je[8],ze.y=V*je[1]+K*je[5]+ue*je[9],ze.z=V*je[2]+K*je[6]+ue*je[10]}e.transformNormalFromFloatsToRef=ct;function yt(V,K,ue,Le,ze){let je=ze*ze,nt=ze*je,bt=.5*(2*K.x+(-V.x+ue.x)*ze+(2*V.x-5*K.x+4*ue.x-Le.x)*je+(-V.x+3*K.x-3*ue.x+Le.x)*nt),G=.5*(2*K.y+(-V.y+ue.y)*ze+(2*V.y-5*K.y+4*ue.y-Le.y)*je+(-V.y+3*K.y-3*ue.y+Le.y)*nt),ee=.5*(2*K.z+(-V.z+ue.z)*ze+(2*V.z-5*K.z+4*ue.z-Le.z)*je+(-V.z+3*K.z-3*ue.z+Le.z)*nt);return o(bt,G,ee)}e.catmullRom=yt;function w(V,K,ue){let Le=o();return O(V,K,ue,Le),Le}e.clamp=w;function O(V,K,ue,Le){let ze=V.x;ze=ze>ue.x?ue.x:ze,ze=ze<K.x?K.x:ze;let je=V.y;je=je>ue.y?ue.y:je,je=je<K.y?K.y:je;let nt=V.z;nt=nt>ue.z?ue.z:nt,nt=nt<K.z?K.z:nt,h(ze,je,nt,Le)}e.clampToRef=O;function P(V,K,ue,Le,ze){let je=ze*ze,nt=ze*je,bt=2*nt-3*je+1,G=-2*nt+3*je,ee=nt-2*je+ze,de=nt-je,xe=V.x*bt+ue.x*G+K.x*ee+Le.x*de,_e=V.y*bt+ue.y*G+K.y*ee+Le.y*de,E=V.z*bt+ue.z*G+K.z*ee+Le.z*de;return o(xe,_e,E)}e.hermite=P;function I(V,K){let ue=o();return gn(K,V.x,V.y,V.z,ue),ue}e.minimize=I;function z(V,K){let ue=o();return An(V,K.x,K.y,K.z,ue),ue}e.maximize=z;function oe(V,K){return Math.sqrt(fe(V,K))}e.distance=oe;function fe(V,K){let ue=V.x-K.x,Le=V.y-K.y,ze=V.z-K.z;return ue*ue+Le*Le+ze*ze}e.distanceSquared=fe;function Oe(V,K){let ue=n(V,K);return ie(ue,.5,ue),ue}e.center=Oe;function Ye(V,K,ue){let Le=Fn();return dt(V,K,ue,Le),Le}e.rotationFromAxis=Ye;function dt(V,K,ue,Le){let ze=ht.create();ht.fromAxisToRotationQuaternionToRef(V,K,ue,ze),d(ht.toEulerAngles(ze),Le)}e.rotationFromAxisToRef=dt;function pt(V){return`(${V.x}, ${V.y}, ${V.z})`}e.toString=pt;function Rt(V){let K=V.x||0;return K=K*397^(V.y||0),K=K*397^(V.z||0),K}e.getHashCode=Rt;function at(V,K){return V.x===K.x&&V.y===K.y&&V.z===K.z}e.equals=at;function zt(V,K,ue=VS){return un.withinEpsilon(V.x,K.x,ue)&&un.withinEpsilon(V.y,K.y,ue)&&un.withinEpsilon(V.z,K.z,ue)}e.equalsWithEpsilon=zt;function Nt(V,K,ue,Le){return V.x===K&&V.y===ue&&V.z===Le}e.equalsToFloats=Nt;function Kt(V,K){let ue=o();return lt(V,K,ue),ue}e.multiply=Kt;function lt(V,K,ue){ue.x=V.x*K.x,ue.y=V.y*K.y,ue.z=V.z*K.z}e.multiplyToRef=lt;function Ze(V,K,ue,Le,ze){ze.x=V.x*K,ze.y=V.y*ue,ze.z=V.z*Le}e.multiplyByFloatsToRef=Ze;function tn(V,K,ue,Le){let ze=o();return Ze(V,K,ue,Le,ze),ze}e.multiplyByFloats=tn;function fn(V,K){return{x:V.x/K.x,y:V.y/K.y,z:V.z/K.z}}e.divide=fn;function Dn(V,K,ue){ue.x=V.x/K.x,ue.y=V.y/K.y,ue.z=V.z/K.z}e.divideToRef=Dn;function An(V,K,ue,Le,ze){K>V.x?ze.x=K:ze.x=V.x,ue>V.y?ze.y=ue:ze.y=V.y,Le>V.z?ze.z=Le:ze.z=V.z}e.maximizeInPlaceFromFloatsToRef=An;function gn(V,K,ue,Le,ze){K<V.x?ze.x=K:ze.x=V.x,ue<V.y?ze.y=ue:ze.y=V.y,Le<V.z?ze.z=Le:ze.z=V.z}e.minimizeInPlaceFromFloatsToRef=gn;function wn(V){return o(Math.floor(V.x),Math.floor(V.y),Math.floor(V.z))}e.floor=wn;function Jn(V){return o(V.x-Math.floor(V.x),V.y-Math.floor(V.y),V.z-Math.floor(V.z))}e.fract=Jn;function Fn(){return o(0,0,0)}e.Zero=Fn;function _o(){return o(1,1,1)}e.One=_o;function Tn(){return o(0,1,0)}e.Up=Tn;function So(){return o(0,-1,0)}e.Down=So;function bo(){return o(0,0,1)}e.Forward=bo;function Ft(){return o(0,0,-1)}e.Backward=Ft;function Qn(){return o(1,0,0)}e.Right=Qn;function Zn(){return o(-1,0,0)}e.Left=Zn;function eo(){return o(Math.random(),Math.random(),Math.random())}e.Random=eo})(Ee||(Ee={}));var qm;(function(e){function t(_,x,k,j){return{normal:Ee.create(_,x,k),d:j}}e.create=t;function o(_){return t(_[0],_[1],_[2],_[3])}e.fromArray=o;function n(_,x,k){return t(0,0,0,0)}e.fromPoints=n;function i(_,x){let k=t(0,0,0,0);return k.normal=Ee.normalize(x),k.d=-(x.x*_.x+x.y*_.y+x.z*_.z),k}e.romPositionAndNormal=i;function r(_,x,k){let j=-(x.x*_.x+x.y*_.y+x.z*_.z);return Ee.dot(k,x)+j}e.signedDistanceToPlaneFromPositionAndNormal=r;function a(_){return[_.normal.x,_.normal.y,_.normal.z,_.d]}e.asArray=a;function s(_){return t(_.normal.x,_.normal.y,_.normal.z,_.d)}e.clone=s;function c(_){return 0}e.getHashCode=c;function d(_){let x=t(0,0,0,0),k=Math.sqrt(_.normal.x*_.normal.x+_.normal.y*_.normal.y+_.normal.z*_.normal.z),j=0;return k!==0&&(j=1/k),x.normal.x=_.normal.x*j,x.normal.y=_.normal.y*j,x.normal.z=_.normal.z*j,x.d*=j,_}e.normalize=d;function h(_,x){let k=Xr.create();Xr.transposeToRef(x,k);let j=k._m,Y=_.normal.x,ie=_.normal.y,ve=_.normal.z,ae=_.d,J=Y*j[0]+ie*j[1]+ve*j[2]+ae*j[3],ne=Y*j[4]+ie*j[5]+ve*j[6]+ae*j[7],X=Y*j[8]+ie*j[9]+ve*j[10]+ae*j[11],Z=Y*j[12]+ie*j[13]+ve*j[14]+ae*j[15];return t(J,ne,X,Z)}e.transform=h;function g(_,x){return _.normal.x*x.x+_.normal.y*x.y+_.normal.z*x.z+_.d}e.dotCoordinate=g;function A(_,x,k){let j=x.x-_.x,Y=x.y-_.y,ie=x.z-_.z,ve=k.x-_.x,ae=k.y-_.y,J=k.z-_.z,ne=Y*J-ie*ae,X=ie*ve-j*J,Z=j*ae-Y*ve,q=Math.sqrt(ne*ne+X*X+Z*Z),B;q!==0?B=1/q:B=0;let ce=Ee.create(ne*B,X*B,Z*B);return{normal:ce,d:-(ce.x*_.x+ce.y*_.y+ce.z*_.z)}}e.copyFromPoints=A;function v(_,x,k){return Ee.dot(_.normal,x)<=k}e.isFrontFacingTo=v;function S(_,x){return Ee.dot(x,_.normal)+_.d}e.signedDistanceTo=S})(qm||(qm={}));var Xr;(function(e){function t(N){return N._m}e.m=t;let o=0,n={};function i(){return n}e.IdentityReadonly=i;function r(){let N={updateFlag:0,isIdentity:!1,isIdentity3x2:!0,_isIdentityDirty:!0,_isIdentity3x2Dirty:!0,_m:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};return Fe(N,!1),N}e.create=r;function a(N,D=0){let W=r();return s(N,D,W),W}e.fromArray=a;function s(N,D,W){for(let F=0;F<16;F++)W._m[F]=N[F+D];lt(W)}e.fromArrayToRef=s;function c(N,D,W,F){for(let Q=0;Q<16;Q++)F._m[Q]=N[Q+D]*W;lt(F)}e.fromFloatArrayToRefScaled=c;function d(N,D,W,F,Q,se,pe,be,Ae,ge,qe,Et,We,Je,et,an,Ut){let Ve=Ut._m;Ve[0]=N,Ve[1]=D,Ve[2]=W,Ve[3]=F,Ve[4]=Q,Ve[5]=se,Ve[6]=pe,Ve[7]=be,Ve[8]=Ae,Ve[9]=ge,Ve[10]=qe,Ve[11]=Et,Ve[12]=We,Ve[13]=Je,Ve[14]=et,Ve[15]=an,lt(Ut)}e.fromValuesToRef=d;function h(N,D,W,F,Q,se,pe,be,Ae,ge,qe,Et,We,Je,et,an){let Ut=r(),Ve=Ut._m;return Ve[0]=N,Ve[1]=D,Ve[2]=W,Ve[3]=F,Ve[4]=Q,Ve[5]=se,Ve[6]=pe,Ve[7]=be,Ve[8]=Ae,Ve[9]=ge,Ve[10]=qe,Ve[11]=Et,Ve[12]=We,Ve[13]=Je,Ve[14]=et,Ve[15]=an,lt(Ut),Ut}e.fromValues=h;function g(N,D,W){let F=r();return A(N,D,W,F),F}e.compose=g;function A(N,D,W,F){let Q=[r(),r(),r()];q(N.x,N.y,N.z,Q[1]),Kt(D,Q[0]),ze(Q[1],Q[0],F),Qn(F,W)}e.composeToRef=A;function v(){let N=h(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return Fe(N,!0),N}e.Identity=v;function S(N){d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,N),Fe(N,!0)}e.IdentityToRef=S;function _(){let N=h(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);return Fe(N,!1),N}e.Zero=_;function x(N){let D=r();return k(N,D),D}e.RotationX=x;function k(N,D){let W=Math.sin(N),F=Math.cos(N);d(1,0,0,0,0,F,W,0,0,-W,F,0,0,0,0,1,D),Fe(D,F===1&&W===0)}e.rotationXToRef=k;function j(N){let D=r();return Y(N,D),D}e.rotationY=j;function Y(N,D){let W=Math.sin(N),F=Math.cos(N);d(F,0,-W,0,0,1,0,0,W,0,F,0,0,0,0,1,D),Fe(D,F===1&&W===0)}e.rotationYToRef=Y;function ie(N){let D=r();return ve(N,D),D}e.rotationZ=ie;function ve(N,D){let W=Math.sin(N),F=Math.cos(N);d(F,W,0,0,-W,F,0,0,0,0,1,0,0,0,0,1,D),Fe(D,F===1&&W===0)}e.rotationZToRef=ve;function ae(N,D){let W=r();return J(N,D,W),W}e.rotationAxis=ae;function J(N,D,W){let F=Math.sin(-D),Q=Math.cos(-D),se=1-Q,pe=Ee.normalize(N),be=W._m;be[0]=pe.x*pe.x*se+Q,be[1]=pe.x*pe.y*se-pe.z*F,be[2]=pe.x*pe.z*se+pe.y*F,be[3]=0,be[4]=pe.y*pe.x*se+pe.z*F,be[5]=pe.y*pe.y*se+Q,be[6]=pe.y*pe.z*se-pe.x*F,be[7]=0,be[8]=pe.z*pe.x*se-pe.y*F,be[9]=pe.z*pe.y*se+pe.x*F,be[10]=pe.z*pe.z*se+Q,be[11]=0,be[12]=0,be[13]=0,be[14]=0,be[15]=1,lt(W)}e.rotationAxisToRef=J;function ne(N,D,W){let F=r();return X(N,D,W,F),F}e.rotationYawPitchRoll=ne;function X(N,D,W,F){let Q=ht.Zero();ht.fromRotationYawPitchRollToRef(N,D,W,Q),Kt(Q,F)}e.rotationYawPitchRollToRef=X;function Z(N,D,W){let F=r();return q(N,D,W,F),F}e.scaling=Z;function q(N,D,W,F){d(N,0,0,0,0,D,0,0,0,0,W,0,0,0,0,1,F),Fe(F,N===1&&D===1&&W===1)}e.scalingToRef=q;function B(N,D,W){let F=r();return ce(N,D,W,F),F}e.translation=B;function ce(N,D,W,F){d(1,0,0,0,0,1,0,0,0,0,1,0,N,D,W,1,F),Fe(F,N===0&&D===0&&W===0)}e.translationToRef=ce;function R(N,D,W){let F=r();return C(N,D,W,F),F}e.lerp=R;function C(N,D,W,F){for(let Q=0;Q<16;Q++)F._m[Q]=N._m[Q]*(1-W)+D._m[Q]*W;lt(F)}e.lerpToRef=C;function $(N,D,W){let F=r();return Se(N,D,W,F),F}e.decomposeLerp=$;function Se(N,D,W,F){let Q=Ee.Zero(),se=ht.Zero(),pe=Ee.Zero();ee(N,Q,se,pe);let be=Ee.Zero(),Ae=ht.Zero(),ge=Ee.Zero();ee(D,be,Ae,ge);let qe=Ee.Zero();Ee.lerpToRef(Q,be,W,qe);let Et=ht.Zero();ht.slerpToRef(se,Ae,W,Et);let We=Ee.Zero();Ee.lerpToRef(pe,ge,W,We),A(qe,Et,We,F)}e.decomposeLerpToRef=Se;function ye(N,D,W){let F=r();return we(N,D,W,F),F}e.LookAtLH=ye;function we(N,D,W,F){let Q=Ee.Zero(),se=Ee.Zero(),pe=Ee.Zero();Ee.subtractToRef(D,N,pe),Ee.normalizeToRef(pe,pe),Ee.crossToRef(W,pe,Q);let be=Ee.lengthSquared(Q);be===0?Q.x=1:Ee.normalizeFromLengthToRef(Q,Math.sqrt(be),Q),Ee.crossToRef(pe,Q,se),Ee.normalizeToRef(se,se);let Ae=-Ee.dot(Q,N),ge=-Ee.dot(se,N),qe=-Ee.dot(pe,N);d(Q.x,se.x,pe.x,0,Q.y,se.y,pe.y,0,Q.z,se.z,pe.z,0,Ae,ge,qe,1,F)}e.lookAtLHToRef=we;function Re(N,D,W){let F=r();return Xe(N,D,W,F),F}e.lookAtRH=Re;function Xe(N,D,W,F){let Q=Ee.Zero(),se=Ee.Zero(),pe=Ee.Zero();Ee.subtractToRef(N,D,pe),Ee.normalizeToRef(pe,pe),Ee.crossToRef(W,pe,Q);let be=Ee.lengthSquared(Q);be===0?Q.x=1:Ee.normalizeFromLengthToRef(Q,Math.sqrt(be),Q),Ee.crossToRef(pe,Q,se),Ee.normalizeToRef(se,se);let Ae=-Ee.dot(Q,N),ge=-Ee.dot(se,N),qe=-Ee.dot(pe,N);d(Q.x,se.x,pe.x,0,Q.y,se.y,pe.y,0,Q.z,se.z,pe.z,0,Ae,ge,qe,1,F)}e.lookAtRHToRef=Xe;function it(N,D,W,F){let Q=r();return mt(N,D,W,F,Q),Q}e.orthoLH=it;function mt(N,D,W,F,Q){let se=W,pe=F,be=2/N,Ae=2/D,ge=2/(pe-se),qe=-(pe+se)/(pe-se);d(be,0,0,0,0,Ae,0,0,0,0,ge,0,0,0,qe,1,Q),Fe(Q,be===1&&Ae===1&&ge===1&&qe===0)}e.orthoLHToRef=mt;function ct(N,D,W,F,Q,se){let pe=r();return yt(N,D,W,F,Q,se,pe),pe}e.OrthoOffCenterLH=ct;function yt(N,D,W,F,Q,se,pe){let be=Q,Ae=se,ge=2/(D-N),qe=2/(F-W),Et=2/(Ae-be),We=-(Ae+be)/(Ae-be),Je=(N+D)/(N-D),et=(F+W)/(W-F);d(ge,0,0,0,0,qe,0,0,0,0,Et,0,Je,et,We,1,pe),lt(pe)}e.orthoOffCenterLHToRef=yt;function w(N,D,W,F,Q,se){let pe=r();return O(N,D,W,F,Q,se,pe),pe}e.orthoOffCenterRH=w;function O(N,D,W,F,Q,se,pe){yt(N,D,W,F,Q,se,pe),pe._m[10]*=-1}e.orthoOffCenterRHToRef=O;function P(N,D,W,F){let Q=r(),se=W,pe=F,be=2*se/N,Ae=2*se/D,ge=(pe+se)/(pe-se),qe=-2*pe*se/(pe-se);return d(be,0,0,0,0,Ae,0,0,0,0,ge,1,0,0,qe,0,Q),Fe(Q,!1),Q}e.perspectiveLH=P;function I(N,D,W,F){let Q=r();return z(N,D,W,F,Q),Q}e.perspectiveFovLH=I;function z(N,D,W,F,Q,se=!0){let pe=W,be=F,Ae=1/Math.tan(N*.5),ge=se?Ae/D:Ae,qe=se?Ae:Ae*D,Et=(be+pe)/(be-pe),We=-2*be*pe/(be-pe);d(ge,0,0,0,0,qe,0,0,0,0,Et,1,0,0,We,0,Q),Fe(Q,!1)}e.perspectiveFovLHToRef=z;function oe(N,D,W,F){let Q=r();return fe(N,D,W,F,Q),Q}e.PerspectiveFovRH=oe;function fe(N,D,W,F,Q,se=!0){let pe=W,be=F,Ae=1/Math.tan(N*.5),ge=se?Ae/D:Ae,qe=se?Ae:Ae*D,Et=-(be+pe)/(be-pe),We=-2*be*pe/(be-pe);d(ge,0,0,0,0,qe,0,0,0,0,Et,-1,0,0,We,0,Q),Fe(Q,!1)}e.perspectiveFovRHToRef=fe;function Oe(N,D,W,F,Q=!1){let se=Q?-1:1,pe=Math.tan(N.upDegrees*Math.PI/180),be=Math.tan(N.downDegrees*Math.PI/180),Ae=Math.tan(N.leftDegrees*Math.PI/180),ge=Math.tan(N.rightDegrees*Math.PI/180),qe=2/(Ae+ge),Et=2/(pe+be),We=F._m;We[0]=qe,We[1]=We[2]=We[3]=We[4]=0,We[5]=Et,We[6]=We[7]=0,We[8]=(Ae-ge)*qe*.5,We[9]=-((pe-be)*Et*.5),We[10]=-W/(D-W),We[11]=1*se,We[12]=We[13]=We[15]=0,We[14]=-(2*W*D)/(W-D),lt(F)}e.perspectiveFovWebVRToRef=Oe;function Ye(N){return[N._m[0],N._m[1],N._m[4],N._m[5]]}e.GetAsMatrix2x2=Ye;function dt(N){return[N._m[0],N._m[1],N._m[2],N._m[4],N._m[5],N._m[6],N._m[8],N._m[9],N._m[10]]}e.GetAsMatrix3x3=dt;function pt(N){let D=r();return Rt(N,D),D}e.transpose=pt;function Rt(N,D){let W=D._m,F=N._m;W[0]=F[0],W[1]=F[4],W[2]=F[8],W[3]=F[12],W[4]=F[1],W[5]=F[5],W[6]=F[9],W[7]=F[13],W[8]=F[2],W[9]=F[6],W[10]=F[10],W[11]=F[14],W[12]=F[3],W[13]=F[7],W[14]=F[11],W[15]=F[15],Fe(D,N.isIdentity,N._isIdentityDirty)}e.transposeToRef=Rt;function at(N){let D=r();return zt(N,D),D}e.reflection=at;function zt(N,D){let W=qm.normalize(N),F=W.normal.x,Q=W.normal.y,se=W.normal.z,pe=-2*F,be=-2*Q,Ae=-2*se;d(pe*F+1,be*F,Ae*F,0,pe*Q,be*Q+1,Ae*Q,0,pe*se,be*se,Ae*se+1,0,pe*W.d,be*W.d,Ae*W.d,1,D)}e.reflectionToRef=zt;function Nt(N,D,W,F){d(N.x,N.y,N.z,0,D.x,D.y,D.z,0,W.x,W.y,W.z,0,0,0,0,1,F)}e.fromXYZAxesToRef=Nt;function Kt(N,D){let W=N.x*N.x,F=N.y*N.y,Q=N.z*N.z,se=N.x*N.y,pe=N.z*N.w,be=N.z*N.x,Ae=N.y*N.w,ge=N.y*N.z,qe=N.x*N.w;D._m[0]=1-2*(F+Q),D._m[1]=2*(se+pe),D._m[2]=2*(be-Ae),D._m[3]=0,D._m[4]=2*(se-pe),D._m[5]=1-2*(Q+W),D._m[6]=2*(ge+qe),D._m[7]=0,D._m[8]=2*(be+Ae),D._m[9]=2*(ge-qe),D._m[10]=1-2*(F+W),D._m[11]=0,D._m[12]=0,D._m[13]=0,D._m[14]=0,D._m[15]=1,lt(D)}e.fromQuaternionToRef=Kt;function lt(N){N.updateFlag=o++,N.isIdentity=!1,N.isIdentity3x2=!1,N._isIdentityDirty=!0,N._isIdentity3x2Dirty=!0}function Ze(N){if(N._isIdentityDirty){N._isIdentityDirty=!1;let D=N._m;N.isIdentity=D[0]===1&&D[1]===0&&D[2]===0&&D[3]===0&&D[4]===0&&D[5]===1&&D[6]===0&&D[7]===0&&D[8]===0&&D[9]===0&&D[10]===1&&D[11]===0&&D[12]===0&&D[13]===0&&D[14]===0&&D[15]===1}return N.isIdentity}e.isIdentityUpdate=Ze;function tn(N){return N._isIdentity3x2Dirty&&(N._isIdentity3x2Dirty=!1,N._m[0]!==1||N._m[5]!==1||N._m[15]!==1||N._m[1]!==0||N._m[2]!==0||N._m[3]!==0||N._m[4]!==0||N._m[6]!==0||N._m[7]!==0||N._m[8]!==0||N._m[9]!==0||N._m[10]!==0||N._m[11]!==0||N._m[12]!==0||N._m[13]!==0||N._m[14]!==0?N.isIdentity3x2=!1:N.isIdentity3x2=!0),N.isIdentity3x2}e.isIdentityAs3x2Update=tn;function fn(N){if(N.isIdentity===!0)return 1;let D=N._m,W=D[0],F=D[1],Q=D[2],se=D[3],pe=D[4],be=D[5],Ae=D[6],ge=D[7],qe=D[8],Et=D[9],We=D[10],Je=D[11],et=D[12],an=D[13],Ut=D[14],Ve=D[15],At=We*Ve-Ut*Je,dn=Et*Ve-an*Je,gt=Et*Ut-an*We,Tt=qe*Ve-et*Je,sn=qe*Ut-We*et,Ct=qe*an-et*Et,mn=+(be*At-Ae*dn+ge*gt),vo=-(pe*At-Ae*Tt+ge*sn),xo=+(pe*dn-be*Tt+ge*Ct),xn=-(pe*gt-be*sn+Ae*Ct);return W*mn+F*vo+Q*xo+se*xn}e.determinant=fn;function Dn(N){return N._m}e.toArray=Dn;function An(N){return N._m}e.asArray=An;function gn(N){d(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,N),Fe(N,!1)}e.reset=gn;function wn(N,D){let W=r();return Jn(N,D,W),W}e.add=wn;function Jn(N,D,W){for(let F=0;F<16;F++)W._m[F]=N._m[F]+D._m[F];lt(W)}e.addToRef=Jn;function Fn(N,D){for(let W=0;W<16;W++)N._m[W]+=D._m[W];lt(N)}e.addToSelf=Fn;function _o(N){let D=r();return Tn(N,D),D}e.invert=_o;function Tn(N,D){if(N.isIdentity===!0){ue(N,D);return}let W=N._m,F=W[0],Q=W[1],se=W[2],pe=W[3],be=W[4],Ae=W[5],ge=W[6],qe=W[7],Et=W[8],We=W[9],Je=W[10],et=W[11],an=W[12],Ut=W[13],Ve=W[14],At=W[15],dn=Je*At-Ve*et,gt=We*At-Ut*et,Tt=We*Ve-Ut*Je,sn=Et*At-an*et,Ct=Et*Ve-Je*an,mn=Et*Ut-an*We,vo=+(Ae*dn-ge*gt+qe*Tt),xo=-(be*dn-ge*sn+qe*Ct),xn=+(be*gt-Ae*sn+qe*mn),pr=-(be*Tt-Ae*Ct+ge*mn),ci=F*vo+Q*xo+se*xn+pe*pr;if(ci===0){ue(N,D);return}let In=1/ci,mr=ge*At-Ve*qe,ui=Ae*At-Ut*qe,to=Ae*Ve-Ut*ge,zi=be*At-an*qe,Ui=be*Ve-an*ge,Bi=be*Ut-an*Ae,hr=ge*et-Je*qe,$a=Ae*et-We*qe,aa=Ae*Je-We*ge,Ga=be*et-Et*qe,ud=be*Je-Et*ge,ld=be*We-Et*Ae,Wu=-(Q*dn-se*gt+pe*Tt),fd=+(F*dn-se*sn+pe*Ct),Vu=-(F*gt-Q*sn+pe*mn),qa=+(F*Tt-Q*Ct+se*mn),T0=+(Q*mr-se*ui+pe*to),Hu=-(F*mr-se*zi+pe*Ui),Bt=+(F*ui-Q*zi+pe*Bi),dd=-(F*to-Q*Ui+se*Bi),$u=-(Q*hr-se*$a+pe*aa),pd=+(F*hr-se*Ga+pe*ud),_0=-(F*$a-Q*Ga+pe*ld),S0=+(F*aa-Q*ud+se*ld);d(vo*In,Wu*In,T0*In,$u*In,xo*In,fd*In,Hu*In,pd*In,xn*In,Vu*In,Bt*In,_0*In,pr*In,qa*In,dd*In,S0*In,D)}e.invertToRef=Tn;function So(N,D,W){N._m[D]+=W,lt(N)}e.addAtIndex=So;function bo(N,D,W){return N._m[D]*=W,lt(N),N}e.multiplyAtIndex=bo;function Ft(N,D,W,F){N._m[12]=D,N._m[13]=W,N._m[14]=F,lt(N)}e.setTranslationFromFloats=Ft;function Qn(N,D){Ft(N,D.x,D.y,D.z)}e.setTranslation=Qn;function Zn(N){return Ee.create(N._m[12],N._m[13],N._m[14])}e.getTranslation=Zn;function eo(N,D){D.x=N._m[12],D.y=N._m[13],D.z=N._m[14]}e.getTranslationToRef=eo;function V(N){let D=N._m;return d(1,0,0,0,0,1,0,0,0,0,1,0,D[12],D[13],D[14],D[15],N),Fe(N,D[12]===0&&D[13]===0&&D[14]===0&&D[15]===1),N}e.removeRotationAndScaling=V;function K(N,D){let W=r();return ze(N,D,W),W}e.multiply=K;function ue(N,D){Le(N,D._m),Fe(D,N.isIdentity,N._isIdentityDirty,N.isIdentity3x2,N._isIdentity3x2Dirty)}e.copy=ue;function Le(N,D,W=0){for(let F=0;F<16;F++)D[W+F]=N._m[F]}e.copyToArray=Le;function ze(N,D,W){if(N.isIdentity){ue(D,W);return}if(D.isIdentity){ue(N,W);return}je(N,D,W._m,0),lt(W)}e.multiplyToRef=ze;function je(N,D,W,F){let Q=N._m,se=D._m,pe=Q[0],be=Q[1],Ae=Q[2],ge=Q[3],qe=Q[4],Et=Q[5],We=Q[6],Je=Q[7],et=Q[8],an=Q[9],Ut=Q[10],Ve=Q[11],At=Q[12],dn=Q[13],gt=Q[14],Tt=Q[15],sn=se[0],Ct=se[1],mn=se[2],vo=se[3],xo=se[4],xn=se[5],pr=se[6],ci=se[7],In=se[8],mr=se[9],ui=se[10],to=se[11],zi=se[12],Ui=se[13],Bi=se[14],hr=se[15];W[F]=pe*sn+be*xo+Ae*In+ge*zi,W[F+1]=pe*Ct+be*xn+Ae*mr+ge*Ui,W[F+2]=pe*mn+be*pr+Ae*ui+ge*Bi,W[F+3]=pe*vo+be*ci+Ae*to+ge*hr,W[F+4]=qe*sn+Et*xo+We*In+Je*zi,W[F+5]=qe*Ct+Et*xn+We*mr+Je*Ui,W[F+6]=qe*mn+Et*pr+We*ui+Je*Bi,W[F+7]=qe*vo+Et*ci+We*to+Je*hr,W[F+8]=et*sn+an*xo+Ut*In+Ve*zi,W[F+9]=et*Ct+an*xn+Ut*mr+Ve*Ui,W[F+10]=et*mn+an*pr+Ut*ui+Ve*Bi,W[F+11]=et*vo+an*ci+Ut*to+Ve*hr,W[F+12]=At*sn+dn*xo+gt*In+Tt*zi,W[F+13]=At*Ct+dn*xn+gt*mr+Tt*Ui,W[F+14]=At*mn+dn*pr+gt*ui+Tt*Bi,W[F+15]=At*vo+dn*ci+gt*to+Tt*hr}e.multiplyToArray=je;function nt(N,D){let W=D;if(!W)return!1;if((N.isIdentity||W.isIdentity)&&!N._isIdentityDirty&&!W._isIdentityDirty)return N.isIdentity&&W.isIdentity;let F=N._m,Q=W._m;return F[0]===Q[0]&&F[1]===Q[1]&&F[2]===Q[2]&&F[3]===Q[3]&&F[4]===Q[4]&&F[5]===Q[5]&&F[6]===Q[6]&&F[7]===Q[7]&&F[8]===Q[8]&&F[9]===Q[9]&&F[10]===Q[10]&&F[11]===Q[11]&&F[12]===Q[12]&&F[13]===Q[13]&&F[14]===Q[14]&&F[15]===Q[15]}e.equals=nt;function bt(N){let D=r();return ue(N,D),D}e.clone=bt;function G(N){let D=N._m[0]||0;for(let W=1;W<16;W++)D=D*397^(N._m[W]||0);return D}e.getHashCode=G;function ee(N,D,W,F){if(N.isIdentity)return F&&(F.x=0,F.y=0,F.z=0),D&&(D.x=1,D.y=1,D.z=1),W&&(W.w=1,W.x=0,W.y=0,W.z=0),!0;let Q=N._m;F&&(F.x=Q[12],F.y=Q[13],F.z=Q[14]);let se=D||Ee.Zero();if(se.x=Math.sqrt(Q[0]*Q[0]+Q[1]*Q[1]+Q[2]*Q[2]),se.y=Math.sqrt(Q[4]*Q[4]+Q[5]*Q[5]+Q[6]*Q[6]),se.z=Math.sqrt(Q[8]*Q[8]+Q[9]*Q[9]+Q[10]*Q[10]),fn(N)<=0&&(se.y*=-1),se.x===0||se.y===0||se.z===0)return W&&(W.w=1,W.x=0,W.y=0,W.z=0),!1;if(W){let pe=1/se.x,be=1/se.y,Ae=1/se.z,ge=r();d(Q[0]*pe,Q[1]*pe,Q[2]*pe,0,Q[4]*be,Q[5]*be,Q[6]*be,0,Q[8]*Ae,Q[9]*Ae,Q[10]*Ae,0,0,0,0,1,ge),ht.fromRotationMatrixToRef(ge,W)}return!0}e.decompose=ee;function de(N,D,W,F,Q,se){if(D<0||D>3)return;let pe=D*4;N._m[pe+0]=W,N._m[pe+1]=F,N._m[pe+2]=Q,N._m[pe+3]=se,lt(N)}e.setRowFromFloats=de;function xe(N,D){let W=r();return _e(N,D,W),W}e.scale=xe;function _e(N,D,W){for(let F=0;F<16;F++)W._m[F]=N._m[F]*D;lt(W)}e.scaleToRef=_e;function E(N,D,W){for(let F=0;F<16;F++)W._m[F]+=N._m[F]*D;lt(W)}e.scaleAndAddToRef=E;function m(N,D){let W=r();Tn(N,W),Rt(W,D);let F=D._m;d(F[0],F[1],F[2],0,F[4],F[5],F[6],0,F[8],F[9],F[10],0,0,0,0,1,D)}e.normalMatrixToRef=m;function T(N){let D=r();return M(N,D),D}e.getRotationMatrix=T;function M(N,D){let W=Ee.Zero();if(!ee(N,W)){D=v();return}let F=N._m,Q=1/W.x,se=1/W.y,pe=1/W.z;d(F[0]*Q,F[1]*Q,F[2]*Q,0,F[4]*se,F[5]*se,F[6]*se,0,F[8]*pe,F[9]*pe,F[10]*pe,0,0,0,0,1,D)}e.getRotationMatrixToRef=M;function te(N){N._m[2]*=-1,N._m[6]*=-1,N._m[8]*=-1,N._m[9]*=-1,N._m[14]*=-1,lt(N)}e.toggleModelMatrixHandInPlace=te;function Ie(N){N._m[8]*=-1,N._m[9]*=-1,N._m[10]*=-1,N._m[11]*=-1,lt(N)}e.toggleProjectionMatrixHandInPlace=Ie;function Fe(N,D,W=!1,F=!1,Q=!0){N.updateFlag=o++,N.isIdentity=D,N.isIdentity3x2=D||F,N._isIdentityDirty=N.isIdentity?!1:W,N._isIdentity3x2Dirty=N.isIdentity3x2?!1:Q}})(Xr||(Xr={}));var ht;(function(e){function t(q=0,B=0,ce=0,R=1){return{x:q,y:B,z:ce,w:R}}e.create=t;function o(q,B){return{x:q.x+B.x,y:q.y+B.y,z:q.z+B.z,w:q.w+B.w}}e.add=o;function n(q,B,ce){let R=B*.5,C=q*.5,$=ce*.5,Se=Math.cos(R),ye=Math.cos(C),we=Math.cos($),Re=Math.sin(R),Xe=Math.sin(C),it=Math.sin($);return t(ye*Re*we+Xe*Se*it,Xe*Se*we-ye*Re*it,ye*Se*it-Xe*Re*we,ye*Se*we+Xe*Re*it)}e.fromRotationYawPitchRoll=n;function i(q,B,ce){return n(B*Bl,q*Bl,ce*Bl)}e.fromEulerDegrees=i;function r(q){return Math.sqrt(a(q))}e.length=r;function a(q){return q.x*q.x+q.y*q.y+q.z*q.z+q.w*q.w}e.lengthSquared=a;function s(q,B){return q.x*B.x+q.y*B.y+q.z*B.z+q.w*B.w}e.dot=s;function c(q,B){let ce=s(q,B);return Math.acos(Math.min(Math.abs(ce),1))*2*Ll}e.angle=c;function d(q,B,ce){let R=c(q,B);if(R===0)return B;let C=Math.min(1,ce/R);return k(q,B,C)}e.rotateTowards=d;function h(q,B={x:0,y:1,z:0}){let ce=Ee.normalize(q),R=Ee.normalize(Ee.cross(B,ce)),C=Ee.cross(ce,R),$=R.x,Se=R.y,ye=R.z,we=C.x,Re=C.y,Xe=C.z,it=ce.x,mt=ce.y,ct=ce.z,yt=$+Re+ct,w=t();if(yt>0){let I=Math.sqrt(yt+1);return w.w=I*.5,I=.5/I,w.x=(Xe-mt)*I,w.y=(it-ye)*I,w.z=(Se-we)*I,w}if($>=Re&&$>=ct){let I=Math.sqrt(1+$-Re-ct),z=.5/I;return w.x=.5*I,w.y=(Se+we)*z,w.z=(ye+it)*z,w.w=(Xe-mt)*z,w}if(Re>ct){let I=Math.sqrt(1+Re-$-ct),z=.5/I;return w.x=(we+Se)*z,w.y=.5*I,w.z=(mt+Xe)*z,w.w=(it-ye)*z,w}let O=Math.sqrt(1+ct-$-Re),P=.5/O;return w.x=(it+ye)*P,w.y=(mt+Xe)*P,w.z=.5*O,w.w=(Se-we)*P,w}e.lookRotation=h;function g(q){let B=1/r(q);return t(q.x*B,q.y*B,q.z*B,q.w*B)}e.normalize=g;function A(q,B,ce=Ee.Up()){let R=Ee.normalize(q),C=Ee.normalize(B),$=Ee.cross(R,C),Se=Math.sqrt(Ee.lengthSquared(R)*Ee.lengthSquared(C))+Ee.dot(R,C);return Ee.lengthSquared($)<1e-4?Math.abs(Se)<1e-4?g(t(ce.x,ce.y,ce.z,0)):v():g(t($.x,$.y,$.z,Se))}e.fromToRotation=A;function v(){return t(0,0,0,1)}e.Identity=v;function S(q){let B=Ee.create(),ce=q.x*q.x+q.y*q.y+q.z*q.z+q.w*q.w,R=q.x*q.w-q.y*q.z;return R>.4995*ce?(B.x=Math.PI/2,B.y=2*Math.atan2(q.y,q.x),B.z=0):R<-.4995*ce?(B.x=-Math.PI/2,B.y=-2*Math.atan2(q.y,q.x),B.z=0):(B.x=Math.asin(2*(q.w*q.x-q.y*q.z)),B.y=Math.atan2(2*q.w*q.y+2*q.z*q.x,1-2*(q.x*q.x+q.y*q.y)),B.z=Math.atan2(2*q.w*q.z+2*q.x*q.y,1-2*(q.z*q.z+q.x*q.x))),B.x*=Ll,B.y*=Ll,B.z*=Ll,B.x=un.repeat(B.x,360),B.y=un.repeat(B.y,360),B.z=un.repeat(B.z,360),B}e.toEulerAngles=S;function _(q,B,ce,R){let C=B*.5,$=q*.5,Se=ce*.5,ye=Math.cos(C),we=Math.cos($),Re=Math.cos(Se),Xe=Math.sin(C),it=Math.sin($),mt=Math.sin(Se);R.x=we*Xe*Re+it*ye*mt,R.y=it*ye*Re-we*Xe*mt,R.z=we*ye*mt-it*Xe*Re,R.w=we*ye*Re+it*Xe*mt}e.fromRotationYawPitchRollToRef=_;function x(q,B){let ce=q._m,R=ce[0],C=ce[4],$=ce[8],Se=ce[1],ye=ce[5],we=ce[9],Re=ce[2],Xe=ce[6],it=ce[10],mt=R+ye+it,ct;mt>0?(ct=.5/Math.sqrt(mt+1),B.w=.25/ct,B.x=(Xe-we)*ct,B.y=($-Re)*ct,B.z=(Se-C)*ct):R>ye&&R>it?(ct=2*Math.sqrt(1+R-ye-it),B.w=(Xe-we)/ct,B.x=.25*ct,B.y=(C+Se)/ct,B.z=($+Re)/ct):ye>it?(ct=2*Math.sqrt(1+ye-R-it),B.w=($-Re)/ct,B.x=(C+Se)/ct,B.y=.25*ct,B.z=(we+Xe)/ct):(ct=2*Math.sqrt(1+it-R-ye),B.w=(Se-C)/ct,B.x=($+Re)/ct,B.y=(we+Xe)/ct,B.z=.25*ct)}e.fromRotationMatrixToRef=x;function k(q,B,ce){let R=e.Identity();return e.slerpToRef(q,B,ce,R),R}e.slerp=k;function j(q,B,ce,R){let C,$,Se=q.x*B.x+q.y*B.y+q.z*B.z+q.w*B.w,ye=!1;if(Se<0&&(ye=!0,Se=-Se),Se>.999999)$=1-ce,C=ye?-ce:ce;else{let we=Math.acos(Se),Re=1/Math.sin(we);$=Math.sin((1-ce)*we)*Re,C=ye?-Math.sin(ce*we)*Re:Math.sin(ce*we)*Re}R.x=$*q.x+C*B.x,R.y=$*q.y+C*B.y,R.z=$*q.z+C*B.z,R.w=$*q.w+C*B.w}e.slerpToRef=j;function Y(q,B){let ce=t(0,0,0,1);return ie(q,B,ce),ce}e.multiply=Y;function ie(q,B,ce){ce.x=q.x*B.w+q.y*B.z-q.z*B.y+q.w*B.x,ce.y=-q.x*B.z+q.y*B.w+q.z*B.x+q.w*B.y,ce.z=q.x*B.y-q.y*B.x+q.z*B.w+q.w*B.z,ce.w=-q.x*B.x-q.y*B.y-q.z*B.z+q.w*B.w}e.multiplyToRef=ie;function ve(q,B){if(Ee.lengthSquared(B)===0)return e.Identity();let ce=v(),R=q*Bl;R*=.5;let C=Ee.normalize(B);return Ee.scaleToRef(C,Math.sin(R),C),ce.x=C.x,ce.y=C.y,ce.z=C.z,ce.w=Math.cos(R),g(ce)}e.fromAngleAxis=ve;function ae(q,B,ce){let R=e.create(0,0,0,0);return J(q,B,ce,R),R}e.fromAxisToRotationQuaternion=ae;function J(q,B,ce,R){let C=Xr.create();Xr.fromXYZAxesToRef(Ee.normalize(q),Ee.normalize(B),Ee.normalize(ce),C),e.fromRotationMatrixToRef(C,R)}e.fromAxisToRotationQuaternionToRef=J;function ne(){return t(0,0,0,0)}e.Zero=ne;function X(q,B,ce=Ee.Up()){let R=e.Identity();return Z(q,B,ce,R),R}e.fromLookAt=X;function Z(q,B,ce=Ee.Up(),R){let C=Xr.Identity();Xr.lookAtLHToRef(q,B,ce,C),Xr.invertToRef(C,C),e.fromRotationMatrixToRef(C,R)}e.fromLookAtToRef=Z})(ht||(ht={}));var HS;(function(e){function t(i=0,r=0){return{x:i,y:r}}e.create=t;function o(){return t(0,0)}e.Zero=o;function n(){return t(1,1)}e.One=n})(HS||(HS={}));var Ge;(function(e){function t(w=0,O=0,P=0,I=1){return{r:w,g:O,b:P,a:I}}e.create=t;function o(w){if(w.substring(0,1)!=="#"||w.length!==7&&w.length!==9)return t(0,0,0,1);let O=parseInt(w.substring(1,3),16),P=parseInt(w.substring(3,5),16),I=parseInt(w.substring(5,7),16),z=w.substring(7,9),oe=z?parseInt(z,16):255;return e.fromInts(O,P,I,oe)}e.fromHexString=o;function n(w,O,P){let I=t(0,0,0,0);return e.lerpToRef(w,O,P,I),I}e.lerp=n;function i(w,O,P,I){I.r=w.r+(O.r-w.r)*P,I.g=w.g+(O.g-w.g)*P,I.b=w.b+(O.b-w.b)*P,I.a=w.a+(O.a-w.a)*P}e.lerpToRef=i;function r(){return t(1,0,0,1)}e.Red=r;function a(){return t(0,1,0,1)}e.Green=a;function s(){return t(0,0,1,1)}e.Blue=s;function c(){return t(0,0,0,1)}e.Black=c;function d(){return t(1,1,1,1)}e.White=d;function h(){return t(.5,0,.5,1)}e.Purple=h;function g(){return t(1,0,1,1)}e.Magenta=g;function A(){return t(1,1,0,1)}e.Yellow=A;function v(){return t(.5,.5,.5,1)}e.Gray=v;function S(){return t(0,1,1,1)}e.Teal=S;function _(){return t(0,0,0,0)}e.Clear=_;function x(w,O=1){return t(w.r,w.g,w.b,O)}e.fromColor3=x;function k(w,O=0){return t(w[O],w[O+1],w[O+2],w[O+3])}e.fromArray=k;function j(w,O,P,I){return t(w/255,O/255,P/255,I/255)}e.fromInts=j;function Y(w,O){if(w.length===O*3){let P=[];for(let I=0;I<w.length;I+=3){let z=I/3*4;P[z]=w[I],P[z+1]=w[I+1],P[z+2]=w[I+2],P[z+3]=1}return P}return w}e.checkColors4=Y;function ie(w,O,P){P.r=w.r+O.r,P.g=w.g+O.g,P.b=w.b+O.b,P.a=w.a+O.a}e.addToRef=ie;function ve(w,O,P=0){O[P]=w.r,O[P+1]=w.g,O[P+2]=w.b,O[P+3]=w.a}e.toArray=ve;function ae(w,O){let P=_();return ie(w,O,P),P}e.add=ae;function J(w,O){let P=_();return ne(w,O,P),P}e.subtract=J;function ne(w,O,P){P.r=w.r-O.r,P.g=w.g-O.g,P.b=w.b-O.b,P.a=w.a-O.a}e.subtractToRef=ne;function X(w,O){return t(w.r*O,w.g*O,w.b*O,w.a*O)}e.scale=X;function Z(w,O,P){P.r=w.r*O,P.g=w.g*O,P.b=w.b*O,P.a=w.a*O}e.scaleToRef=Z;function q(w,O,P){P.r+=w.r*O,P.g+=w.g*O,P.b+=w.b*O,P.a+=w.a*O}e.scaleAndAddToRef=q;function B(w,O=0,P=1,I){I.r=un.clamp(w.r,O,P),I.g=un.clamp(w.g,O,P),I.b=un.clamp(w.b,O,P),I.a=un.clamp(w.a,O,P)}e.clampToRef=B;function ce(w,O){return t(w.r*O.r,w.g*O.g,w.b*O.b,w.a*O.a)}e.multiply=ce;function R(w,O,P){P.r=w.r*O.r,P.g=w.g*O.g,P.b=w.b*O.b,P.a=w.a*O.a}e.multiplyToRef=R;function C(w){return"{R: "+w.r+" G:"+w.g+" B:"+w.b+" A:"+w.a+"}"}e.toString=C;function $(w){let O=w.r||0;return O=O*397^(w.g||0),O=O*397^(w.b||0),O=O*397^(w.a||0),O}e.getHashCode=$;function Se(w){return t(w.r,w.g,w.b,w.a)}e.clone=Se;function ye(w,O){O.r=w.r,O.g=w.g,O.b=w.b,O.a=w.a}e.copyFrom=ye;function we(w,O,P,I,z){z.r=w,z.g=O,z.b=P,z.a=I}e.copyFromFloats=we;function Re(w,O,P,I,z){z.r=w,z.g=O,z.b=P,z.a=I}e.set=Re;function Xe(w){let O=w.r*255|0,P=w.g*255|0,I=w.b*255|0,z=w.a*255|0;return"#"+un.toHex(O)+un.toHex(P)+un.toHex(I)+un.toHex(z)}e.toHexString=Xe;function it(w){let O=t();return mt(w,O),O}e.toLinearSpace=it;function mt(w,O){O.r=Math.pow(w.r,Ra),O.g=Math.pow(w.g,Ra),O.b=Math.pow(w.b,Ra),O.a=w.a}e.toLinearSpaceToRef=mt;function ct(w){let O=t();return yt(w,O),O}e.toGammaSpace=ct;function yt(w,O){O.r=Math.pow(w.r,Ia),O.g=Math.pow(w.g,Ia),O.b=Math.pow(w.b,Ia),O.a=w.a}e.toGammaSpaceToRef=yt})(Ge||(Ge={}));var ou;(function(e){function t(I=0,z=0,oe=0){return{r:I,g:z,b:oe}}e.create=t;function o(I){if(I.substring(0,1)!=="#"||I.length!==7)return t(0,0,0);let z=parseInt(I.substring(1,3),16),oe=parseInt(I.substring(3,5),16),fe=parseInt(I.substring(5,7),16);return i(z,oe,fe)}e.fromHexString=o;function n(I,z=0){return t(I[z],I[z+1],I[z+2])}e.fromArray=n;function i(I,z,oe){return t(I/255,z/255,oe/255)}e.fromInts=i;function r(I,z,oe){let fe=t(0,0,0);return e.lerpToRef(I,z,oe,fe),fe}e.lerp=r;function a(I,z,oe,fe){fe.r=I.r+(z.r-I.r)*oe,fe.g=I.g+(z.g-I.g)*oe,fe.b=I.b+(z.b-I.b)*oe}e.lerpToRef=a;function s(){return t(1,0,0)}e.Red=s;function c(){return t(0,1,0)}e.Green=c;function d(){return t(0,0,1)}e.Blue=d;function h(){return t(0,0,0)}e.Black=h;function g(){return t(1,1,1)}e.White=g;function A(){return t(.5,0,.5)}e.Purple=A;function v(){return t(1,0,1)}e.Magenta=v;function S(){return t(1,1,0)}e.Yellow=S;function _(){return t(.5,.5,.5)}e.Gray=_;function x(){return t(0,1,1)}e.Teal=x;function k(){return t(Math.random(),Math.random(),Math.random())}e.Random=k;function j(I){return"{R: "+I.r+" G:"+I.g+" B:"+I.b+"}"}e.toString=j;function Y(I){let z=I.r||0;return z=z*397^(I.g||0),z=z*397^(I.b||0),z}e.getHashCode=Y;function ie(I,z,oe=0){z[oe]=I.r,z[oe+1]=I.g,z[oe+2]=I.b}e.toArray=ie;function ve(I,z=1){return Ge.create(I.r,I.g,I.b,z)}e.toColor4=ve;function ae(I){let z=new Array;return ie(I,z,0),z}e.asArray=ae;function J(I){return I.r*.3+I.g*.59+I.b*.11}e.toLuminance=J;function ne(I,z){return t(I.r*z.r,I.g*z.g,I.b*z.b)}e.multiply=ne;function X(I,z,oe){oe.r=I.r*z.r,oe.g=I.g*z.g,oe.b=I.b*z.b}e.multiplyToRef=X;function Z(I,z){return z&&I.r===z.r&&I.g===z.g&&I.b===z.b}e.equals=Z;function q(I,z,oe,fe){return I.r===z&&I.g===oe&&I.b===fe}e.equalsFloats=q;function B(I,z){return t(I.r*z,I.g*z,I.b*z)}e.scale=B;function ce(I,z,oe){oe.r=I.r*z,oe.g=I.g*z,oe.b=I.b*z}e.scaleToRef=ce;function R(I,z,oe){oe.r+=I.r*z,oe.g+=I.g*z,oe.b+=I.b*z}e.scaleAndAddToRef=R;function C(I,z=0,oe=1,fe){fe.r=un.clamp(I.r,z,oe),fe.g=un.clamp(I.g,z,oe),fe.b=un.clamp(I.b,z,oe)}e.clampToRef=C;function $(I,z=0,oe=1){let fe=e.Black();return C(I,z,oe,fe),fe}e.clamp=$;function Se(I,z){return t(I.r+z.r,I.g+z.g,I.b+z.b)}e.add=Se;function ye(I,z,oe){oe.r=I.r+z.r,oe.g=I.g+z.g,oe.b=I.b+z.b}e.addToRef=ye;function we(I,z){return t(I.r-z.r,I.g-z.g,I.b-z.b)}e.subtract=we;function Re(I,z,oe){oe.r=I.r-z.r,oe.g=I.g-z.g,oe.b=I.b-z.b}e.subtractToRef=Re;function Xe(I){return t(I.r,I.g,I.b)}e.clone=Xe;function it(I,z){z.r=I.r,z.g=I.g,z.b=I.b}e.copyFrom=it;function mt(I,z,oe,fe){I.r=z,I.g=oe,I.b=fe}e.set=mt;function ct(I){let z=I.r*255|0,oe=I.g*255|0,fe=I.b*255|0;return"#"+un.toHex(z)+un.toHex(oe)+un.toHex(fe)}e.toHexString=ct;function yt(I){let z=t();return w(I,z),z}e.toLinearSpace=yt;function w(I,z){z.r=Math.pow(I.r,Ra),z.g=Math.pow(I.g,Ra),z.b=Math.pow(I.b,Ra)}e.toLinearSpaceToRef=w;function O(I){let z=t();return P(I,z),z}e.toGammaSpace=O;function P(I,z){z.r=Math.pow(I.r,Ia),z.g=Math.pow(I.g,Ia),z.b=Math.pow(I.b,Ia)}e.toGammaSpaceToRef=P})(ou||(ou={}));function kr(e){let t=Sn.getOrNull(e);if(!t)return Ee.Zero();let o=t.parent;if(o){let n=Sn.get(o).rotation;return Ee.add(kr(o),Ee.rotate(t.position,ru(o)))}else return t.position}function ru(e){let t=Sn.getOrNull(e);if(!t)return ht.Identity();let o=t.parent;return o?ht.multiply(t.rotation,ru(o)):t.rotation}var Wn;(function(e){e.LINEAR="linear",e.EASEINQUAD="easeinquad",e.EASEOUTQUAD="easeoutquad",e.EASEQUAD="easequad",e.EASEINSINE="easeinsine",e.EASEOUTSINE="easeoutsine",e.EASESINE="easeinoutsine",e.EASEINEXPO="easeinexpo",e.EASEOUTEXPO="easeoutexpo",e.EASEEXPO="easeinoutexpo",e.EASEINELASTIC="easeinelastic",e.EASEOUTELASTIC="easeoutelastic",e.EASEELASTIC="easeinoutelastic",e.EASEINBOUNCE="easeinbounce",e.EASEOUTEBOUNCE="easeoutbounce",e.EASEBOUNCE="easeinoutbounce"})(Wn||(Wn={}));function $S(e,t,o){let n=new Array,i=1/t,r=0;if(o){let a=e.length;for(let s=0;s<a;s++){r=0;for(let c=0;c<t;c++)n.push(Ee.catmullRom(e[s%a],e[(s+1)%a],e[(s+2)%a],e[(s+3)%a],r)),r+=i}n.push(n[0])}else{let a=new Array;a.push(Ee.clone(e[0])),Array.prototype.push.apply(a,e),a.push(Ee.clone(e[e.length-1]));let s=0;for(;s<a.length-3;s++){r=0;for(let c=0;c<t;c++)n.push(Ee.catmullRom(a[s],a[s+1],a[s+2],a[s+3],r)),r+=i}s--,n.push(Ee.catmullRom(a[s],a[s+1],a[s+2],a[s+3],r))}return n}function GS(e,t,o,n){return e.x<=n.x&&t.x>=o.x&&e.y<=n.y&&t.y>=o.y&&e.z<=n.z&&t.z>=o.z}function qS(e,t,o,n){let i=Ee.distanceSquared(e,o),r=t+n;return i<r*r}function S1(e,t,o,n){let i=0;return o.x<e.x&&(i+=(e.x-o.x)*(e.x-o.x)),o.x>t.x&&(i+=(o.x-t.x)*(o.x-t.x)),o.y<e.y&&(i+=(e.y-o.y)*(e.y-o.y)),o.y>t.y&&(i+=(o.y-t.y)*(o.y-t.y)),o.z<e.z&&(i+=(e.z-o.z)*(e.z-o.z)),o.z>t.z&&(i+=(o.z-t.z)*(o.z-t.z)),i<n*n}var Vo;(function(e){e.TimerSystemPriority=1e5+256,e.TweenSystemPriority=1e5+192,e.PerpetualMotionSystemPriority=1e5+192,e.PathSystemPriority=1e5+192,e.TriggerSystemPriority=1e5+128,e.ActionSystemPriority=1e5+64})(Vo||(Vo={}));function FN(e){let t=new Map,o=0;function n(i){let r=[],a=[];for(let[s,c]of t)c.accumulatedTime+=1e3*i,!(c.accumulatedTime<c.interval)&&(a.push(c.callback),c.recurrent?c.accumulatedTime-=Math.floor(c.accumulatedTime/c.interval)*c.interval:r.push(s));for(let s of r)t.delete(s);for(let s of a)s()}return e.addSystem(n,Vo.TimerSystemPriority),{setTimeout(i,r){let a=o++;return t.set(a,{callback:i,interval:r,recurrent:!1,accumulatedTime:0}),a},clearTimeout(i){t.delete(i)},setInterval(i,r){let a=o++;return t.set(a,{callback:i,interval:r,recurrent:!0,accumulatedTime:0}),a},clearInterval(i){t.delete(i)}}}var iu=FN(De);var au;(function(e){e[e.Off=0]="Off",e[e.On=1]="On"})(au||(au={}));function jN(e,t){let o=e.defineComponent("dcl.utils.Toggle",{state:U.EnumNumber(au,au.Off)}),n=new Map;return t.setInterval(function(){for(let i of n.keys())(e.getEntityState(i)==Gn.Removed||!o.has(i))&&n.delete(i)},5e3),{addToggle(i,r,a){n.set(i,a),o.createOrReplace(i,{state:r})},removeToggle(i){n.delete(i),o.deleteFrom(i)},setCallback(i,r){n.set(i,r)},set(i,r){if(o.get(i).state!=r){o.getMutable(i).state=r;let s=n.get(i);s&&s(r)}},flip(i){this.set(i,1-o.get(i).state)},isOn(i){return o.get(i).state==au.On}}}var WN=jN(De,iu);function Ym(e){let t=Sn.getOrNull(e);return t?t.parent:De.RootEntity}function su(){return Sn.getOrNull(De.PlayerEntity)?.position||Ee.create()}function b1(e){switch(e){case Wn.LINEAR:return 0;case Wn.EASEINQUAD:return 1;case Wn.EASEOUTQUAD:return 2;case Wn.EASEQUAD:return 3;case Wn.EASEINSINE:return 4;case Wn.EASEOUTSINE:return 5;case Wn.EASESINE:return 6;case Wn.EASEINEXPO:return 7;case Wn.EASEOUTEXPO:return 8;case Wn.EASEEXPO:return 9;case Wn.EASEINELASTIC:return 10;case Wn.EASEOUTELASTIC:return 11;case Wn.EASEELASTIC:return 12;case Wn.EASEINBOUNCE:return 13;case Wn.EASEOUTEBOUNCE:return 14;case Wn.EASEBOUNCE:return 15;default:return 0}}function VN(e){let t=new Map;function o(a){let s=[];for(let[c,d]of t.entries()){if(e.getEntityState(c)==Gn.Removed||!bn.has(c)){t.delete(c);continue}let h=bn.get(c);d.normalizedTime+=a*1e3,d.normalizedTime>=h.duration&&s.push(c)}for(let c of s){let d=t.get(c)?.callback;bn.deleteFrom(c),t.delete(c),d&&d()}}function n(a){bn.deleteFrom(a),t.delete(a)}function i(a){return function(s,c,d,h,g=Wn.LINEAR,A){let v=h===0?1:0;t.set(s,{normalizedTime:v,callback:A}),bn.createOrReplace(s,{duration:h*1e3,easingFunction:b1(g),currentTime:v,mode:bn.Mode[a]({start:c,end:d})})}}function r(a){if(!t.has(a))throw new Error(`Entity ${a} is not registered with tweens system`);return t.get(a)}return e.addSystem(o,Vo.TweenSystemPriority),{startTranslation:i("Move"),stopTranslation:n,startRotation:i("Rotate"),stopRotation:n,startScaling:i("Scale"),stopScaling:n,getTranslationOnFinishCallback:r,getRotationOnFinishCallback:r,getScalingOnFinishCallback:r}}var HN=VN(De);var Dl;(function(e){e.X="x",e.Y="y",e.Z="z"})(Dl||(Dl={}));function $N(e){let t=e.defineComponent("dcl.utils.PerpetualRotation",{velocity:U.Quaternion});function o(n){for(let[i,r]of e.getEntitiesWith(t,Sn)){let a=ht.slerp(ht.Identity(),r.velocity,n),s=Sn.getMutable(i);s.rotation=ht.normalize(ht.multiply(s.rotation,a))}}return e.addSystem(o,Vo.PerpetualMotionSystemPriority),{startRotation(n,i){t.createOrReplace(n,{velocity:i})},stopRotation(n){bn.has(n)&&bn.deleteFrom(n),Lm.has(n)&&Lm.deleteFrom(n),t.has(n)&&t.deleteFrom(n)},smoothRotation(n,i,r){let a=ht.fromEulerDegrees(0,180,0),s=ht.fromEulerDegrees(0,360,0);switch(r){case Dl.X:a=ht.fromEulerDegrees(180,0,0),s=ht.fromEulerDegrees(360,0,0);break;case Dl.Y:a=ht.fromEulerDegrees(0,180,0),s=ht.fromEulerDegrees(0,360,0);break;case Dl.Z:a=ht.fromEulerDegrees(0,0,180),s=ht.fromEulerDegrees(0,0,360);break}bn.createOrReplace(n,{mode:bn.Mode.Rotate({start:ht.fromEulerDegrees(0,0,0),end:a}),duration:i/2,easingFunction:0}),Lm.create(n,{loop:0,sequence:[{mode:bn.Mode.Rotate({start:a,end:s}),duration:i/2,easingFunction:0}]})}}}var GN=$N(De);function qN(e){let t=e.defineComponent("dcl.utils.FollowPath",{points:U.Array(U.Vector3),faceDirection:U.Boolean,speed:U.Number,normalizedTime:U.Number,currentIndex:U.Number,segmentTimes:U.Array(U.Number),curveSegmentCount:U.Number}),o=new Map,n=new Map;function i(s){o.delete(s),n.delete(s),t.deleteFrom(s)}function r(s){let c=[],d=[];for(let h of o.keys()){if(e.getEntityState(h)==Gn.Removed||!t.has(h)){i(h);continue}let g=Sn.getMutable(h),A=t.getMutable(h);for(A.normalizedTime=un.clamp(A.normalizedTime+s*A.speed,0,1),A.normalizedTime>=1&&c.push(h);A.normalizedTime>=A.segmentTimes[A.currentIndex]&&A.currentIndex<A.points.length-1;){if(A.faceDirection){let _=Ee.subtract(A.points[A.currentIndex+1],A.points[A.currentIndex]);g.rotation=ht.lookRotation(_)}if(A.currentIndex>0&&A.currentIndex%A.curveSegmentCount==0){let _=A.currentIndex/A.curveSegmentCount,x=A.points[A.currentIndex],k=A.points[A.currentIndex+A.curveSegmentCount];d.push({entity:h,index:_,coords:x,nextCoords:k})}A.currentIndex+=1}let v=A.segmentTimes[A.currentIndex]-A.segmentTimes[A.currentIndex-1],S=(A.segmentTimes[A.currentIndex]-A.normalizedTime)/v;g.position=Ee.lerp(A.points[A.currentIndex],A.points[A.currentIndex-1],S)}for(let h of d){let g=n.get(h.entity);g&&g(h.index,h.coords,h.nextCoords)}for(let h of c){let g=o.get(h);i(h),g&&g()}}e.addSystem(r,Vo.PathSystemPriority);function a(s,c,d,h,g,A,v){if(c.length<2)throw new Error("At least 2 points are required to form a path.");if(d==0)throw new Error("Path duration must not be zero");if(g){let k=Ee.equals(c[0],c[c.length-1]);k&&(c.pop(),c.unshift(c.pop())),c=$S(c,g,k)}else g=1;o.set(s,A),n.set(s,v);let S=0,_=[];for(let k=0;k<c.length-1;k++){let j=Ee.distance(c[k],c[k+1]);S+=j,_.push(j)}let x=[0];for(let k=0;k<_.length;k++)x.push(_[k]/S+x[k]);t.createOrReplace(s,{points:c,segmentTimes:x,curveSegmentCount:g,speed:1/d,normalizedTime:0,currentIndex:0,faceDirection:h})}return{startStraightPath(s,c,d,h,g,A){return a(s,c,d,h,0,g,A)},startSmoothPath(s,c,d,h,g,A,v){if(h<2||!Number.isInteger(h))throw new Error(`segmentCount must be an integer that is greater than 2, got: ${h}`);return a(s,c,d,g,h,A,v)},stopPath(s){i(s)},getOnFinishCallback(s){if(!o.has(s))throw new Error(`Entity ${s} is not registered in triggers system`);return o.get(s)}}}var YN=qN(De);var bs=1;var Ki=255,Na=0,v1=bs;function JN(e){let t=De.defineComponent("dcl.utils.Trigger",{active:U.Boolean,layerMask:U.Int,triggeredByMask:U.Int,areas:U.Array(U.OneOf({box:U.Map({position:U.Vector3,scale:U.Vector3}),sphere:U.Map({position:U.Vector3,radius:U.Number})})),debugColor:U.Color3}),o=new Map,n=new Map,i=!1,r=new Map,a=new Map;function s(S){if(S)for(let[_,x]of e.getEntitiesWith(t,Sn)){let k=a.get(_),j=x.areas.length;for(;k.length>j;)e.removeEntity(k.pop());for(;k.length<j;)k.push(e.addEntity());let Y=kr(_),ie=ru(_);for(let ve=0;ve<j;++ve){let ae=x.areas[ve],J=k[ve],ne;if(ae.$case=="box")ne=ae.value.scale,Hm.setBox(J);else{let Z=ae.value.radius;ne={x:Z,y:Z,z:Z},Hm.setSphere(J)}Sn.createOrReplace(J,{position:Ee.add(Y,Ee.rotate(ae.value.position,ie)),scale:ne});let X=x.active?x.debugColor:ou.Black();tu.setPbrMaterial(J,{albedoColor:Ge.fromInts(255*X.r,255*X.g,255*X.b,75)})}}}function c(S,_,x,k){for(let j=0;j<_.areas.length;++j){let Y=S[j],ie=_.areas[j];if(ie.$case=="box"){let ve=ie.value,ae=Ee.subtract(Y,Ee.scale(ve.scale,.5)),J=Ee.add(ae,ve.scale);for(let ne=0;ne<k.areas.length;++ne){let X=x[ne],Z=k.areas[ne];if(Z.$case=="box"){let q=Z.value,B=Ee.subtract(X,Ee.scale(q.scale,.5)),ce=Ee.add(B,q.scale);if(GS(ae,J,B,ce))return!0}else if(S1(ae,J,X,Z.value.radius))return!0}}else{let ve=ie.value.radius;for(let ae=0;ae<k.areas.length;++ae){let J=x[ae],ne=k.areas[ae];if(ne.$case=="box"){let X=ne.value,Z=Ee.subtract(J,Ee.scale(X.scale,.5)),q=Ee.add(Z,X.scale);if(S1(Z,q,Y,ve))return!0}else if(qS(Y,ve,J,ne.value.radius))return!0}}}return!1}function d(S,_){let x=cu,k=t.get(S);if(!k.active)return x;if(k.triggeredByMask==v1){let j=e.PlayerEntity,Y=t.get(e.PlayerEntity);if(j==S||!Y.active||!(k.triggeredByMask&Y.layerMask))return x;c(_.get(S),k,_.get(j),Y)&&(x===cu&&(x=new Set),x.add(j))}else for(let[j,Y]of e.getEntitiesWith(t,Sn)){if(j==S||!Y.active||!(k.triggeredByMask&Y.layerMask))continue;c(_.get(S),k,_.get(j),Y)&&(x===cu&&(x=new Set),x.add(j))}return x}function h(){let S=[],_=[],x=new Map;for(let k of r.keys()){if(e.getEntityState(k)==Gn.Removed||!t.has(k)){for(let ae of a.get(k))e.removeEntity(ae);for(let ae of r.values())ae.has(k)&&ae.delete(k);a.delete(k),r.delete(k),o.delete(k),n.delete(k);continue}let j=[],Y=kr(k),ie=ru(k),ve=t.get(k);for(let ae of ve.areas)j.push(Ee.add(Y,Ee.rotate(ae.value.position,ie)));x.set(k,j)}for(let k of r.keys()){let j=d(k,x),Y=r.get(k);for(let ie of Y)j.has(ie)||_.push([k,ie]);for(let ie of j)Y.has(ie)||S.push([k,ie]);r.set(k,j)}for(let[k,j]of S){let Y=o.get(k);Y&&Y(j)}for(let[k,j]of _){let Y=n.get(k);Y&&Y(j)}}function g(S){h(),s(i)}e.addSystem(g,Vo.TriggerSystemPriority);function A(S){S||(S=[{type:"box"}]);let _=[];for(let x of S)x.type=="box"?_.push({$case:"box",value:{position:x.position?x.position:Ee.Zero(),scale:x.scale?x.scale:Ee.One()}}):_.push({$case:"sphere",value:{position:x.position?x.position:Ee.Zero(),radius:x.radius?x.radius:1}});return _}let v={addTrigger(S,_=Na,x=Na,k,j,Y,ie){if(_<0||_>Ki||!Number.isInteger(_))throw new Error(`Bad layerMask: ${_}. Expected a non-negative integer no greater than ${Ki}`);if(x<0||x>Ki||!Number.isInteger(x))throw new Error(`Bad triggeredByMask: ${x}. Expected a non-negative integer no greater than ${Ki}`);a.set(S,[]),r.set(S,new Set),o.set(S,j),n.set(S,Y),t.createOrReplace(S,{active:!0,layerMask:_,triggeredByMask:x,areas:A(k),debugColor:ie||ou.Red()})},removeTrigger(S){let _=r.get(S),x=n.get(S);for(let j of a.get(S))e.removeEntity(j);a.delete(S),r.delete(S),o.delete(S),n.delete(S),t.deleteFrom(S);let k=[];for(let[j,Y]of r)Y.has(S)&&(Y.delete(S),k.push(j));if(x)for(let j of _)x(j);for(let j of k){let Y=n.get(j);Y&&Y(S)}},oneTimeTrigger(S,_=Na,x=Na,k,j,Y){this.addTrigger(S,_,x,k,function(ie){uu.removeTrigger(S),j&&j(ie)},void 0,Y)},enableTrigger(S,_){t.getMutable(S).active=_},isTriggerEnabled(S){return t.get(S).active},getLayerMask(S){return t.get(S).layerMask},setLayerMask(S,_){if(_<0||_>Ki||!Number.isInteger(_))throw new Error(`Bad layerMask: ${_}. Expected a non-negative integer no greater than ${Ki}`);t.getMutable(S).layerMask=_},getTriggeredByMask(S){return t.get(S).triggeredByMask},setTriggeredByMask(S,_){if(_<0||_>Ki||!Number.isInteger(_))throw new Error(`Bad layerMask: ${_}. Expected a non-negative integer no greater than ${Ki}`);t.getMutable(S).triggeredByMask=_},getAreas(S){return t.get(S).areas},setAreas(S,_){t.getMutable(S).areas=A(_)},setOnEnterCallback(S,_){o.set(S,_)},setOnExitCallback(S,_){n.set(S,_)},enableDebugDraw(S){if(i=S,!S)for(let _ of a.values()){for(let x of _)e.removeEntity(x);_.length=0}},isDebugDrawEnabled(){return i}};return v.addTrigger(e.PlayerEntity,v1,Na,[{type:"box",scale:{x:.65,y:1.92,z:.65},position:{x:0,y:1.92/2,z:0}}],void 0,void 0,ou.Green()),v}var uu=JN(De),cu=new Set;cu.add=e=>{debugger;throw new Error("EMPTY_SET is read only")};cu.delete=e=>{throw new Error("EMPTY_SET is read only")};cu.has=e=>!1;var A1;(function(e){class t{constructor(h,g,A){this.beginSequenceNode=null,this.currentSequenceNode=null,this.running=!1,this.started=!1,this.engine=h,this.systemFn=v=>{this.update(v)},this.engine.addSystem(this.systemFn,Vo.ActionSystemPriority),g&&this.startSequence(g),A&&this.setOnFinishCallback(A)}startSequence(h){this.beginSequenceNode=h.beginSequenceNode,this.currentSequenceNode=this.beginSequenceNode,this.running=!0,this.started=!1}destroy(){this.engine.removeSystem(this.systemFn)}setOnFinishCallback(h){this.onFinishCallback=h}isRunning(){return this.running}stop(){this.running=!1}resume(){this.beginSequenceNode!=null&&(this.running=!0)}reset(){this.currentSequenceNode=this.beginSequenceNode,this.running=!0,this.started=!1}getRunningAction(){let h=this.currentSequenceNode;if(this.currentSequenceNode instanceof i)do h=h.currentInnerSequence;while(h instanceof i);return h.action}update(h){if(this.running){if(!this.started){this.currentSequenceNode.onStart(),this.started=!0;return}if(!this.currentSequenceNode.hasFinish()){this.currentSequenceNode.update(h);return}this.currentSequenceNode.onFinish(),this.currentSequenceNode=this.currentSequenceNode.next,this.currentSequenceNode?this.currentSequenceNode.onStart():(this.running=!1,this.onFinishCallback&&this.onFinishCallback())}}}e.SequenceRunner=t;class o{constructor(){this.currentSequenceNode=null,this.beginSequenceNode=null,this.whileNodeStack=[]}then(h){if(this.currentSequenceNode==null)this.currentSequenceNode=new n,this.currentSequenceNode.action=h,this.beginSequenceNode=this.currentSequenceNode;else{let g=new n;g.action=h,this.currentSequenceNode=this.currentSequenceNode.then(g)}return this}if(h){let g=new r(h);return this.currentSequenceNode==null?(this.currentSequenceNode=g,this.beginSequenceNode=g):this.currentSequenceNode=this.currentSequenceNode.then(g),this}else(){let h=this.currentSequenceNode.getSequence();if(h instanceof r){h.closed=!0;let g=new a(h);this.currentSequenceNode=this.currentSequenceNode.then(g)}else throw new Error("IF statement is needed to be called before ELSE statement.");return this}endIf(){let h=this.currentSequenceNode.getSequence();if(h instanceof r||h instanceof a)h.closed=!0;else throw new Error("IF statement is needed to be called before ENDIF statement.");return this}while(h){let g=new s(h);return this.currentSequenceNode==null?(this.currentSequenceNode=g,this.beginSequenceNode=g):this.currentSequenceNode=this.currentSequenceNode.then(g),this.whileNodeStack.push(g),this}endWhile(){let h=this.currentSequenceNode.getSequence();if(h instanceof s)h.closed=!0,this.whileNodeStack.length>0&&this.whileNodeStack.splice(this.whileNodeStack.length-1,1);else throw new Error("WHILE statement is needed to be called before ENDWHILE statement.");return this}breakWhile(){if(this.whileNodeStack.length>0)this.currentSequenceNode=this.currentSequenceNode.then(new c(this.whileNodeStack[this.whileNodeStack.length-1]));else throw new Error("WHILE statement is needed to be called before BREAKWHILE statement.");return this}}e.SequenceBuilder=o;class n{constructor(){this.action=null,this.next=null}then(h){return this.next=h,h}onStart(){this.action&&this.action.onStart()}update(h){this.action&&this.action.update(h)}onFinish(){this.action&&this.action.onFinish()}hasFinish(){return this.action?this.action.hasFinished:!0}getSequence(){return this}}e.SequenceNode=n;class i extends n{constructor(){super(...arguments),this.currentInnerSequence=null,this.startingInnerSequence=null,this.closed=!1}then(h){if(this.currentInnerSequence==null)this.currentInnerSequence=h,this.startingInnerSequence=h;else{if(this.closed)return this.next=h,h;this.currentInnerSequence=this.currentInnerSequence.then(h)}return this}onStart(){this.currentInnerSequence=this.startingInnerSequence,this.currentInnerSequence&&this.currentInnerSequence.onStart()}update(h){this.currentInnerSequence&&(this.currentInnerSequence.hasFinish()?(this.currentInnerSequence.onFinish(),this.currentInnerSequence=this.currentInnerSequence.next,this.currentInnerSequence&&this.currentInnerSequence.onStart()):this.currentInnerSequence.update(h))}onFinish(){this.currentInnerSequence&&this.currentInnerSequence.onFinish()}hasFinish(){return this.currentInnerSequence==null}getSequence(){if(this.currentInnerSequence){let h=this.currentInnerSequence.getSequence();if(h instanceof i&&!h.closed)return h}return this}}class r extends i{constructor(h){super(),this.result=!1,this.condition=h}onStart(){this.result=this.condition(),this.result?super.onStart():this.currentInnerSequence=null}}class a extends i{constructor(h){super(),this.ifSequence=null,this.ifSequence=h}onStart(){this.ifSequence&&!this.ifSequence.result?super.onStart():this.currentInnerSequence=null}}class s extends i{constructor(h){super(),this.breakWhile=!1,this.condition=h}onStart(){this.breakWhile=!1,this.condition()?super.onStart():this.currentInnerSequence=null}update(h){this.currentInnerSequence&&(this.currentInnerSequence.hasFinish()?(this.currentInnerSequence.onFinish(),this.currentInnerSequence=this.currentInnerSequence.next,this.currentInnerSequence==null&&(this.currentInnerSequence=this.startingInnerSequence),this.currentInnerSequence&&this.currentInnerSequence.onStart()):this.currentInnerSequence.update(h))}hasFinish(){return this.breakWhile||!this.condition()}}class c extends n{constructor(h){super(),this.whileNode=h}onStart(){this.whileNode.breakWhile=!0}}})(A1||(A1={}));function Fl(e){return{all:e=e||new Map,on:function(t,o){var n=e.get(t);n?n.push(o):e.set(t,[o])},off:function(t,o){var n=e.get(t);n&&(o?n.splice(n.indexOf(o)>>>0,1):e.set(t,[]))},emit:function(t,o){var n=e.get(t);n&&n.slice().map(function(i){i(o)}),(n=e.get("*"))&&n.slice().map(function(i){i(t,o)})}}}var w1=new Map,x1=new Map;function hn(e){return w1.has(e)||w1.set(e,Fl()),w1.get(e)}function bi(e){return x1.has(e)||x1.set(e,Fl()),x1.get(e)}function YS(e,t,o){let i=Zr(Mt.ACTION_TYPES,e).getOrCreateMutable(e.RootEntity),r={type:t,jsonSchema:JSON.stringify(o?.jsonSchema||U.Map({}).jsonSchema)};i.value=[...i.value.filter(a=>a.type!==r.type),r]}function st(e){return JSON.parse(e.jsonPayload)}var Mt;(function(e){e.ACTION_TYPES="asset-packs::ActionTypes",e.ACTIONS="asset-packs::Actions",e.COUNTER="asset-packs::Counter",e.TRIGGERS="asset-packs::Triggers",e.STATES="asset-packs::States",e.COUNTER_BAR="asset-packs::CounterBar",e.ADMIN_TOOLS="asset-packs::AdminTools",e.REWARDS="asset-packs::Rewards",e.TEXT_ANNOUNCEMENTS="asset-packs::TextAnnouncements",e.VIDEO_CONTROL_STATE="asset-packs::VideoControlState"})(Mt||(Mt={}));var Xi;(function(e){e.MOVE_ITEM="move_item",e.ROTATE_ITEM="rotate_item",e.SCALE_ITEM="scale_item"})(Xi||(Xi={}));var Vn;(function(e){e.LINEAR="linear",e.EASEINQUAD="easeinquad",e.EASEOUTQUAD="easeoutquad",e.EASEQUAD="easequad",e.EASEINSINE="easeinsine",e.EASEOUTSINE="easeoutsine",e.EASESINE="easeinoutsine",e.EASEINEXPO="easeinexpo",e.EASEOUTEXPO="easeoutexpo",e.EASEEXPO="easeinoutexpo",e.EASEINELASTIC="easeinelastic",e.EASEOUTELASTIC="easeoutelastic",e.EASEELASTIC="easeinoutelastic",e.EASEINBOUNCE="easeinbounce",e.EASEOUTEBOUNCE="easeoutbounce",e.EASEBOUNCE="easeinoutbounce"})(Vn||(Vn={}));var Ne;(function(e){e.PLAY_ANIMATION="play_animation",e.STOP_ANIMATION="stop_animation",e.SET_STATE="set_state",e.START_TWEEN="start_tween",e.SET_COUNTER="set_counter",e.INCREMENT_COUNTER="increment_counter",e.DECREASE_COUNTER="decrease_counter",e.PLAY_SOUND="play_sound",e.STOP_SOUND="stop_sound",e.SET_VISIBILITY="set_visibility",e.ATTACH_TO_PLAYER="attach_to_player",e.DETACH_FROM_PLAYER="detach_from_player",e.PLAY_VIDEO_STREAM="play_video_stream",e.STOP_VIDEO_STREAM="stop_video_stream",e.PLAY_AUDIO_STREAM="play_audio_stream",e.STOP_AUDIO_STREAM="stop_audio_stream",e.TELEPORT_PLAYER="teleport_player",e.MOVE_PLAYER="move_player",e.PLAY_DEFAULT_EMOTE="play_default_emote",e.PLAY_CUSTOM_EMOTE="play_custom_emote",e.OPEN_LINK="open_link",e.SHOW_TEXT="show_text",e.HIDE_TEXT="hide_text",e.START_DELAY="start_delay",e.STOP_DELAY="stop_delay",e.START_LOOP="start_loop",e.STOP_LOOP="stop_loop",e.CLONE_ENTITY="clone_entity",e.REMOVE_ENTITY="remove_entity",e.SHOW_IMAGE="show_image",e.HIDE_IMAGE="hide_image",e.DAMAGE="damage",e.MOVE_PLAYER_HERE="move_player_here",e.PLACE_ON_PLAYER="place_on_player",e.ROTATE_AS_PLAYER="rotate_as_player",e.PLACE_ON_CAMERA="place_on_camera",e.ROTATE_AS_CAMERA="rotate_as_camera",e.SET_POSITION="set_position",e.SET_ROTATION="set_rotation",e.SET_SCALE="set_scale",e.FOLLOW_PLAYER="follow_player",e.STOP_FOLLOWING_PLAYER="stop_following_player",e.RANDOM="random",e.BATCH="batch",e.HEAL_PLAYER="heal_player",e.CLAIM_AIRDROP="claim_airdrop"})(Ne||(Ne={}));var vt;(function(e){e.ON_CLICK="on_click",e.ON_INPUT_ACTION="on_input_action",e.ON_STATE_CHANGE="on_state_change",e.ON_SPAWN="on_spawn",e.ON_TWEEN_END="on_tween_end",e.ON_COUNTER_CHANGE="on_counter_change",e.ON_PLAYER_ENTERS_AREA="on_player_enters_area",e.ON_PLAYER_LEAVES_AREA="on_player_leaves_area",e.ON_DELAY="on_delay",e.ON_LOOP="on_loop",e.ON_CLONE="on_clone",e.ON_CLICK_IMAGE="on_click_image",e.ON_DAMAGE="on_damage",e.ON_GLOBAL_CLICK="on_global_click",e.ON_GLOBAL_PRIMARY="on_global_primary",e.ON_GLOBAL_SECONDARY="on_global_secondary",e.ON_TICK="on_tick",e.ON_HEAL_PLAYER="on_heal_player",e.ON_PLAYER_SPAWN="on_player_spawn"})(vt||(vt={}));var kn;(function(e){e.WHEN_STATE_IS="when_state_is",e.WHEN_STATE_IS_NOT="when_state_is_not",e.WHEN_COUNTER_EQUALS="when_counter_equals",e.WHEN_COUNTER_IS_GREATER_THAN="when_counter_is_greater_than",e.WHEN_COUNTER_IS_LESS_THAN="when_counter_is_less_than",e.WHEN_DISTANCE_TO_PLAYER_LESS_THAN="when_distance_to_player_less_than",e.WHEN_DISTANCE_TO_PLAYER_GREATER_THAN="when_distance_to_player_greater_than",e.WHEN_PREVIOUS_STATE_IS="when_previous_state_is",e.WHEN_PREVIOUS_STATE_IS_NOT="when_previous_state_is_not"})(kn||(kn={}));var Zi;(function(e){e.AND="and",e.OR="or"})(Zi||(Zi={}));var yn;(function(e){e[e.TAM_TOP_LEFT=0]="TAM_TOP_LEFT",e[e.TAM_TOP_CENTER=1]="TAM_TOP_CENTER",e[e.TAM_TOP_RIGHT=2]="TAM_TOP_RIGHT",e[e.TAM_MIDDLE_LEFT=3]="TAM_MIDDLE_LEFT",e[e.TAM_MIDDLE_CENTER=4]="TAM_MIDDLE_CENTER",e[e.TAM_MIDDLE_RIGHT=5]="TAM_MIDDLE_RIGHT",e[e.TAM_BOTTOM_LEFT=6]="TAM_BOTTOM_LEFT",e[e.TAM_BOTTOM_CENTER=7]="TAM_BOTTOM_CENTER",e[e.TAM_BOTTOM_RIGHT=8]="TAM_BOTTOM_RIGHT"})(yn||(yn={}));var Oa;(function(e){e[e.F_SANS_SERIF=0]="F_SANS_SERIF",e[e.F_SERIF=1]="F_SERIF",e[e.F_MONOSPACE=2]="F_MONOSPACE"})(Oa||(Oa={}));var jl;(function(e){e[e.CL_NONE=0]="CL_NONE",e[e.CL_POINTER=1]="CL_POINTER",e[e.CL_PHYSICS=2]="CL_PHYSICS",e[e.CL_RESERVED1=4]="CL_RESERVED1",e[e.CL_RESERVED2=8]="CL_RESERVED2",e[e.CL_RESERVED3=16]="CL_RESERVED3",e[e.CL_RESERVED4=32]="CL_RESERVED4",e[e.CL_RESERVED5=64]="CL_RESERVED5",e[e.CL_RESERVED6=128]="CL_RESERVED6",e[e.CL_CUSTOM1=256]="CL_CUSTOM1",e[e.CL_CUSTOM2=512]="CL_CUSTOM2",e[e.CL_CUSTOM3=1024]="CL_CUSTOM3",e[e.CL_CUSTOM4=2048]="CL_CUSTOM4",e[e.CL_CUSTOM5=4096]="CL_CUSTOM5",e[e.CL_CUSTOM6=8192]="CL_CUSTOM6",e[e.CL_CUSTOM7=16384]="CL_CUSTOM7",e[e.CL_CUSTOM8=32768]="CL_CUSTOM8"})(jl||(jl={}));var ka;(function(e){e.ALL="all",e.PLAYER="player",e.NON_PLAYER="non_player"})(ka||(ka={}));var vs;(function(e){e.PUBLIC="PUBLIC",e.PRIVATE="PRIVATE"})(vs||(vs={}));function qn(e){return{Animator:o1(e),Transform:cr(e),AudioSource:Om(e),AvatarAttach:hm(e),VisibilityComponent:Tm(e),GltfContainer:ds(e),UiTransform:qi(e),UiText:ys(e),UiBackground:jc(e),UiInput:ms(e),UiInputResult:hs(e),UiCanvasInformation:Tl(e),VideoPlayer:bl(e),Material:Nm(e),MeshRenderer:km(e),Billboard:ym(e),Name:Gc(e),Tween:$c(e),TweenSequence:ps(e),PointerEvents:_a(e),NetworkEntity:Yi(e),SyncComponents:Mm(e)}}var KN=[Mt.ACTIONS,Mt.STATES,Mt.COUNTER];function XN(e){return e.getComponent(Mt.COUNTER)}function JS(e){let o=XN(e).getOrCreateMutable(e.RootEntity);return++o.value}function QS(e){return KN.includes(e.componentName)}function Wl(e,t){return!!t&&e.value.includes(t)}function I1(e){return Wl(e,e.currentValue)?e.currentValue:R1(e)}function R1(e){if(Wl(e,e.defaultValue))return e.defaultValue;if(e.value.length>0)return e.value[0]}function N1(e){return Wl(e,e.previousValue)?e.previousValue:null}function KS(e){return!!e.createOrReplace}function XS(e,t,o,n,i){let r=new Map,a=new Map,s=Jc(t,e,o),{NetworkEntity:c,SyncComponents:d}=qn(t);for(let A of s){let v=t.addEntity();for(let S of t.componentsIter())if(S.has(A)){let _=JSON.parse(JSON.stringify(S.get(A)));if(QS(S)){let x=_.id,k=JS(t);r.set(x,k),_={..._,id:k}}KS(S)&&S.createOrReplace(v,_)}a.set(A,v)}let h=Array.from(a.values()).reverse();for(let A of h){if(n.has(A)){let S=n.getMutable(A);for(let _ of S.value){for(let x of _.actions)if(x.id){let k=r.get(x.id);k&&(x.id=k)}if(_.conditions){for(let x of _.conditions)if(x.id){let k=r.get(x.id);k&&(x.id=k)}}}}if(c.has(A)){let S=d.getOrNull(A);S&&i?.syncEntity&&i?.syncEntity(A,S.componentIds)}let v=o.getMutableOrNull(A);if(v&&v.parent){let S=a.get(v.parent);S&&(v.parent=S)}}let g=h[0];return{ids:r,entities:a,cloned:g}}var ZN={[Ne.PLAY_ANIMATION]:U.Map({animation:U.String,loop:U.Optional(U.Boolean)}),[Ne.STOP_ANIMATION]:U.Map({}),[Ne.SET_STATE]:U.Map({state:U.String}),[Ne.START_TWEEN]:U.Map({type:U.EnumString(Xi,Xi.MOVE_ITEM),end:U.Vector3,interpolationType:U.EnumString(Vn,Vn.LINEAR),duration:U.Float,relative:U.Boolean}),[Ne.SET_COUNTER]:U.Map({counter:U.Int}),[Ne.INCREMENT_COUNTER]:U.Map({amount:U.Optional(U.Int)}),[Ne.DECREASE_COUNTER]:U.Map({amount:U.Optional(U.Int)}),[Ne.PLAY_SOUND]:U.Map({src:U.String,loop:U.Optional(U.Boolean),volume:U.Optional(U.Float)}),[Ne.STOP_SOUND]:U.Map({}),[Ne.SET_VISIBILITY]:U.Map({visible:U.Boolean,physicsCollider:U.Optional(U.Boolean),collider:U.Optional(U.EnumNumber(jl,jl.CL_POINTER))}),[Ne.ATTACH_TO_PLAYER]:U.Map({anchorPointId:U.Int}),[Ne.DETACH_FROM_PLAYER]:U.Map({}),[Ne.PLAY_VIDEO_STREAM]:U.Map({src:U.Optional(U.String),loop:U.Optional(U.Boolean),volume:U.Optional(U.Float),dclCast:U.Optional(U.Boolean)}),[Ne.STOP_VIDEO_STREAM]:U.Map({}),[Ne.PLAY_AUDIO_STREAM]:U.Map({url:U.String,volume:U.Optional(U.Float)}),[Ne.STOP_AUDIO_STREAM]:U.Map({}),[Ne.TELEPORT_PLAYER]:U.Map({x:U.Int,y:U.Int}),[Ne.MOVE_PLAYER]:U.Map({position:U.Vector3,cameraTarget:U.Optional(U.Vector3)}),[Ne.PLAY_DEFAULT_EMOTE]:U.Map({emote:U.String}),[Ne.PLAY_CUSTOM_EMOTE]:U.Map({src:U.String,loop:U.Optional(U.Boolean)}),[Ne.OPEN_LINK]:U.Map({url:U.String}),[Ne.SHOW_TEXT]:U.Map({text:U.String,hideAfterSeconds:U.Float,font:U.EnumNumber(Oa,Oa.F_SANS_SERIF),fontSize:U.Optional(U.Float),textAlign:U.EnumNumber(yn,yn.TAM_MIDDLE_CENTER)}),[Ne.HIDE_TEXT]:U.Map({}),[Ne.START_DELAY]:U.Map({actions:U.Array(U.String),timeout:U.Float}),[Ne.STOP_DELAY]:U.Map({action:U.String}),[Ne.START_LOOP]:U.Map({actions:U.Array(U.String),interval:U.Float}),[Ne.STOP_LOOP]:U.Map({action:U.String}),[Ne.CLONE_ENTITY]:U.Map({position:U.Vector3}),[Ne.REMOVE_ENTITY]:U.Map({}),[Ne.SHOW_IMAGE]:U.Map({src:U.String,align:U.EnumNumber(yn,yn.TAM_MIDDLE_CENTER),height:U.Float,width:U.Float,hideAfterSeconds:U.Optional(U.Float),text:U.Optional(U.String),fontSize:U.Optional(U.Float)}),[Ne.HIDE_IMAGE]:U.Map({imageEntity:U.Optional(U.Int)}),[Ne.DAMAGE]:U.Map({radius:U.Float,layer:U.Optional(U.EnumString(ka,ka.ALL)),hits:U.Optional(U.Int)}),[Ne.MOVE_PLAYER_HERE]:U.Map({}),[Ne.PLACE_ON_PLAYER]:U.Map({}),[Ne.ROTATE_AS_PLAYER]:U.Map({}),[Ne.PLACE_ON_CAMERA]:U.Map({}),[Ne.ROTATE_AS_CAMERA]:U.Map({}),[Ne.SET_POSITION]:U.Map({x:U.Float,y:U.Float,z:U.Float,relative:U.Optional(U.Boolean)}),[Ne.SET_ROTATION]:U.Map({x:U.Float,y:U.Float,z:U.Float,relative:U.Optional(U.Boolean)}),[Ne.SET_SCALE]:U.Map({x:U.Float,y:U.Float,z:U.Float,relative:U.Optional(U.Boolean)}),[Ne.FOLLOW_PLAYER]:U.Map({speed:U.Float,x:U.Boolean,y:U.Boolean,z:U.Boolean,minDistance:U.Float}),[Ne.STOP_FOLLOWING_PLAYER]:U.Map({}),[Ne.RANDOM]:U.Map({actions:U.Array(U.String)}),[Ne.BATCH]:U.Map({actions:U.Array(U.String)}),[Ne.HEAL_PLAYER]:U.Map({multiplier:U.Int}),[Ne.CLAIM_AIRDROP]:U.Map({})};function Zr(e,t){try{return t.getComponent(e)}catch(o){throw console.error(`Error using getComponent with componentName="${e}"`),o}}function vn(e){return{Actions:Zr(Mt.ACTIONS,e),States:Zr(Mt.STATES,e),Counter:Zr(Mt.COUNTER,e),Triggers:Zr(Mt.TRIGGERS,e),CounterBar:Zr(Mt.COUNTER_BAR,e),AdminTools:Zr(Mt.ADMIN_TOOLS,e),Rewards:Zr(Mt.REWARDS,e),TextAnnouncements:Zr(Mt.TEXT_ANNOUNCEMENTS,e),VideoControlState:Zr(Mt.VIDEO_CONTROL_STATE,e)}}function ZS(e){let t=e.defineComponent(Mt.ACTION_TYPES,{value:U.Array(U.Map({type:U.String,jsonSchema:U.String}))}),o=e.defineComponent(Mt.ACTIONS,{id:U.Int,value:U.Array(U.Map({name:U.String,type:U.String,jsonPayload:U.String,allowedInBasicView:U.Optional(U.Boolean),basicViewId:U.Optional(U.String)}))}),n=e.defineComponent(Mt.COUNTER,{id:U.Number,value:U.Int}),i=e.defineComponent(Mt.TRIGGERS,{value:U.Array(U.Map({type:U.EnumString(vt,vt.ON_INPUT_ACTION),conditions:U.Optional(U.Array(U.Map({id:U.Optional(U.Int),type:U.EnumString(kn,kn.WHEN_STATE_IS),value:U.String}))),operation:U.Optional(U.EnumString(Zi,Zi.AND)),actions:U.Array(U.Map({id:U.Optional(U.Int),name:U.Optional(U.String)})),basicViewId:U.Optional(U.String)}))}),r=e.defineComponent(Mt.STATES,{id:U.Number,value:U.Array(U.String),defaultValue:U.Optional(U.String),currentValue:U.Optional(U.String),previousValue:U.Optional(U.String)}),a=e.defineComponent(Mt.COUNTER_BAR,{primaryColor:U.Optional(U.String),secondaryColor:U.Optional(U.String),maxValue:U.Optional(U.Float)}),s=e.defineComponent(Mt.ADMIN_TOOLS,{adminPermissions:U.EnumString(vs,vs.PUBLIC),authorizedAdminUsers:U.Map({me:U.Boolean,sceneOwners:U.Boolean,allowList:U.Boolean,adminAllowList:U.Array(U.String)}),moderationControl:U.Map({isEnabled:U.Boolean,kickCoordinates:U.Map({x:U.Number,y:U.Number,z:U.Number}),allowNonOwnersManageAdminAllowList:U.Boolean}),textAnnouncementControl:U.Map({isEnabled:U.Boolean,playSoundOnEachAnnouncement:U.Boolean,showAuthorOnEachAnnouncement:U.Boolean}),videoControl:U.Map({isEnabled:U.Boolean,disableVideoPlayersSound:U.Boolean,showAuthorOnVideoPlayers:U.Boolean,linkAllVideoPlayers:U.Boolean,videoPlayers:U.Optional(U.Array(U.Map({entity:U.Int,customName:U.String})))}),smartItemsControl:U.Map({isEnabled:U.Boolean,linkAllSmartItems:U.Boolean,smartItems:U.Optional(U.Array(U.Map({entity:U.Int,customName:U.String,defaultAction:U.String})))}),rewardsControl:U.Map({isEnabled:U.Boolean,rewardItems:U.Optional(U.Array(U.Map({entity:U.Int,customName:U.String})))})}),c=e.defineComponent(Mt.REWARDS,{campaignId:U.String,dispenserKey:U.String,testMode:U.Boolean}),d=e.defineComponent(Mt.TEXT_ANNOUNCEMENTS,{text:U.String,author:U.Optional(U.String),id:U.String}),h=e.defineComponent(Mt.VIDEO_CONTROL_STATE,{videoPlayers:U.Optional(U.Array(U.Map({entity:U.Int,src:U.String,playing:U.Optional(U.Boolean),volume:U.Optional(U.Float),position:U.Optional(U.Float),loop:U.Optional(U.Boolean)})))});return{ActionTypes:t,Actions:o,Counter:n,Triggers:i,States:r,CounterBar:a,AdminTools:s,Rewards:c,TextAnnouncements:d,VideoControlState:h}}function eb(e){let t=Object.values(Ne);for(let a of t){let s=a;YS(e,s,ZN[s])}let n=e.getComponent(Mt.COUNTER).getOrCreateMutable(e.RootEntity);n.value=n.value||0;let{VideoPlayer:i,Material:r}=qn(e);tO(e,{VideoPlayer:i,Material:r})}function eO({material:e}){if(e?.$case==="pbr"&&e.pbr.texture?.tex?.$case==="videoTexture")return e.pbr.texture.tex.videoTexture}function O1(e,{Material:t},o){if(!o||!o.material||o.material.$case!=="pbr")return null;t.setPbrMaterial(e,{...o.material.pbr,texture:t.Texture.Video({videoPlayerEntity:e})})}function tO(e,t){function o(){let{Material:n,VideoPlayer:i}=t;e.removeSystem(o);for(let[r,a]of e.getEntitiesWith(n,i))eO(a)?.videoPlayerEntity===e.RootEntity&&O1(r,t,a)}e.addSystem(o)}function tb(e){switch(e){case Mt.STATES:return[kn.WHEN_STATE_IS,kn.WHEN_STATE_IS_NOT,kn.WHEN_PREVIOUS_STATE_IS,kn.WHEN_PREVIOUS_STATE_IS_NOT];case Mt.COUNTER:return[kn.WHEN_COUNTER_EQUALS,kn.WHEN_COUNTER_IS_GREATER_THAN,kn.WHEN_COUNTER_IS_LESS_THAN];case Mt.ACTIONS:return[kn.WHEN_DISTANCE_TO_PLAYER_LESS_THAN,kn.WHEN_DISTANCE_TO_PLAYER_GREATER_THAN];default:return[]}}function k1(e){let t=cr(e),o=yl(e),n=hl(e),i=ml(e),r=new Map,a=[],s=[];return e.addSystem(()=>{let c=Array.from(e.getEntitiesWith(o,i));if(c.length!==r.size)for(let[d,h]of c)r.has(d)||(r.set(d,h.address),a.length&&a.forEach(g=>g(C1({userId:h.address}))),i.onChange(d,g=>{!g&&s.length&&r.get(d)&&(s.forEach(A=>A(r.get(d))),r.delete(d))}))}),{onEnterScene(c){a.push(c)},onLeaveScene(c){s.push(c)},getPlayer(c){function d(){if(!c?.userId)return e.PlayerEntity;for(let[S,_]of e.getEntitiesWith(o))if(_.address===c.userId)return S}let h=d();if(!h)return null;let g=o.getOrNull(h),A=i.getOrNull(h),v=n.getOrNull(h);return!g&&!A&&!v?null:{entity:h,name:A?.name??"",isGuest:!!g?.isGuest,userId:g?.address??"",avatar:A??void 0,wearables:v?.wearableUrns??[],emotes:v?.emoteUrns??[],position:t.getOrNull(h)?.position}}}}var nb=k1(De),{getPlayer:C1,onEnterScene:LH,onLeaveScene:DH}=nb;var Vl=nb;var Ov=require("~system/Runtime"),rn=typeof globalThis<"u"?globalThis:typeof global<"u"?global:typeof self<"u"?self:{};function nO(e){return e&&Object.prototype.hasOwnProperty.call(e,"default")&&Object.keys(e).length===1?e.default:e}var kv={};ArrayBuffer.isView||(ArrayBuffer.isView=e=>e!==null&&typeof e=="object"&&e.buffer instanceof ArrayBuffer),typeof globalThis>"u";var Iu={},Wh={};(function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.ServerError=e.CloseCode=void 0,(t=e.CloseCode||(e.CloseCode={}))[t.CONSENTED=4e3]="CONSENTED",t[t.DEVMODE_RESTART=4010]="DEVMODE_RESTART";class o extends Error{constructor(i,r){super(r),this.name="ServerError",this.code=i}}e.ServerError=o})(Wh);var $f={},Su={};function gu(e,t){if(this._offset=t,e instanceof ArrayBuffer)this._buffer=e,this._view=new DataView(this._buffer);else{if(!ArrayBuffer.isView(e))throw new Error("Invalid argument");this._buffer=e.buffer,this._view=new DataView(this._buffer,e.byteOffset,e.byteLength)}}function oO(e,t,o){for(var n="",i=0,r=t,a=t+o;r<a;r++){var s=e.getUint8(r);if(128&s)if((224&s)!=192)if((240&s)!=224){if((248&s)!=240)throw new Error("Invalid byte "+s.toString(16));(i=(7&s)<<18|(63&e.getUint8(++r))<<12|(63&e.getUint8(++r))<<6|63&e.getUint8(++r))>=65536?(i-=65536,n+=String.fromCharCode(55296+(i>>>10),56320+(1023&i))):n+=String.fromCharCode(i)}else n+=String.fromCharCode((15&s)<<12|(63&e.getUint8(++r))<<6|63&e.getUint8(++r));else n+=String.fromCharCode((31&s)<<6|63&e.getUint8(++r));else n+=String.fromCharCode(s)}return n}function rO(e,t=0){var o=new gu(e,t),n=o._parse();if(o._offset!==e.byteLength)throw new Error(e.byteLength-o._offset+" trailing bytes");return n}Object.defineProperty(Su,"__esModule",{value:!0}),Su.decode=Su.encode=void 0,gu.prototype._array=function(e){for(var t=new Array(e),o=0;o<e;o++)t[o]=this._parse();return t},gu.prototype._map=function(e){for(var t={},o=0;o<e;o++)t[this._parse()]=this._parse();return t},gu.prototype._str=function(e){var t=oO(this._view,this._offset,e);return this._offset+=e,t},gu.prototype._bin=function(e){var t=this._buffer.slice(this._offset,this._offset+e);return this._offset+=e,t},gu.prototype._parse=function(){var e,t=this._view.getUint8(this._offset++),o=0,n=0,i=0,r=0;if(t<192)return t<128?t:t<144?this._map(15&t):t<160?this._array(15&t):this._str(31&t);if(t>223)return-1*(255-t+1);switch(t){case 192:return null;case 194:return!1;case 195:return!0;case 196:return o=this._view.getUint8(this._offset),this._offset+=1,this._bin(o);case 197:return o=this._view.getUint16(this._offset),this._offset+=2,this._bin(o);case 198:return o=this._view.getUint32(this._offset),this._offset+=4,this._bin(o);case 199:if(o=this._view.getUint8(this._offset),n=this._view.getInt8(this._offset+1),this._offset+=2,n===-1){var a=this._view.getUint32(this._offset);return i=this._view.getInt32(this._offset+4),r=this._view.getUint32(this._offset+8),this._offset+=12,new Date(1e3*(4294967296*i+r)+a/1e6)}return[n,this._bin(o)];case 200:return o=this._view.getUint16(this._offset),n=this._view.getInt8(this._offset+2),this._offset+=3,[n,this._bin(o)];case 201:return o=this._view.getUint32(this._offset),n=this._view.getInt8(this._offset+4),this._offset+=5,[n,this._bin(o)];case 202:return e=this._view.getFloat32(this._offset),this._offset+=4,e;case 203:return e=this._view.getFloat64(this._offset),this._offset+=8,e;case 204:return e=this._view.getUint8(this._offset),this._offset+=1,e;case 205:return e=this._view.getUint16(this._offset),this._offset+=2,e;case 206:return e=this._view.getUint32(this._offset),this._offset+=4,e;case 207:return i=this._view.getUint32(this._offset)*Math.pow(2,32),r=this._view.getUint32(this._offset+4),this._offset+=8,i+r;case 208:return e=this._view.getInt8(this._offset),this._offset+=1,e;case 209:return e=this._view.getInt16(this._offset),this._offset+=2,e;case 210:return e=this._view.getInt32(this._offset),this._offset+=4,e;case 211:return i=this._view.getInt32(this._offset)*Math.pow(2,32),r=this._view.getUint32(this._offset+4),this._offset+=8,i+r;case 212:return n=this._view.getInt8(this._offset),this._offset+=1,n===0?void(this._offset+=1):[n,this._bin(1)];case 213:return n=this._view.getInt8(this._offset),this._offset+=1,[n,this._bin(2)];case 214:return n=this._view.getInt8(this._offset),this._offset+=1,n===-1?(e=this._view.getUint32(this._offset),this._offset+=4,new Date(1e3*e)):[n,this._bin(4)];case 215:return n=this._view.getInt8(this._offset),this._offset+=1,n===0?(i=this._view.getInt32(this._offset)*Math.pow(2,32),r=this._view.getUint32(this._offset+4),this._offset+=8,new Date(i+r)):n===-1?(i=this._view.getUint32(this._offset),r=this._view.getUint32(this._offset+4),this._offset+=8,new Date(1e3*(4294967296*(3&i)+r)+(i>>>2)/1e6)):[n,this._bin(8)];case 216:return n=this._view.getInt8(this._offset),this._offset+=1,[n,this._bin(16)];case 217:return o=this._view.getUint8(this._offset),this._offset+=1,this._str(o);case 218:return o=this._view.getUint16(this._offset),this._offset+=2,this._str(o);case 219:return o=this._view.getUint32(this._offset),this._offset+=4,this._str(o);case 220:return o=this._view.getUint16(this._offset),this._offset+=2,this._array(o);case 221:return o=this._view.getUint32(this._offset),this._offset+=4,this._array(o);case 222:return o=this._view.getUint16(this._offset),this._offset+=2,this._map(o);case 223:return o=this._view.getUint32(this._offset),this._offset+=4,this._map(o)}throw new Error("Could not parse")},Su.decode=rO;var iO=4294967295,aO=17179869183;function sO(e,t,o){for(var n=0,i=0,r=o.length;i<r;i++)(n=o.charCodeAt(i))<128?e.setUint8(t++,n):n<2048?(e.setUint8(t++,192|n>>6),e.setUint8(t++,128|63&n)):n<55296||n>=57344?(e.setUint8(t++,224|n>>12),e.setUint8(t++,128|n>>6&63),e.setUint8(t++,128|63&n)):(i++,n=65536+((1023&n)<<10|1023&o.charCodeAt(i)),e.setUint8(t++,240|n>>18),e.setUint8(t++,128|n>>12&63),e.setUint8(t++,128|n>>6&63),e.setUint8(t++,128|63&n))}function cO(e){for(var t=0,o=0,n=0,i=e.length;n<i;n++)(t=e.charCodeAt(n))<128?o+=1:t<2048?o+=2:t<55296||t>=57344?o+=3:(n++,o+=4);return o}function Tu(e,t,o){var n=typeof o,i=0,r=0,a=0,s=0,c=0,d=0;if(n==="string"){if((c=cO(o))<32)e.push(160|c),d=1;else if(c<256)e.push(217,c),d=2;else if(c<65536)e.push(218,c>>8,c),d=3;else{if(!(c<4294967296))throw new Error("String too long");e.push(219,c>>24,c>>16,c>>8,c),d=5}return t.push({_str:o,_length:c,_offset:e.length}),d+c}if(n==="number")return Math.floor(o)===o&&isFinite(o)?o>=0?o<128?(e.push(o),1):o<256?(e.push(204,o),2):o<65536?(e.push(205,o>>8,o),3):o<4294967296?(e.push(206,o>>24,o>>16,o>>8,o),5):(a=o/Math.pow(2,32)|0,s=o>>>0,e.push(207,a>>24,a>>16,a>>8,a,s>>24,s>>16,s>>8,s),9):o>=-32?(e.push(o),1):o>=-128?(e.push(208,o),2):o>=-32768?(e.push(209,o>>8,o),3):o>=-2147483648?(e.push(210,o>>24,o>>16,o>>8,o),5):(a=Math.floor(o/Math.pow(2,32)),s=o>>>0,e.push(211,a>>24,a>>16,a>>8,a,s>>24,s>>16,s>>8,s),9):(e.push(203),t.push({_float:o,_length:8,_offset:e.length}),9);if(n==="object"){if(o===null)return e.push(192),1;if(Array.isArray(o)){if((c=o.length)<16)e.push(144|c),d=1;else if(c<65536)e.push(220,c>>8,c),d=3;else{if(!(c<4294967296))throw new Error("Array too large");e.push(221,c>>24,c>>16,c>>8,c),d=5}for(i=0;i<c;i++)d+=Tu(e,t,o[i]);return d}if(o instanceof Date){var h=o.getTime(),g=Math.floor(h/1e3),A=1e6*(h-1e3*g);return g>=0&&A>=0&&g<=aO?A===0&&g<=iO?(e.push(214,255,g>>24,g>>16,g>>8,g),6):(a=g/4294967296,s=4294967295&g,e.push(215,255,A>>22,A>>14,A>>6,a,s>>24,s>>16,s>>8,s),10):(a=Math.floor(g/4294967296),s=g>>>0,e.push(199,12,255,A>>24,A>>16,A>>8,A,a>>24,a>>16,a>>8,a,s>>24,s>>16,s>>8,s),15)}if(o instanceof ArrayBuffer){if((c=o.byteLength)<256)e.push(196,c),d=2;else if(c<65536)e.push(197,c>>8,c),d=3;else{if(!(c<4294967296))throw new Error("Buffer too large");e.push(198,c>>24,c>>16,c>>8,c),d=5}return t.push({_bin:o,_length:c,_offset:e.length}),d+c}if(typeof o.toJSON=="function")return Tu(e,t,o.toJSON());var v=[],S="",_=Object.keys(o);for(i=0,r=_.length;i<r;i++)o[S=_[i]]!==void 0&&typeof o[S]!="function"&&v.push(S);if((c=v.length)<16)e.push(128|c),d=1;else if(c<65536)e.push(222,c>>8,c),d=3;else{if(!(c<4294967296))throw new Error("Object too large");e.push(223,c>>24,c>>16,c>>8,c),d=5}for(i=0;i<c;i++)d+=Tu(e,t,S=v[i]),d+=Tu(e,t,o[S]);return d}if(n==="boolean")return e.push(o?195:194),1;if(n==="undefined")return e.push(192),1;if(typeof o.toJSON=="function")return Tu(e,t,o.toJSON());throw new Error("Could not encode")}function uO(e){var t=[],o=[],n=Tu(t,o,e),i=new ArrayBuffer(n),r=new DataView(i),a=0,s=0,c=-1;o.length>0&&(c=o[0]._offset);for(var d,h=0,g=0,A=0,v=t.length;A<v;A++)if(r.setUint8(s+A,t[A]),A+1===c){if(h=(d=o[a])._length,g=s+c,d._bin)for(var S=new Uint8Array(d._bin),_=0;_<h;_++)r.setUint8(g+_,S[_]);else d._str?sO(r,g,d._str):d._float!==void 0&&r.setFloat64(g,d._float);s+=h,o[++a]&&(c=o[a]._offset)}return i}Su.encode=uO;var Rh={},Nh={},lO=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")},fO=rn&&rn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Nh,"__esModule",{value:!0}),Nh.WebSocketTransport=void 0;var dO=fO(lO),ob=globalThis.WebSocket||dO.default,G1=class{constructor(t){this.events=t}send(t){t instanceof ArrayBuffer?this.ws.send(t):Array.isArray(t)&&this.ws.send(new Uint8Array(t).buffer)}connect(t){this.ws=new ob(t,this.protocols),this.ws.binaryType="arraybuffer",this.ws.onopen=this.events.onopen,this.ws.onmessage=this.events.onmessage,this.ws.onclose=this.events.onclose,this.ws.onerror=this.events.onerror}close(t,o){this.ws.close(t,o)}get isOpen(){return this.ws.readyState===ob.OPEN}};Nh.WebSocketTransport=G1,Object.defineProperty(Rh,"__esModule",{value:!0}),Rh.Connection=void 0;var pO=Nh,q1=class{constructor(){this.events={},this.transport=new pO.WebSocketTransport(this.events)}send(t){this.transport.send(t)}connect(t){this.transport.connect(t)}close(t,o){this.transport.close(t,o)}get isOpen(){return this.transport.isOpen}};Rh.Connection=q1;var I2={},Cr,Zo;Cr=I2,Object.defineProperty(Cr,"__esModule",{value:!0}),Cr.utf8Length=Cr.utf8Read=Cr.ErrorCode=Cr.Protocol=void 0,function(e){e[e.HANDSHAKE=9]="HANDSHAKE",e[e.JOIN_ROOM=10]="JOIN_ROOM",e[e.ERROR=11]="ERROR",e[e.LEAVE_ROOM=12]="LEAVE_ROOM",e[e.ROOM_DATA=13]="ROOM_DATA",e[e.ROOM_STATE=14]="ROOM_STATE",e[e.ROOM_STATE_PATCH=15]="ROOM_STATE_PATCH",e[e.ROOM_DATA_SCHEMA=16]="ROOM_DATA_SCHEMA",e[e.ROOM_DATA_BYTES=17]="ROOM_DATA_BYTES"}(Cr.Protocol||(Cr.Protocol={})),(Zo=Cr.ErrorCode||(Cr.ErrorCode={}))[Zo.MATCHMAKE_NO_HANDLER=4210]="MATCHMAKE_NO_HANDLER",Zo[Zo.MATCHMAKE_INVALID_CRITERIA=4211]="MATCHMAKE_INVALID_CRITERIA",Zo[Zo.MATCHMAKE_INVALID_ROOM_ID=4212]="MATCHMAKE_INVALID_ROOM_ID",Zo[Zo.MATCHMAKE_UNHANDLED=4213]="MATCHMAKE_UNHANDLED",Zo[Zo.MATCHMAKE_EXPIRED=4214]="MATCHMAKE_EXPIRED",Zo[Zo.AUTH_FAILED=4215]="AUTH_FAILED",Zo[Zo.APPLICATION_ERROR=4216]="APPLICATION_ERROR",Cr.utf8Read=function(e,t){let o=e[t++];for(var n="",i=0,r=t,a=t+o;r<a;r++){var s=e[r];if(128&s)if((224&s)!=192)if((240&s)!=224){if((248&s)!=240)throw new Error("Invalid byte "+s.toString(16));(i=(7&s)<<18|(63&e[++r])<<12|(63&e[++r])<<6|63&e[++r])>=65536?(i-=65536,n+=String.fromCharCode(55296+(i>>>10),56320+(1023&i))):n+=String.fromCharCode(i)}else n+=String.fromCharCode((15&s)<<12|(63&e[++r])<<6|63&e[++r]);else n+=String.fromCharCode((31&s)<<6|63&e[++r]);else n+=String.fromCharCode(s)}return n},Cr.utf8Length=function(e=""){let t=0,o=0;for(let n=0,i=e.length;n<i;n++)t=e.charCodeAt(n),t<128?o+=1:t<2048?o+=2:t<55296||t>=57344?o+=3:(n++,o+=4);return o+1};var Rs={};Object.defineProperty(Rs,"__esModule",{value:!0}),Rs.getSerializer=Rs.registerSerializer=void 0;var Cv={};function mO(e,t){Cv[e]=t}function hO(e){let t=Cv[e];if(!t)throw new Error("missing serializer: "+e);return t}Rs.registerSerializer=mO,Rs.getSerializer=hO;var Gf={};Object.defineProperty(Gf,"__esModule",{value:!0}),Gf.createNanoEvents=void 0;var yO=()=>({emit(e,...t){let o=this.events[e]||[];for(let n=0,i=o.length;n<i;n++)o[n](...t)},events:{},on(e,t){var o;return!((o=this.events[e])===null||o===void 0)&&o.push(t)||(this.events[e]=[t]),()=>{var n;this.events[e]=(n=this.events[e])===null||n===void 0?void 0:n.filter(i=>t!==i)}}});Gf.createNanoEvents=yO;var Ru={};Object.defineProperty(Ru,"__esModule",{value:!0}),Ru.createSignal=Ru.EventEmitter=void 0;var Oh=class{constructor(){this.handlers=[]}register(t,o=!1){return this.handlers.push(t),this}invoke(...t){this.handlers.forEach(o=>o.apply(this,t))}invokeAsync(...t){return Promise.all(this.handlers.map(o=>o.apply(this,t)))}remove(t){let o=this.handlers.indexOf(t);this.handlers[o]=this.handlers[this.handlers.length-1],this.handlers.pop()}clear(){this.handlers=[]}};function EO(){let e=new Oh;function t(o){return e.register(o,this===null)}return t.once=o=>{let n=function(...i){o.apply(this,i),e.remove(n)};e.register(n)},t.remove=o=>e.remove(o),t.invoke=(...o)=>e.invoke(...o),t.invokeAsync=(...o)=>e.invokeAsync(...o),t.clear=()=>e.clear(),t}Ru.EventEmitter=Oh,Ru.createSignal=EO;var R2={exports:{}};(function(e){var t=function(E,m){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,M){T.__proto__=M}||function(T,M){for(var te in M)Object.prototype.hasOwnProperty.call(M,te)&&(T[te]=M[te])},t(E,m)};function o(E,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function T(){this.constructor=E}t(E,m),E.prototype=m===null?Object.create(m):(T.prototype=m.prototype,new T)}function n(E,m,T,M){var te,Ie=arguments.length,Fe=Ie<3?m:M===null?M=Object.getOwnPropertyDescriptor(m,T):M;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Fe=Reflect.decorate(E,m,T,M);else for(var N=E.length-1;N>=0;N--)(te=E[N])&&(Fe=(Ie<3?te(Fe):Ie>3?te(m,T,Fe):te(m,T))||Fe);return Ie>3&&Fe&&Object.defineProperty(m,T,Fe),Fe}function i(E,m,T){if(T||arguments.length===2)for(var M,te=0,Ie=m.length;te<Ie;te++)!M&&te in m||(M||(M=Array.prototype.slice.call(m,0,te)),M[te]=m[te]);return E.concat(M||Array.prototype.slice.call(m))}typeof SuppressedError=="function"&&SuppressedError;var r,a=255,s=213;e.OPERATION=void 0,(r=e.OPERATION||(e.OPERATION={}))[r.ADD=128]="ADD",r[r.REPLACE=0]="REPLACE",r[r.DELETE=64]="DELETE",r[r.DELETE_AND_ADD=192]="DELETE_AND_ADD",r[r.TOUCH=1]="TOUCH",r[r.CLEAR=10]="CLEAR";var c=function(){function E(m,T,M){this.changed=!1,this.changes=new Map,this.allChanges=new Set,this.caches={},this.currentCustomOperation=0,this.ref=m,this.setParent(T,M)}return E.prototype.setParent=function(m,T,M){var te=this;if(this.indexes||(this.indexes=this.ref instanceof bt?this.ref._definition.indexes:{}),this.parent=m,this.parentIndex=M,T)if(this.root=T,this.ref instanceof bt){var Ie=this.ref._definition;for(var Fe in Ie.schema){var N=this.ref[Fe];if(N&&N.$changes){var D=Ie.indexes[Fe];N.$changes.setParent(this.ref,T,D)}}}else typeof this.ref=="object"&&this.ref.forEach(function(W,F){if(W instanceof bt){var Q=W.$changes,se=te.ref.$changes.indexes[F];Q.setParent(te.ref,te.root,se)}})},E.prototype.operation=function(m){this.changes.set(--this.currentCustomOperation,m)},E.prototype.change=function(m,T){T===void 0&&(T=e.OPERATION.ADD);var M=typeof m=="number"?m:this.indexes[m];this.assertValidIndex(M,m);var te=this.changes.get(M);te&&te.op!==e.OPERATION.DELETE&&te.op!==e.OPERATION.TOUCH||this.changes.set(M,{op:te&&te.op===e.OPERATION.DELETE?e.OPERATION.DELETE_AND_ADD:T,index:M}),this.allChanges.add(M),this.changed=!0,this.touchParents()},E.prototype.touch=function(m){var T=typeof m=="number"?m:this.indexes[m];this.assertValidIndex(T,m),this.changes.has(T)||this.changes.set(T,{op:e.OPERATION.TOUCH,index:T}),this.allChanges.add(T),this.touchParents()},E.prototype.touchParents=function(){this.parent&&this.parent.$changes.touch(this.parentIndex)},E.prototype.getType=function(m){if(this.ref._definition)return(T=this.ref._definition).schema[T.fieldsByIndex[m]];var T,M=(T=this.parent._definition).schema[T.fieldsByIndex[this.parentIndex]];return Object.values(M)[0]},E.prototype.getChildrenFilter=function(){var m=this.parent._definition.childFilters;return m&&m[this.parentIndex]},E.prototype.getValue=function(m){return this.ref.getByIndex(m)},E.prototype.delete=function(m){var T=typeof m=="number"?m:this.indexes[m];if(T!==void 0){var M=this.getValue(T);this.changes.set(T,{op:e.OPERATION.DELETE,index:T}),this.allChanges.delete(T),delete this.caches[T],M&&M.$changes&&(M.$changes.parent=void 0),this.changed=!0,this.touchParents()}else console.warn("@colyseus/schema ".concat(this.ref.constructor.name,": trying to delete non-existing index: ").concat(m," (").concat(T,")"))},E.prototype.discard=function(m,T){var M=this;m===void 0&&(m=!1),T===void 0&&(T=!1),this.ref instanceof bt||this.changes.forEach(function(te){if(te.op===e.OPERATION.DELETE){var Ie=M.ref.getIndex(te.index);delete M.indexes[Ie]}}),this.changes.clear(),this.changed=m,T&&this.allChanges.clear(),this.currentCustomOperation=0},E.prototype.discardAll=function(){var m=this;this.changes.forEach(function(T){var M=m.getValue(T.index);M&&M.$changes&&M.$changes.discardAll()}),this.discard()},E.prototype.cache=function(m,T){this.caches[m]=T},E.prototype.clone=function(){return new E(this.ref,this.parent,this.root)},E.prototype.ensureRefId=function(){this.refId===void 0&&(this.refId=this.root.getNextUniqueId())},E.prototype.assertValidIndex=function(m,T){if(m===void 0)throw new Error('ChangeTree: missing index for field "'.concat(T,'"'))},E}();function d(E,m,T,M){return E[m]||(E[m]=[]),E[m].push(T),M?.forEach(function(te,Ie){return T(te,Ie)}),function(){return g(E[m],E[m].indexOf(T))}}function h(E){var m=this,T=typeof this.$changes.getType()!="string";this.$items.forEach(function(M,te){E.push({refId:m.$changes.refId,op:e.OPERATION.DELETE,field:te,value:void 0,previousValue:M}),T&&m.$changes.root.removeRef(M.$changes.refId)})}function g(E,m){if(m===-1||m>=E.length)return!1;for(var T=E.length-1,M=m;M<T;M++)E[M]=E[M+1];return E.length=T,!0}var A=function(E,m){var T=E.toString(),M=m.toString();return T<M?-1:T>M?1:0};function v(E){return E.$proxy=!0,E=new Proxy(E,{get:function(m,T){return typeof T=="symbol"||isNaN(T)?m[T]:m.at(T)},set:function(m,T,M){if(typeof T=="symbol"||isNaN(T))m[T]=M;else{var te=Array.from(m.$items.keys()),Ie=parseInt(te[T]||T);M==null?m.deleteAt(Ie):m.setAt(Ie,M)}return!0},deleteProperty:function(m,T){return typeof T=="number"?m.deleteAt(T):delete m[T],!0},has:function(m,T){return typeof T=="symbol"||isNaN(Number(T))?Reflect.has(m,T):m.$items.has(Number(T))}})}var S=function(){function E(){for(var m=[],T=0;T<arguments.length;T++)m[T]=arguments[T];this.$changes=new c(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,this.push.apply(this,m)}return E.prototype.onAdd=function(m,T){return T===void 0&&(T=!0),d(this.$callbacks||(this.$callbacks={}),e.OPERATION.ADD,m,T?this.$items:void 0)},E.prototype.onRemove=function(m){return d(this.$callbacks||(this.$callbacks={}),e.OPERATION.DELETE,m)},E.prototype.onChange=function(m){return d(this.$callbacks||(this.$callbacks={}),e.OPERATION.REPLACE,m)},E.is=function(m){return Array.isArray(m)||m.array!==void 0},Object.defineProperty(E.prototype,"length",{get:function(){return this.$items.size},set:function(m){m===0?this.clear():this.splice(m,this.length-m)},enumerable:!1,configurable:!0}),E.prototype.push=function(){for(var m,T=this,M=[],te=0;te<arguments.length;te++)M[te]=arguments[te];return M.forEach(function(Ie){m=T.$refId++,T.setAt(m,Ie)}),m},E.prototype.pop=function(){var m=Array.from(this.$indexes.values()).pop();if(m!==void 0){this.$changes.delete(m),this.$indexes.delete(m);var T=this.$items.get(m);return this.$items.delete(m),T}},E.prototype.at=function(m){if((m=Math.trunc(m)||0)<0&&(m+=this.length),!(m<0||m>=this.length)){var T=Array.from(this.$items.keys())[m];return this.$items.get(T)}},E.prototype.setAt=function(m,T){var M,te;if(T!=null){if(this.$items.get(m)!==T){T.$changes!==void 0&&T.$changes.setParent(this,this.$changes.root,m);var Ie=(te=(M=this.$changes.indexes[m])===null||M===void 0?void 0:M.op)!==null&&te!==void 0?te:e.OPERATION.ADD;this.$changes.indexes[m]=m,this.$indexes.set(m,m),this.$items.set(m,T),this.$changes.change(m,Ie)}}else console.error("ArraySchema items cannot be null nor undefined; Use `deleteAt(index)` instead.")},E.prototype.deleteAt=function(m){var T=Array.from(this.$items.keys())[m];return T!==void 0&&this.$deleteAt(T)},E.prototype.$deleteAt=function(m){return this.$changes.delete(m),this.$indexes.delete(m),this.$items.delete(m)},E.prototype.clear=function(m){this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),m&&h.call(this,m),this.$items.clear(),this.$changes.operation({index:0,op:e.OPERATION.CLEAR}),this.$changes.touchParents()},E.prototype.concat=function(){for(var m,T=[],M=0;M<arguments.length;M++)T[M]=arguments[M];return new(E.bind.apply(E,i([void 0],(m=Array.from(this.$items.values())).concat.apply(m,T),!1)))},E.prototype.join=function(m){return Array.from(this.$items.values()).join(m)},E.prototype.reverse=function(){var m=this,T=Array.from(this.$items.keys());return Array.from(this.$items.values()).reverse().forEach(function(M,te){m.setAt(T[te],M)}),this},E.prototype.shift=function(){var m=Array.from(this.$items.keys()).shift();if(m!==void 0){var T=this.$items.get(m);return this.$deleteAt(m),T}},E.prototype.slice=function(m,T){var M=new E;return M.push.apply(M,Array.from(this.$items.values()).slice(m,T)),M},E.prototype.sort=function(m){var T=this;m===void 0&&(m=A);var M=Array.from(this.$items.keys());return Array.from(this.$items.values()).sort(m).forEach(function(te,Ie){T.setAt(M[Ie],te)}),this},E.prototype.splice=function(m,T){T===void 0&&(T=this.length-m);for(var M=[],te=2;te<arguments.length;te++)M[te-2]=arguments[te];for(var Ie=Array.from(this.$items.keys()),Fe=[],N=m;N<m+T;N++)Fe.push(this.$items.get(Ie[N])),this.$deleteAt(Ie[N]);for(N=0;N<M.length;N++)this.setAt(m+N,M[N]);return Fe},E.prototype.unshift=function(){for(var m=this,T=[],M=0;M<arguments.length;M++)T[M]=arguments[M];var te=this.length,Ie=T.length,Fe=Array.from(this.$items.values());return T.forEach(function(N,D){m.setAt(D,N)}),Fe.forEach(function(N,D){m.setAt(Ie+D,N)}),te+Ie},E.prototype.indexOf=function(m,T){return Array.from(this.$items.values()).indexOf(m,T)},E.prototype.lastIndexOf=function(m,T){return T===void 0&&(T=this.length-1),Array.from(this.$items.values()).lastIndexOf(m,T)},E.prototype.every=function(m,T){return Array.from(this.$items.values()).every(m,T)},E.prototype.some=function(m,T){return Array.from(this.$items.values()).some(m,T)},E.prototype.forEach=function(m,T){Array.from(this.$items.values()).forEach(m,T)},E.prototype.map=function(m,T){return Array.from(this.$items.values()).map(m,T)},E.prototype.filter=function(m,T){return Array.from(this.$items.values()).filter(m,T)},E.prototype.reduce=function(m,T){return Array.prototype.reduce.apply(Array.from(this.$items.values()),arguments)},E.prototype.reduceRight=function(m,T){return Array.prototype.reduceRight.apply(Array.from(this.$items.values()),arguments)},E.prototype.find=function(m,T){return Array.from(this.$items.values()).find(m,T)},E.prototype.findIndex=function(m,T){return Array.from(this.$items.values()).findIndex(m,T)},E.prototype.fill=function(m,T,M){throw new Error("ArraySchema#fill() not implemented")},E.prototype.copyWithin=function(m,T,M){throw new Error("ArraySchema#copyWithin() not implemented")},E.prototype.toString=function(){return this.$items.toString()},E.prototype.toLocaleString=function(){return this.$items.toLocaleString()},E.prototype[Symbol.iterator]=function(){return Array.from(this.$items.values())[Symbol.iterator]()},Object.defineProperty(E,Symbol.species,{get:function(){return E},enumerable:!1,configurable:!0}),E.prototype.entries=function(){return this.$items.entries()},E.prototype.keys=function(){return this.$items.keys()},E.prototype.values=function(){return this.$items.values()},E.prototype.includes=function(m,T){return Array.from(this.$items.values()).includes(m,T)},E.prototype.flatMap=function(m,T){throw new Error("ArraySchema#flatMap() is not supported.")},E.prototype.flat=function(m){throw new Error("ArraySchema#flat() is not supported.")},E.prototype.findLast=function(){var m=Array.from(this.$items.values());return m.findLast.apply(m,arguments)},E.prototype.findLastIndex=function(){var m=Array.from(this.$items.values());return m.findLastIndex.apply(m,arguments)},E.prototype.with=function(m,T){var M=Array.from(this.$items.values());return M[m]=T,new(E.bind.apply(E,i([void 0],M,!1)))},E.prototype.toReversed=function(){return Array.from(this.$items.values()).reverse()},E.prototype.toSorted=function(m){return Array.from(this.$items.values()).sort(m)},E.prototype.toSpliced=function(m,T){var M=Array.from(this.$items.values());return M.toSpliced.apply(M,arguments)},E.prototype.setIndex=function(m,T){this.$indexes.set(m,T)},E.prototype.getIndex=function(m){return this.$indexes.get(m)},E.prototype.getByIndex=function(m){return this.$items.get(this.$indexes.get(m))},E.prototype.deleteByIndex=function(m){var T=this.$indexes.get(m);this.$items.delete(T),this.$indexes.delete(m)},E.prototype.toArray=function(){return Array.from(this.$items.values())},E.prototype.toJSON=function(){return this.toArray().map(function(m){return typeof m.toJSON=="function"?m.toJSON():m})},E.prototype.clone=function(m){return m?new(E.bind.apply(E,i([void 0],Array.from(this.$items.values()),!1))):new(E.bind.apply(E,i([void 0],this.map(function(T){return T.$changes?T.clone():T}),!1)))},E}();function _(E){return E.$proxy=!0,E=new Proxy(E,{get:function(m,T){return typeof T!="symbol"&&m[T]===void 0?m.get(T):m[T]},set:function(m,T,M){return typeof T!="symbol"&&T.indexOf("$")===-1&&T!=="onAdd"&&T!=="onRemove"&&T!=="onChange"?m.set(T,M):m[T]=M,!0},deleteProperty:function(m,T){return m.delete(T),!0}})}var x=function(){function E(m){var T=this;if(this.$changes=new c(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,m)if(m instanceof Map||m instanceof E)m.forEach(function(te,Ie){return T.set(Ie,te)});else for(var M in m)this.set(M,m[M])}return E.prototype.onAdd=function(m,T){return T===void 0&&(T=!0),d(this.$callbacks||(this.$callbacks={}),e.OPERATION.ADD,m,T?this.$items:void 0)},E.prototype.onRemove=function(m){return d(this.$callbacks||(this.$callbacks={}),e.OPERATION.DELETE,m)},E.prototype.onChange=function(m){return d(this.$callbacks||(this.$callbacks={}),e.OPERATION.REPLACE,m)},E.is=function(m){return m.map!==void 0},E.prototype[Symbol.iterator]=function(){return this.$items[Symbol.iterator]()},Object.defineProperty(E.prototype,Symbol.toStringTag,{get:function(){return this.$items[Symbol.toStringTag]},enumerable:!1,configurable:!0}),Object.defineProperty(E,Symbol.species,{get:function(){return E},enumerable:!1,configurable:!0}),E.prototype.set=function(m,T){if(T==null)throw new Error("MapSchema#set('".concat(m,"', ").concat(T,"): trying to set ").concat(T," value on '").concat(m,"'."));m=m.toString();var M=this.$changes.indexes[m]!==void 0,te=M?this.$changes.indexes[m]:this.$refId++,Ie=M?e.OPERATION.REPLACE:e.OPERATION.ADD,Fe=T.$changes!==void 0;if(Fe&&T.$changes.setParent(this,this.$changes.root,te),M){if(!Fe&&this.$items.get(m)===T)return;Fe&&this.$items.get(m)!==T&&(Ie=e.OPERATION.ADD)}else this.$changes.indexes[m]=te,this.$indexes.set(te,m);return this.$items.set(m,T),this.$changes.change(m,Ie),this},E.prototype.get=function(m){return this.$items.get(m)},E.prototype.delete=function(m){return this.$changes.delete(m.toString()),this.$items.delete(m)},E.prototype.clear=function(m){this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),m&&h.call(this,m),this.$items.clear(),this.$changes.operation({index:0,op:e.OPERATION.CLEAR}),this.$changes.touchParents()},E.prototype.has=function(m){return this.$items.has(m)},E.prototype.forEach=function(m){this.$items.forEach(m)},E.prototype.entries=function(){return this.$items.entries()},E.prototype.keys=function(){return this.$items.keys()},E.prototype.values=function(){return this.$items.values()},Object.defineProperty(E.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),E.prototype.setIndex=function(m,T){this.$indexes.set(m,T)},E.prototype.getIndex=function(m){return this.$indexes.get(m)},E.prototype.getByIndex=function(m){return this.$items.get(this.$indexes.get(m))},E.prototype.deleteByIndex=function(m){var T=this.$indexes.get(m);this.$items.delete(T),this.$indexes.delete(m)},E.prototype.toJSON=function(){var m={};return this.forEach(function(T,M){m[M]=typeof T.toJSON=="function"?T.toJSON():T}),m},E.prototype.clone=function(m){var T;return m?T=Object.assign(new E,this):(T=new E,this.forEach(function(M,te){M.$changes?T.set(te,M.clone()):T.set(te,M)})),T},E}(),k={};function j(E,m){k[E]=m}function Y(E){return k[E]}var ie=function(){function E(){this.indexes={},this.fieldsByIndex={},this.deprecated={},this.descriptors={}}return E.create=function(m){var T=new E;return T.schema=Object.assign({},m&&m.schema||{}),T.indexes=Object.assign({},m&&m.indexes||{}),T.fieldsByIndex=Object.assign({},m&&m.fieldsByIndex||{}),T.descriptors=Object.assign({},m&&m.descriptors||{}),T.deprecated=Object.assign({},m&&m.deprecated||{}),T},E.prototype.addField=function(m,T){var M=this.getNextFieldIndex();this.fieldsByIndex[M]=m,this.indexes[m]=M,this.schema[m]=Array.isArray(T)?{array:T[0]}:T},E.prototype.hasField=function(m){return this.indexes[m]!==void 0},E.prototype.addFilter=function(m,T){return this.filters||(this.filters={},this.indexesWithFilters=[]),this.filters[this.indexes[m]]=T,this.indexesWithFilters.push(this.indexes[m]),!0},E.prototype.addChildrenFilter=function(m,T){var M=this.indexes[m],te=this.schema[m];if(Y(Object.keys(te)[0]))return this.childFilters||(this.childFilters={}),this.childFilters[M]=T,!0;console.warn("@filterChildren: field '".concat(m,"' can't have children. Ignoring filter."))},E.prototype.getChildrenFilter=function(m){return this.childFilters&&this.childFilters[this.indexes[m]]},E.prototype.getNextFieldIndex=function(){return Object.keys(this.schema||{}).length},E}();function ve(E){return E._context&&E._context.useFilters}var ae=function(){function E(){this.types={},this.schemas=new Map,this.useFilters=!1}return E.prototype.has=function(m){return this.schemas.has(m)},E.prototype.get=function(m){return this.types[m]},E.prototype.add=function(m,T){T===void 0&&(T=this.schemas.size),m._definition=ie.create(m._definition),m._typeid=T,this.types[T]=m,this.schemas.set(m,T)},E.create=function(m){return m===void 0&&(m={}),function(T){return m.context||(m.context=new E),ne(T,m)}},E}(),J=new ae;function ne(E,m){return m===void 0&&(m={}),function(T,M){var te=m.context||J,Ie=T.constructor;if(Ie._context=te,!E)throw new Error("".concat(Ie.name,': @type() reference provided for "').concat(M,`" is undefined. Make sure you don't have any circular dependencies.`));te.has(Ie)||te.add(Ie);var Fe=Ie._definition;if(Fe.addField(M,E),Fe.descriptors[M]){if(Fe.deprecated[M])return;try{throw new Error("@colyseus/schema: Duplicate '".concat(M,"' definition on '").concat(Ie.name,`'.
Check @type() annotation`))}catch(se){var N=se.stack.split(`
`)[4].trim();throw new Error("".concat(se.message," ").concat(N))}}var D=S.is(E),W=!D&&x.is(E);if(typeof E!="string"&&!bt.is(E)){var F=Object.values(E)[0];typeof F=="string"||te.has(F)||te.add(F)}if(m.manual)Fe.descriptors[M]={enumerable:!0,configurable:!0,writable:!0};else{var Q="_".concat(M);Fe.descriptors[Q]={enumerable:!1,configurable:!1,writable:!0},Fe.descriptors[M]={get:function(){return this[Q]},set:function(se){se!==this[Q]&&(se!=null?(!D||se instanceof S||(se=new(S.bind.apply(S,i([void 0],se,!1)))),!W||se instanceof x||(se=new x(se)),se.$proxy===void 0&&(W?se=_(se):D&&(se=v(se))),this.$changes.change(M),se.$changes&&se.$changes.setParent(this,this.$changes.root,this._definition.indexes[M])):this[Q]&&this.$changes.delete(M),this[Q]=se)},enumerable:!0,configurable:!0}}}}function X(E){return function(m,T){var M=m.constructor;M._definition.addFilter(T,E)&&(M._context.useFilters=!0)}}function Z(E){return function(m,T){var M=m.constructor;M._definition.addChildrenFilter(T,E)&&(M._context.useFilters=!0)}}function q(E){return E===void 0&&(E=!0),function(m,T){var M=m.constructor._definition;M.deprecated[T]=!0,E&&(M.descriptors[T]={get:function(){throw new Error("".concat(T," is deprecated."))},set:function(te){},enumerable:!1,configurable:!0})}}function B(E,m,T){for(var M in T===void 0&&(T={}),T.context||(T.context=E._context||T.context||J),m)ne(m[M],T)(E.prototype,M);return E}function ce(E){for(var m=0,T=0,M=0,te=E.length;M<te;M++)(m=E.charCodeAt(M))<128?T+=1:m<2048?T+=2:m<55296||m>=57344?T+=3:(M++,T+=4);return T}function R(E,m,T){for(var M=0,te=0,Ie=T.length;te<Ie;te++)(M=T.charCodeAt(te))<128?E[m++]=M:M<2048?(E[m++]=192|M>>6,E[m++]=128|63&M):M<55296||M>=57344?(E[m++]=224|M>>12,E[m++]=128|M>>6&63,E[m++]=128|63&M):(te++,M=65536+((1023&M)<<10|1023&T.charCodeAt(te)),E[m++]=240|M>>18,E[m++]=128|M>>12&63,E[m++]=128|M>>6&63,E[m++]=128|63&M)}function C(E,m){E.push(255&m)}function $(E,m){E.push(255&m)}function Se(E,m){E.push(255&m),E.push(m>>8&255)}function ye(E,m){E.push(255&m),E.push(m>>8&255)}function we(E,m){E.push(255&m),E.push(m>>8&255),E.push(m>>16&255),E.push(m>>24&255)}function Re(E,m){var T=m>>24,M=m>>16,te=m>>8,Ie=m;E.push(255&Ie),E.push(255&te),E.push(255&M),E.push(255&T)}function Xe(E,m){var T=Math.floor(m/Math.pow(2,32));Re(E,m>>>0),Re(E,T)}function it(E,m){var T=m/Math.pow(2,32)|0;Re(E,m>>>0),Re(E,T)}function mt(E,m){P(E,m)}function ct(E,m){I(E,m)}var yt=new Int32Array(2),w=new Float32Array(yt.buffer),O=new Float64Array(yt.buffer);function P(E,m){w[0]=m,we(E,yt[0])}function I(E,m){O[0]=m,we(E,yt[0]),we(E,yt[1])}function z(E,m){return $(E,m?1:0)}function oe(E,m){m||(m="");var T=ce(m),M=0;if(T<32)E.push(160|T),M=1;else if(T<256)E.push(217),$(E,T),M=2;else if(T<65536)E.push(218),ye(E,T),M=3;else{if(!(T<4294967296))throw new Error("String too long");E.push(219),Re(E,T),M=5}return R(E,E.length,m),M+T}function fe(E,m){return isNaN(m)?fe(E,0):isFinite(m)?m!==(0|m)?(E.push(203),I(E,m),9):m>=0?m<128?($(E,m),1):m<256?(E.push(204),$(E,m),2):m<65536?(E.push(205),ye(E,m),3):m<4294967296?(E.push(206),Re(E,m),5):(E.push(207),it(E,m),9):m>=-32?(E.push(224|m+32),1):m>=-128?(E.push(208),C(E,m),2):m>=-32768?(E.push(209),Se(E,m),3):m>=-2147483648?(E.push(210),we(E,m),5):(E.push(211),Xe(E,m),9):fe(E,m>0?Number.MAX_SAFE_INTEGER:-Number.MAX_SAFE_INTEGER)}var Oe=Object.freeze({__proto__:null,boolean:z,float32:mt,float64:ct,int16:Se,int32:we,int64:Xe,int8:C,number:fe,string:oe,uint16:ye,uint32:Re,uint64:it,uint8:$,utf8Write:R,writeFloat32:P,writeFloat64:I});function Ye(E,m,T){for(var M="",te=0,Ie=m,Fe=m+T;Ie<Fe;Ie++){var N=E[Ie];128&N?(224&N)!=192?(240&N)!=224?(248&N)!=240?console.error("Invalid byte "+N.toString(16)):(te=(7&N)<<18|(63&E[++Ie])<<12|(63&E[++Ie])<<6|63&E[++Ie])>=65536?(te-=65536,M+=String.fromCharCode(55296+(te>>>10),56320+(1023&te))):M+=String.fromCharCode(te):M+=String.fromCharCode((15&N)<<12|(63&E[++Ie])<<6|63&E[++Ie]):M+=String.fromCharCode((31&N)<<6|63&E[++Ie]):M+=String.fromCharCode(N)}return M}function dt(E,m){return pt(E,m)<<24>>24}function pt(E,m){return E[m.offset++]}function Rt(E,m){return at(E,m)<<16>>16}function at(E,m){return E[m.offset++]|E[m.offset++]<<8}function zt(E,m){return E[m.offset++]|E[m.offset++]<<8|E[m.offset++]<<16|E[m.offset++]<<24}function Nt(E,m){return zt(E,m)>>>0}function Kt(E,m){return gn(E,m)}function lt(E,m){return wn(E,m)}function Ze(E,m){var T=Nt(E,m);return zt(E,m)*Math.pow(2,32)+T}function tn(E,m){var T=Nt(E,m);return Nt(E,m)*Math.pow(2,32)+T}var fn=new Int32Array(2),Dn=new Float32Array(fn.buffer),An=new Float64Array(fn.buffer);function gn(E,m){return fn[0]=zt(E,m),Dn[0]}function wn(E,m){return fn[0]=zt(E,m),fn[1]=zt(E,m),An[0]}function Jn(E,m){return pt(E,m)>0}function Fn(E,m){var T,M=E[m.offset++];M<192?T=31&M:M===217?T=pt(E,m):M===218?T=at(E,m):M===219&&(T=Nt(E,m));var te=Ye(E,m.offset,T);return m.offset+=T,te}function _o(E,m){var T=E[m.offset];return T<192&&T>160||T===217||T===218||T===219}function Tn(E,m){var T=E[m.offset++];return T<128?T:T===202?gn(E,m):T===203?wn(E,m):T===204?pt(E,m):T===205?at(E,m):T===206?Nt(E,m):T===207?tn(E,m):T===208?dt(E,m):T===209?Rt(E,m):T===210?zt(E,m):T===211?Ze(E,m):T>223?-1*(255-T+1):void 0}function So(E,m){var T=E[m.offset];return T<128||T>=202&&T<=211}function bo(E,m){return E[m.offset]<160}function Ft(E,m){return E[m.offset-1]===a&&(E[m.offset]<128||E[m.offset]>=202&&E[m.offset]<=211)}var Qn=Object.freeze({__proto__:null,arrayCheck:bo,boolean:Jn,float32:Kt,float64:lt,int16:Rt,int32:zt,int64:Ze,int8:dt,number:Tn,numberCheck:So,readFloat32:gn,readFloat64:wn,string:Fn,stringCheck:_o,switchStructureCheck:Ft,uint16:at,uint32:Nt,uint64:tn,uint8:pt}),Zn=function(){function E(m){var T=this;this.$changes=new c(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,m&&m.forEach(function(M){return T.add(M)})}return E.prototype.onAdd=function(m,T){return T===void 0&&(T=!0),d(this.$callbacks||(this.$callbacks=[]),e.OPERATION.ADD,m,T?this.$items:void 0)},E.prototype.onRemove=function(m){return d(this.$callbacks||(this.$callbacks=[]),e.OPERATION.DELETE,m)},E.prototype.onChange=function(m){return d(this.$callbacks||(this.$callbacks=[]),e.OPERATION.REPLACE,m)},E.is=function(m){return m.collection!==void 0},E.prototype.add=function(m){var T=this.$refId++;return m.$changes!==void 0&&m.$changes.setParent(this,this.$changes.root,T),this.$changes.indexes[T]=T,this.$indexes.set(T,T),this.$items.set(T,m),this.$changes.change(T),T},E.prototype.at=function(m){var T=Array.from(this.$items.keys())[m];return this.$items.get(T)},E.prototype.entries=function(){return this.$items.entries()},E.prototype.delete=function(m){for(var T,M,te=this.$items.entries();(M=te.next())&&!M.done;)if(m===M.value[1]){T=M.value[0];break}return T!==void 0&&(this.$changes.delete(T),this.$indexes.delete(T),this.$items.delete(T))},E.prototype.clear=function(m){this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),m&&h.call(this,m),this.$items.clear(),this.$changes.operation({index:0,op:e.OPERATION.CLEAR}),this.$changes.touchParents()},E.prototype.has=function(m){return Array.from(this.$items.values()).some(function(T){return T===m})},E.prototype.forEach=function(m){var T=this;this.$items.forEach(function(M,te,Ie){return m(M,te,T)})},E.prototype.values=function(){return this.$items.values()},Object.defineProperty(E.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),E.prototype.setIndex=function(m,T){this.$indexes.set(m,T)},E.prototype.getIndex=function(m){return this.$indexes.get(m)},E.prototype.getByIndex=function(m){return this.$items.get(this.$indexes.get(m))},E.prototype.deleteByIndex=function(m){var T=this.$indexes.get(m);this.$items.delete(T),this.$indexes.delete(m)},E.prototype.toArray=function(){return Array.from(this.$items.values())},E.prototype.toJSON=function(){var m=[];return this.forEach(function(T,M){m.push(typeof T.toJSON=="function"?T.toJSON():T)}),m},E.prototype.clone=function(m){var T;return m?T=Object.assign(new E,this):(T=new E,this.forEach(function(M){M.$changes?T.add(M.clone()):T.add(M)})),T},E}(),eo=function(){function E(m){var T=this;this.$changes=new c(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,m&&m.forEach(function(M){return T.add(M)})}return E.prototype.onAdd=function(m,T){return T===void 0&&(T=!0),d(this.$callbacks||(this.$callbacks=[]),e.OPERATION.ADD,m,T?this.$items:void 0)},E.prototype.onRemove=function(m){return d(this.$callbacks||(this.$callbacks=[]),e.OPERATION.DELETE,m)},E.prototype.onChange=function(m){return d(this.$callbacks||(this.$callbacks=[]),e.OPERATION.REPLACE,m)},E.is=function(m){return m.set!==void 0},E.prototype.add=function(m){var T,M;if(this.has(m))return!1;var te=this.$refId++;m.$changes!==void 0&&m.$changes.setParent(this,this.$changes.root,te);var Ie=(M=(T=this.$changes.indexes[te])===null||T===void 0?void 0:T.op)!==null&&M!==void 0?M:e.OPERATION.ADD;return this.$changes.indexes[te]=te,this.$indexes.set(te,te),this.$items.set(te,m),this.$changes.change(te,Ie),te},E.prototype.entries=function(){return this.$items.entries()},E.prototype.delete=function(m){for(var T,M,te=this.$items.entries();(M=te.next())&&!M.done;)if(m===M.value[1]){T=M.value[0];break}return T!==void 0&&(this.$changes.delete(T),this.$indexes.delete(T),this.$items.delete(T))},E.prototype.clear=function(m){this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),m&&h.call(this,m),this.$items.clear(),this.$changes.operation({index:0,op:e.OPERATION.CLEAR}),this.$changes.touchParents()},E.prototype.has=function(m){for(var T,M=this.$items.values(),te=!1;(T=M.next())&&!T.done;)if(m===T.value){te=!0;break}return te},E.prototype.forEach=function(m){var T=this;this.$items.forEach(function(M,te,Ie){return m(M,te,T)})},E.prototype.values=function(){return this.$items.values()},Object.defineProperty(E.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),E.prototype.setIndex=function(m,T){this.$indexes.set(m,T)},E.prototype.getIndex=function(m){return this.$indexes.get(m)},E.prototype.getByIndex=function(m){return this.$items.get(this.$indexes.get(m))},E.prototype.deleteByIndex=function(m){var T=this.$indexes.get(m);this.$items.delete(T),this.$indexes.delete(m)},E.prototype.toArray=function(){return Array.from(this.$items.values())},E.prototype.toJSON=function(){var m=[];return this.forEach(function(T,M){m.push(typeof T.toJSON=="function"?T.toJSON():T)}),m},E.prototype.clone=function(m){var T;return m?T=Object.assign(new E,this):(T=new E,this.forEach(function(M){M.$changes?T.add(M.clone()):T.add(M)})),T},E}(),V=function(){function E(){this.refIds=new WeakSet,this.containerIndexes=new WeakMap}return E.prototype.addRefId=function(m){this.refIds.has(m)||(this.refIds.add(m),this.containerIndexes.set(m,new Set))},E.get=function(m){return m.$filterState===void 0&&(m.$filterState=new E),m.$filterState},E}(),K=function(){function E(){this.refs=new Map,this.refCounts={},this.deletedRefs=new Set,this.nextUniqueId=0}return E.prototype.getNextUniqueId=function(){return this.nextUniqueId++},E.prototype.addRef=function(m,T,M){M===void 0&&(M=!0),this.refs.set(m,T),M&&(this.refCounts[m]=(this.refCounts[m]||0)+1)},E.prototype.removeRef=function(m){var T=this.refCounts[m];T!==void 0?T!==0?(this.refCounts[m]=T-1,this.deletedRefs.add(m)):console.warn("trying to remove reference ".concat(m," with 0 refCount")):console.warn("trying to remove reference ".concat(m," that doesn't exist"))},E.prototype.clearRefs=function(){this.refs.clear(),this.deletedRefs.clear(),this.refCounts={}},E.prototype.garbageCollectDeletedRefs=function(){var m=this;this.deletedRefs.forEach(function(T){if(!(m.refCounts[T]>0)){var M=m.refs.get(T);if(M instanceof bt)for(var te in M._definition.schema)typeof M._definition.schema[te]!="string"&&M[te]&&M[te].$changes&&m.removeRef(M[te].$changes.refId);else{var Ie=M.$changes.parent._definition,Fe=Ie.schema[Ie.fieldsByIndex[M.$changes.parentIndex]];typeof Object.values(Fe)[0]=="function"&&Array.from(M.values()).forEach(function(N){return m.removeRef(N.$changes.refId)})}m.refs.delete(T),delete m.refCounts[T]}}),this.deletedRefs.clear()},E}(),ue=function(E){function m(){return E!==null&&E.apply(this,arguments)||this}return o(m,E),m}(Error);function Le(E,m,T,M){var te,Ie=!1;switch(m){case"number":case"int8":case"uint8":case"int16":case"uint16":case"int32":case"uint32":case"int64":case"uint64":case"float32":case"float64":te="number",isNaN(E)&&console.log('trying to encode "NaN" in '.concat(T.constructor.name,"#").concat(M));break;case"string":te="string",Ie=!0;break;case"boolean":return}if(typeof E!==te&&(!Ie||Ie&&E!==null)){var Fe="'".concat(JSON.stringify(E),"'").concat(E&&E.constructor&&" (".concat(E.constructor.name,")")||"");throw new ue("a '".concat(te,"' was expected, but ").concat(Fe," was provided in ").concat(T.constructor.name,"#").concat(M))}}function ze(E,m,T,M){if(!(E instanceof m))throw new ue("a '".concat(m.name,"' was expected, but '").concat(E.constructor.name,"' was provided in ").concat(T.constructor.name,"#").concat(M))}function je(E,m,T,M,te){Le(T,E,M,te);var Ie=Oe[E];if(!Ie)throw new ue("a '".concat(E,"' was expected, but ").concat(T," was provided in ").concat(M.constructor.name,"#").concat(te));Ie(m,T)}function nt(E,m,T){return Qn[E](m,T)}var bt=function(){function E(){for(var m=[],T=0;T<arguments.length;T++)m[T]=arguments[T];Object.defineProperties(this,{$changes:{value:new c(this,void 0,new K),enumerable:!1,writable:!0},$callbacks:{value:void 0,enumerable:!1,writable:!0}});var M=this._definition.descriptors;M&&Object.defineProperties(this,M),m[0]&&this.assign(m[0])}return E.onError=function(m){console.error(m)},E.is=function(m){return m._definition&&m._definition.schema!==void 0},E.prototype.onChange=function(m){return d(this.$callbacks||(this.$callbacks={}),e.OPERATION.REPLACE,m)},E.prototype.onRemove=function(m){return d(this.$callbacks||(this.$callbacks={}),e.OPERATION.DELETE,m)},E.prototype.assign=function(m){return Object.assign(this,m),this},Object.defineProperty(E.prototype,"_definition",{get:function(){return this.constructor._definition},enumerable:!1,configurable:!0}),E.prototype.setDirty=function(m,T){this.$changes.change(m,T)},E.prototype.listen=function(m,T,M){var te=this;return M===void 0&&(M=!0),this.$callbacks||(this.$callbacks={}),this.$callbacks[m]||(this.$callbacks[m]=[]),this.$callbacks[m].push(T),M&&this[m]!==void 0&&T(this[m],void 0),function(){return g(te.$callbacks[m],te.$callbacks[m].indexOf(T))}},E.prototype.decode=function(m,T,M){T===void 0&&(T={offset:0}),M===void 0&&(M=this);var te=[],Ie=this.$changes.root,Fe=m.length,N=0;for(Ie.refs.set(N,this);T.offset<Fe;){var D=m[T.offset++];if(D!=a){var W=M.$changes,F=M._definition!==void 0,Q=F?D>>6<<6:D;if(Q!==e.OPERATION.CLEAR){var se=F?D%(Q||255):Tn(m,T),pe=F?M._definition.fieldsByIndex[se]:"",be=W.getType(se),Ae=void 0,ge=void 0,qe=void 0;if(F?ge=M["_".concat(pe)]:(ge=M.getByIndex(se),(Q&e.OPERATION.ADD)===e.OPERATION.ADD?(qe=M instanceof x?Fn(m,T):se,M.setIndex(se,qe)):qe=M.getIndex(se)),(Q&e.OPERATION.DELETE)===e.OPERATION.DELETE&&(Q!==e.OPERATION.DELETE_AND_ADD&&M.deleteByIndex(se),ge&&ge.$changes&&Ie.removeRef(ge.$changes.refId),Ae=null),pe!==void 0){if(Q!==e.OPERATION.DELETE)if(E.is(be)){var Et=Tn(m,T);if(Ae=Ie.refs.get(Et),Q!==e.OPERATION.REPLACE){var We=this.getSchemaType(m,T,be);Ae||((Ae=this.createTypeInstance(We)).$changes.refId=Et,ge&&(Ae.$callbacks=ge.$callbacks,ge.$changes.refId&&Et!==ge.$changes.refId&&Ie.removeRef(ge.$changes.refId))),Ie.addRef(Et,Ae,Ae!==ge)}}else if(typeof be=="string")Ae=nt(be,m,T);else{var Je=Y(Object.keys(be)[0]),et=Tn(m,T),an=Ie.refs.has(et)?ge||Ie.refs.get(et):new Je.constructor;if((Ae=an.clone(!0)).$changes.refId=et,ge&&(Ae.$callbacks=ge.$callbacks,ge.$changes.refId&&et!==ge.$changes.refId)){Ie.removeRef(ge.$changes.refId);for(var Ut=ge.entries(),Ve=void 0;(Ve=Ut.next())&&!Ve.done;){var At=Ve.value,dn=At[0],gt=At[1];te.push({refId:et,op:e.OPERATION.DELETE,field:dn,value:void 0,previousValue:gt})}}Ie.addRef(et,Ae,an!==ge)}if(Ae!=null)if(Ae.$changes&&Ae.$changes.setParent(W.ref,W.root,se),M instanceof E)M[pe]=Ae;else if(M instanceof x)dn=qe,M.$items.set(dn,Ae),M.$changes.allChanges.add(se);else if(M instanceof S)M.setAt(se,Ae);else if(M instanceof Zn){var Tt=M.add(Ae);M.setIndex(se,Tt)}else M instanceof eo&&(Tt=M.add(Ae))!==!1&&M.setIndex(se,Tt);ge!==Ae&&te.push({refId:N,op:Q,field:pe,dynamicIndex:qe,value:Ae,previousValue:ge})}else{console.warn("@colyseus/schema: definition mismatch");for(var sn={offset:T.offset};T.offset<Fe&&(!Ft(m,T)||(sn.offset=T.offset+1,!Ie.refs.has(Tn(m,sn))));)T.offset++}}else M.clear(te)}else{N=Tn(m,T);var Ct=Ie.refs.get(N);if(!Ct)throw new Error('"refId" not found: '.concat(N));M=Ct}}return this._triggerChanges(te),Ie.garbageCollectDeletedRefs(),te},E.prototype.encode=function(m,T,M){m===void 0&&(m=!1),T===void 0&&(T=[]),M===void 0&&(M=!1);for(var te=this.$changes,Ie=new WeakSet,Fe=[te],N=1,D=0;D<N;D++){var W=Fe[D],F=W.ref,Q=F instanceof E;W.ensureRefId(),Ie.add(W),W!==te&&(W.changed||m)&&($(T,a),fe(T,W.refId));for(var se=m?Array.from(W.allChanges):Array.from(W.changes.values()),pe=0,be=se.length;pe<be;pe++){var Ae=m?{op:e.OPERATION.ADD,index:se[pe]}:se[pe],ge=Ae.index,qe=Q?F._definition.fieldsByIndex&&F._definition.fieldsByIndex[ge]:ge,Et=T.length;if(Ae.op!==e.OPERATION.TOUCH)if(Q)$(T,ge|Ae.op);else{if($(T,Ae.op),Ae.op===e.OPERATION.CLEAR)continue;fe(T,ge)}if(Q||(Ae.op&e.OPERATION.ADD)!=e.OPERATION.ADD||F instanceof x&&oe(T,W.ref.$indexes.get(ge)),Ae.op!==e.OPERATION.DELETE){var We=W.getType(ge),Je=W.getValue(ge);if(Je&&Je.$changes&&!Ie.has(Je.$changes)&&(Fe.push(Je.$changes),Je.$changes.ensureRefId(),N++),Ae.op!==e.OPERATION.TOUCH){if(E.is(We))ze(Je,We,F,qe),fe(T,Je.$changes.refId),(Ae.op&e.OPERATION.ADD)===e.OPERATION.ADD&&this.tryEncodeTypeId(T,We,Je.constructor);else if(typeof We=="string")je(We,T,Je,F,qe);else{var et=Y(Object.keys(We)[0]);ze(F["_".concat(qe)],et.constructor,F,qe),fe(T,Je.$changes.refId)}M&&W.cache(ge,T.slice(Et))}}}m||M||W.discard()}return T},E.prototype.encodeAll=function(m){return this.encode(!0,[],m)},E.prototype.applyFilters=function(m,T){var M,te;T===void 0&&(T=!1);for(var Ie=this,Fe=new Set,N=V.get(m),D=[this.$changes],W=1,F=[],Q=function(pe){var be=D[pe];if(Fe.has(be.refId))return"continue";var Ae=be.ref,ge=Ae instanceof E;$(F,a),fe(F,be.refId);var qe=N.refIds.has(be),Et=T||!qe;N.addRefId(be);var We=N.containerIndexes.get(be),Je=Et?Array.from(be.allChanges):Array.from(be.changes.values());!T&&ge&&Ae._definition.indexesWithFilters&&Ae._definition.indexesWithFilters.forEach(function(Ct){!We.has(Ct)&&be.allChanges.has(Ct)&&(Et?Je.push(Ct):Je.push({op:e.OPERATION.ADD,index:Ct}))});for(var et=0,an=Je.length;et<an;et++){var Ut=Et?{op:e.OPERATION.ADD,index:Je[et]}:Je[et];if(Ut.op!==e.OPERATION.CLEAR){var Ve=Ut.index;if(Ut.op!==e.OPERATION.DELETE){var At=be.getValue(Ve),dn=be.getType(Ve);if(ge){if((gt=Ae._definition.filters&&Ae._definition.filters[Ve])&&!gt.call(Ae,m,At,Ie)){At&&At.$changes&&Fe.add(At.$changes.refId);continue}}else{var gt,Tt=be.parent;if((gt=be.getChildrenFilter())&&!gt.call(Tt,m,Ae.$indexes.get(Ve),At,Ie)){At&&At.$changes&&Fe.add(At.$changes.refId);continue}}if(At.$changes&&(D.push(At.$changes),W++),Ut.op!==e.OPERATION.TOUCH)if(Ut.op===e.OPERATION.ADD||ge)F.push.apply(F,(M=be.caches[Ve])!==null&&M!==void 0?M:[]),We.add(Ve);else if(We.has(Ve))F.push.apply(F,(te=be.caches[Ve])!==null&&te!==void 0?te:[]);else{if(We.add(Ve),$(F,e.OPERATION.ADD),fe(F,Ve),Ae instanceof x){var sn=be.ref.$indexes.get(Ve);oe(F,sn)}At.$changes?fe(F,At.$changes.refId):Oe[dn](F,At)}else At.$changes&&!ge&&($(F,e.OPERATION.ADD),fe(F,Ve),Ae instanceof x&&(sn=be.ref.$indexes.get(Ve),oe(F,sn)),fe(F,At.$changes.refId))}else ge?$(F,Ut.op|Ve):($(F,Ut.op),fe(F,Ve))}else $(F,Ut.op)}},se=0;se<W;se++)Q(se);return F},E.prototype.clone=function(){var m,T=new this.constructor,M=this._definition.schema;for(var te in M)typeof this[te]=="object"&&typeof((m=this[te])===null||m===void 0?void 0:m.clone)=="function"?T[te]=this[te].clone():T[te]=this[te];return T},E.prototype.toJSON=function(){var m=this._definition.schema,T=this._definition.deprecated,M={};for(var te in m)T[te]||this[te]===null||this[te]===void 0||(M[te]=typeof this[te].toJSON=="function"?this[te].toJSON():this["_".concat(te)]);return M},E.prototype.discardAllChanges=function(){this.$changes.discardAll()},E.prototype.getByIndex=function(m){return this[this._definition.fieldsByIndex[m]]},E.prototype.deleteByIndex=function(m){this[this._definition.fieldsByIndex[m]]=void 0},E.prototype.tryEncodeTypeId=function(m,T,M){T._typeid!==M._typeid&&($(m,s),fe(m,M._typeid))},E.prototype.getSchemaType=function(m,T,M){var te;return m[T.offset]===s&&(T.offset++,te=this.constructor._context.get(Tn(m,T))),te||M},E.prototype.createTypeInstance=function(m){var T=new m;return T.$changes.root=this.$changes.root,T},E.prototype._triggerChanges=function(m){for(var T,M,te,Ie,Fe,N,D,W,F,Q=new Set,se=this.$changes.root.refs,pe=function(Ae){var ge=m[Ae],qe=ge.refId,Et=se.get(qe),We=Et.$callbacks;if((ge.op&e.OPERATION.DELETE)===e.OPERATION.DELETE&&ge.previousValue instanceof E&&((M=(T=ge.previousValue.$callbacks)===null||T===void 0?void 0:T[e.OPERATION.DELETE])===null||M===void 0||M.forEach(function(Je){return Je()})),!We)return"continue";if(Et instanceof E){if(!Q.has(qe))try{(te=We?.[e.OPERATION.REPLACE])===null||te===void 0||te.forEach(function(Je){return Je()})}catch(Je){E.onError(Je)}try{We.hasOwnProperty(ge.field)&&((Ie=We[ge.field])===null||Ie===void 0||Ie.forEach(function(Je){return Je(ge.value,ge.previousValue)}))}catch(Je){E.onError(Je)}}else ge.op===e.OPERATION.ADD&&ge.previousValue===void 0?(Fe=We[e.OPERATION.ADD])===null||Fe===void 0||Fe.forEach(function(Je){var et;return Je(ge.value,(et=ge.dynamicIndex)!==null&&et!==void 0?et:ge.field)}):ge.op===e.OPERATION.DELETE?ge.previousValue!==void 0&&((N=We[e.OPERATION.DELETE])===null||N===void 0||N.forEach(function(Je){var et;return Je(ge.previousValue,(et=ge.dynamicIndex)!==null&&et!==void 0?et:ge.field)})):ge.op===e.OPERATION.DELETE_AND_ADD&&(ge.previousValue!==void 0&&((D=We[e.OPERATION.DELETE])===null||D===void 0||D.forEach(function(Je){var et;return Je(ge.previousValue,(et=ge.dynamicIndex)!==null&&et!==void 0?et:ge.field)})),(W=We[e.OPERATION.ADD])===null||W===void 0||W.forEach(function(Je){var et;return Je(ge.value,(et=ge.dynamicIndex)!==null&&et!==void 0?et:ge.field)})),ge.value!==ge.previousValue&&((F=We[e.OPERATION.REPLACE])===null||F===void 0||F.forEach(function(Je){var et;return Je(ge.value,(et=ge.dynamicIndex)!==null&&et!==void 0?et:ge.field)}));Q.add(qe)},be=0;be<m.length;be++)pe(be)},E._definition=ie.create(),E}();function G(E){for(var m=[E.$changes],T=1,M={},te=M,Ie=function(N){var D=m[N];D.changes.forEach(function(W){var F=D.ref,Q=W.index,se=F._definition?F._definition.fieldsByIndex[Q]:F.$indexes.get(Q);te[se]=D.getValue(Q)})},Fe=0;Fe<T;Fe++)Ie(Fe);return M}var ee={context:new ae},de=function(E){function m(){return E!==null&&E.apply(this,arguments)||this}return o(m,E),n([ne("string",ee)],m.prototype,"name",void 0),n([ne("string",ee)],m.prototype,"type",void 0),n([ne("number",ee)],m.prototype,"referencedType",void 0),m}(bt),xe=function(E){function m(){var T=E!==null&&E.apply(this,arguments)||this;return T.fields=new S,T}return o(m,E),n([ne("number",ee)],m.prototype,"id",void 0),n([ne([de],ee)],m.prototype,"fields",void 0),m}(bt),_e=function(E){function m(){var T=E!==null&&E.apply(this,arguments)||this;return T.types=new S,T}return o(m,E),m.encode=function(T){var M,te=T.constructor,Ie=new m;Ie.rootType=te._typeid;var Fe=function(F,Q){for(var se in Q){var pe=new de;pe.name=se;var be=void 0;if(typeof Q[se]=="string")be=Q[se];else{var Ae=Q[se],ge=void 0;bt.is(Ae)?(be="ref",ge=Q[se]):typeof Ae[be=Object.keys(Ae)[0]]=="string"?be+=":"+Ae[be]:ge=Ae[be],pe.referencedType=ge?ge._typeid:-1}pe.type=be,F.fields.push(pe)}Ie.types.push(F)},N=(M=te._context)===null||M===void 0?void 0:M.types;for(var D in N){var W=new xe;W.id=Number(D),Fe(W,N[D]._definition.schema)}return Ie.encodeAll()},m.decode=function(T,M){var te=new ae,Ie=new m;Ie.decode(T,M);var Fe=Ie.types.reduce(function(Q,se){var pe=function(Ae){function ge(){return Ae!==null&&Ae.apply(this,arguments)||this}return o(ge,Ae),ge}(bt),be=se.id;return Q[be]=pe,te.add(pe,be),Q},{});Ie.types.forEach(function(Q){var se=Fe[Q.id];Q.fields.forEach(function(pe){var be;if(pe.referencedType!==void 0){var Ae=pe.type,ge=Fe[pe.referencedType];if(!ge){var qe=pe.type.split(":");Ae=qe[0],ge=qe[1]}Ae==="ref"?ne(ge,{context:te})(se.prototype,pe.name):ne(((be={})[Ae]=ge,be),{context:te})(se.prototype,pe.name)}else ne(pe.type,{context:te})(se.prototype,pe.name)})});var N=Fe[Ie.rootType],D=new N;for(var W in N._definition.schema){var F=N._definition.schema[W];typeof F!="string"&&(D[W]=typeof F=="function"?new F:new(Y(Object.keys(F)[0])).constructor)}return D},n([ne([xe],ee)],m.prototype,"types",void 0),n([ne("number",ee)],m.prototype,"rootType",void 0),m}(bt);j("map",{constructor:x}),j("array",{constructor:S}),j("set",{constructor:eo}),j("collection",{constructor:Zn}),e.ArraySchema=S,e.CollectionSchema=Zn,e.Context=ae,e.MapSchema=x,e.Reflection=_e,e.ReflectionField=de,e.ReflectionType=xe,e.Schema=bt,e.SchemaDefinition=ie,e.SetSchema=eo,e.decode=Qn,e.defineTypes=B,e.deprecated=q,e.dumpChanges=G,e.encode=Oe,e.filter=X,e.filterChildren=Z,e.hasFilter=ve,e.registerType=j,e.type=ne})(R2.exports);var gO=rn&&rn.__createBinding||(Object.create?function(e,t,o,n){n===void 0&&(n=o);var i=Object.getOwnPropertyDescriptor(t,o);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,n,i)}:function(e,t,o,n){n===void 0&&(n=o),e[n]=t[o]}),TO=rn&&rn.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),_O=rn&&rn.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var o in e)o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)&&gO(t,e,o);return TO(t,e),t};Object.defineProperty($f,"__esModule",{value:!0}),$f.Room=void 0;var rb=_O(Su),SO=Rh,zo=I2,ib=Rs,bO=Gf,Jm=Ru,dr=R2.exports,ab=Wh,Y1=class e{constructor(t,o){this.onStateChange=(0,Jm.createSignal)(),this.onError=(0,Jm.createSignal)(),this.onLeave=(0,Jm.createSignal)(),this.onJoin=(0,Jm.createSignal)(),this.hasJoined=!1,this.onMessageHandlers=(0,bO.createNanoEvents)(),this.roomId=null,this.name=t,o&&(this.serializer=new((0,ib.getSerializer)("schema")),this.rootSchema=o,this.serializer.state=new o),this.onError((n,i)=>{var r;return(r=console.warn)===null||r===void 0?void 0:r.call(console,`colyseus.js - onError => (${n}) ${i}`)}),this.onLeave(()=>this.removeAllListeners())}get id(){return this.roomId}connect(t,o,n=this){let i=new SO.Connection;n.connection=i,i.events.onmessage=e.prototype.onMessageCallback.bind(n),i.events.onclose=function(r){var a;if(!n.hasJoined)return(a=console.warn)===null||a===void 0||a.call(console,`Room connection was closed unexpectedly (${r.code}): ${r.reason}`),void n.onError.invoke(r.code,r.reason);r.code===ab.CloseCode.DEVMODE_RESTART&&o?o():(n.onLeave.invoke(r.code,r.reason),n.destroy())},i.events.onerror=function(r){var a;(a=console.warn)===null||a===void 0||a.call(console,`Room, onError (${r.code}): ${r.reason}`),n.onError.invoke(r.code,r.reason)},i.connect(t)}leave(t=!0){return new Promise(o=>{this.onLeave(n=>o(n)),this.connection?t?this.connection.send([zo.Protocol.LEAVE_ROOM]):this.connection.close():this.onLeave.invoke(ab.CloseCode.CONSENTED)})}onMessage(t,o){return this.onMessageHandlers.on(this.getMessageHandlerKey(t),o)}send(t,o){let n=[zo.Protocol.ROOM_DATA],i;if(typeof t=="string"?dr.encode.string(n,t):dr.encode.number(n,t),o!==void 0){let r=rb.encode(o);i=new Uint8Array(n.length+r.byteLength),i.set(new Uint8Array(n),0),i.set(new Uint8Array(r),n.length)}else i=new Uint8Array(n);this.connection.send(i.buffer)}sendBytes(t,o){let n=[zo.Protocol.ROOM_DATA_BYTES],i;typeof t=="string"?dr.encode.string(n,t):dr.encode.number(n,t),i=new Uint8Array(n.length+(o.byteLength||o.length)),i.set(new Uint8Array(n),0),i.set(new Uint8Array(o),n.length),this.connection.send(i.buffer)}get state(){return this.serializer.getState()}removeAllListeners(){this.onJoin.clear(),this.onStateChange.clear(),this.onError.clear(),this.onLeave.clear(),this.onMessageHandlers.events={}}onMessageCallback(t){let o=Array.from(new Uint8Array(t.data)),n=o[0];if(n===zo.Protocol.JOIN_ROOM){let i=1,r=(0,zo.utf8Read)(o,i);if(i+=(0,zo.utf8Length)(r),this.serializerId=(0,zo.utf8Read)(o,i),i+=(0,zo.utf8Length)(this.serializerId),!this.serializer){let a=(0,ib.getSerializer)(this.serializerId);this.serializer=new a}o.length>i&&this.serializer.handshake&&this.serializer.handshake(o,{offset:i}),this.reconnectionToken=`${this.roomId}:${r}`,this.hasJoined=!0,this.onJoin.invoke(),this.connection.send([zo.Protocol.JOIN_ROOM])}else if(n===zo.Protocol.ERROR){let i={offset:1},r=dr.decode.number(o,i),a=dr.decode.string(o,i);this.onError.invoke(r,a)}else if(n===zo.Protocol.LEAVE_ROOM)this.leave();else if(n===zo.Protocol.ROOM_DATA_SCHEMA){let i={offset:1},r=this.serializer.getState().constructor._context.get(dr.decode.number(o,i)),a=new r;a.decode(o,i),this.dispatchMessage(r,a)}else if(n===zo.Protocol.ROOM_STATE)o.shift(),this.setState(o);else if(n===zo.Protocol.ROOM_STATE_PATCH)o.shift(),this.patch(o);else if(n===zo.Protocol.ROOM_DATA){let i={offset:1},r=dr.decode.stringCheck(o,i)?dr.decode.string(o,i):dr.decode.number(o,i),a=o.length>i.offset?rb.decode(t.data,i.offset):void 0;this.dispatchMessage(r,a)}else if(n===zo.Protocol.ROOM_DATA_BYTES){let i={offset:1},r=dr.decode.stringCheck(o,i)?dr.decode.string(o,i):dr.decode.number(o,i);this.dispatchMessage(r,new Uint8Array(o.slice(i.offset)))}}setState(t){this.serializer.setState(t),this.onStateChange.invoke(this.serializer.getState())}patch(t){this.serializer.patch(t),this.onStateChange.invoke(this.serializer.getState())}dispatchMessage(t,o){var n;let i=this.getMessageHandlerKey(t);this.onMessageHandlers.events[i]?this.onMessageHandlers.emit(i,o):this.onMessageHandlers.events["*"]?this.onMessageHandlers.emit("*",t,o):(n=console.warn)===null||n===void 0||n.call(console,`colyseus.js: onMessage() not registered for type '${t}'.`)}destroy(){this.serializer&&this.serializer.teardown()}getMessageHandlerKey(t){switch(typeof t){case"function":return`$${t._typeid}`;case"string":return t;case"number":return`i${t}`;default:throw new Error("invalid message type.")}}};$f.Room=Y1;var kh={};function sb(e,t){t.headers=e.headers||{},t.statusMessage=e.statusText,t.statusCode=e.status,t.data=e.response}function ii(e,t,o){return new Promise(function(n,i){o=o||{};var r,a,s,c=new XMLHttpRequest,d=o.body,h=o.headers||{};for(r in o.timeout&&(c.timeout=o.timeout),c.ontimeout=c.onerror=function(g){g.timeout=g.type=="timeout",i(g)},c.open(e,t.href||t),c.onload=function(){for(s=c.getAllResponseHeaders().trim().split(/[\r\n]+/),sb(c,c);a=s.shift();)a=a.split(": "),c.headers[a.shift().toLowerCase()]=a.join(": ");if((a=c.headers["content-type"])&&~a.indexOf("application/json"))try{c.data=JSON.parse(c.data,o.reviver)}catch(g){return sb(c,g),i(g)}(c.status>=400?i:n)(c)},typeof FormData<"u"&&d instanceof FormData||d&&typeof d=="object"&&(h["content-type"]="application/json",d=JSON.stringify(d)),c.withCredentials=!!o.withCredentials,h)c.setRequestHeader(r,h[r]);c.send(d)})}var vO=ii.bind(ii,"GET"),AO=ii.bind(ii,"POST"),wO=ii.bind(ii,"PATCH"),xO=ii.bind(ii,"DELETE"),IO=ii.bind(ii,"PUT"),RO=Object.freeze({__proto__:null,send:ii,get:vO,post:AO,patch:wO,del:xO,put:IO}),NO=nO(RO),OO=rn&&rn.__createBinding||(Object.create?function(e,t,o,n){n===void 0&&(n=o);var i=Object.getOwnPropertyDescriptor(t,o);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,n,i)}:function(e,t,o,n){n===void 0&&(n=o),e[n]=t[o]}),kO=rn&&rn.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),CO=rn&&rn.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var o in e)o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)&&OO(t,e,o);return kO(t,e),t};Object.defineProperty(kh,"__esModule",{value:!0}),kh.HTTP=void 0;var MO=Wh,PO=CO(NO),J1=class{constructor(t){this.client=t}get(t,o={}){return this.request("get",t,o)}post(t,o={}){return this.request("post",t,o)}del(t,o={}){return this.request("del",t,o)}put(t,o={}){return this.request("put",t,o)}request(t,o,n={}){return PO[t](this.client.getHttpEndpoint(o),this.getOptions(n)).catch(i=>{var r;let a=i.statusCode,s=((r=i.data)===null||r===void 0?void 0:r.error)||i.statusMessage||i.message;throw!a&&!s?i:new MO.ServerError(a,s)})}getOptions(t){return this.authToken&&(t.headers||(t.headers={}),t.headers.Authorization=`Bearer ${this.authToken}`),typeof cc<"u"&&cc.sys&&cc.sys.isNative||(t.withCredentials=!0),t}};kh.HTTP=J1;var qf={},Ua={},Hl;function N2(){if(!Hl)try{Hl=typeof cc<"u"&&cc.sys&&cc.sys.localStorage?cc.sys.localStorage:(void 0).localStorage}catch{}return Hl||(Hl={cache:{},setItem:function(e,t){this.cache[e]=t},getItem:function(e){this.cache[e]},removeItem:function(e){delete this.cache[e]}}),Hl}function zO(e,t){N2().setItem(e,t)}function UO(e){N2().removeItem(e)}function BO(e,t){let o=N2().getItem(e);typeof Promise<"u"&&o instanceof Promise?o.then(n=>t(n)):t(o)}Object.defineProperty(Ua,"__esModule",{value:!0}),Ua.getItem=Ua.removeItem=Ua.setItem=void 0,Ua.setItem=zO,Ua.removeItem=UO,Ua.getItem=BO;var As=rn&&rn.__awaiter||function(e,t,o,n){return new(o||(o=Promise))(function(i,r){function a(d){try{c(n.next(d))}catch(h){r(h)}}function s(d){try{c(n.throw(d))}catch(h){r(h)}}function c(d){var h;d.done?i(d.value):(h=d.value,h instanceof o?h:new o(function(g){g(h)})).then(a,s)}c((n=n.apply(e,t||[])).next())})},lu=rn&&rn.__classPrivateFieldGet||function(e,t,o,n){if(o==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return o==="m"?n:o==="a"?n.call(e):n?n.value:t.get(e)},$l=rn&&rn.__classPrivateFieldSet||function(e,t,o,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,o):i?i.value=o:t.set(e,o),o},vh,Q1,Ba,Ah;Object.defineProperty(qf,"__esModule",{value:!0}),qf.Auth=void 0;var M1=Ua,LO=Gf,K1=class{constructor(t){this.http=t,this.settings={path:"/auth",key:"colyseus-auth-token"},vh.set(this,!1),Q1.set(this,void 0),Ba.set(this,void 0),Ah.set(this,(0,LO.createNanoEvents)()),(0,M1.getItem)(this.settings.key,o=>this.token=o)}set token(t){this.http.authToken=t}get token(){return this.http.authToken}onChange(t){let o=lu(this,Ah,"f").on("change",t);return lu(this,vh,"f")||$l(this,Q1,new Promise((n,i)=>{this.getUserData().then(r=>{this.emitChange(Object.assign(Object.assign({},r),{token:this.token}))}).catch(r=>{this.emitChange({user:null,token:void 0})}).finally(()=>{n()})}),"f"),$l(this,vh,!0,"f"),o}getUserData(){return As(this,void 0,void 0,function*(){if(this.token)return(yield this.http.get(`${this.settings.path}/userdata`)).data;throw new Error("missing auth.token")})}registerWithEmailAndPassword(t,o,n){return As(this,void 0,void 0,function*(){let i=(yield this.http.post(`${this.settings.path}/register`,{body:{email:t,password:o,options:n}})).data;return this.emitChange(i),i})}signInWithEmailAndPassword(t,o){return As(this,void 0,void 0,function*(){let n=(yield this.http.post(`${this.settings.path}/login`,{body:{email:t,password:o}})).data;return this.emitChange(n),n})}signInAnonymously(t){return As(this,void 0,void 0,function*(){let o=(yield this.http.post(`${this.settings.path}/anonymous`,{body:{options:t}})).data;return this.emitChange(o),o})}sendPasswordResetEmail(t){return As(this,void 0,void 0,function*(){return(yield this.http.post(`${this.settings.path}/forgot-password`,{body:{email:t}})).data})}signInWithProvider(t,o={}){return As(this,void 0,void 0,function*(){return new Promise((n,i)=>{let r=o.width||480,a=o.height||768,s=this.token?`?token=${this.token}`:"",c=`Login with ${t[0].toUpperCase()+t.substring(1)}`,d=this.http.client.getHttpEndpoint(`${o.prefix||`${this.settings.path}/provider`}/${t}${s}`),h=screen.width/2-r/2,g=screen.height/2-a/2;$l(this,Ba,(void 0).open(d,c,"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+r+", height="+a+", top="+g+", left="+h),"f");let A=S=>{S.data.user===void 0&&S.data.token===void 0||(clearInterval(v),lu(this,Ba,"f").close(),$l(this,Ba,void 0,"f"),(void 0).removeEventListener("message",A),S.data.error!==void 0?i(S.data.error):(n(S.data),this.emitChange(S.data)))},v=setInterval(()=>{lu(this,Ba,"f")&&!lu(this,Ba,"f").closed||($l(this,Ba,void 0,"f"),i("cancelled"),(void 0).removeEventListener("message",A))},200);(void 0).addEventListener("message",A)})})}signOut(){return As(this,void 0,void 0,function*(){this.emitChange({user:null,token:null})})}emitChange(t){t.token!==void 0&&(this.token=t.token,t.token===null?(0,M1.removeItem)(this.settings.key):(0,M1.setItem)(this.settings.key,t.token)),lu(this,Ah,"f").emit("change",t)}};qf.Auth=K1,vh=new WeakMap,Q1=new WeakMap,Ba=new WeakMap,Ah=new WeakMap;var wh={};function DO(e){var t;let o=((t=void 0)===null||t===void 0?void 0:t.hostname)||"localhost",n=e.hostname.split("."),i=!e.hostname.includes("trycloudflare.com")&&!e.hostname.includes("discordsays.com")&&n.length>2?`/${n[0]}`:"";return e.pathname.startsWith("/.proxy")?`${e.protocol}//${o}${i}${e.pathname}${e.search}`:`${e.protocol}//${o}/.proxy/colyseus${i}${e.pathname}${e.search}`}Object.defineProperty(wh,"__esModule",{value:!0}),wh.discordURLBuilder=void 0,wh.discordURLBuilder=DO;var vi=rn&&rn.__awaiter||function(e,t,o,n){return new(o||(o=Promise))(function(i,r){function a(d){try{c(n.next(d))}catch(h){r(h)}}function s(d){try{c(n.throw(d))}catch(h){r(h)}}function c(d){var h;d.done?i(d.value):(h=d.value,h instanceof o?h:new o(function(g){g(h)})).then(a,s)}c((n=n.apply(e,t||[])).next())})},jH;Object.defineProperty(Iu,"__esModule",{value:!0}),Iu.Client=Iu.MatchMakeError=void 0;var FO=Wh,jO=$f,WO=kh,VO=qf,WH=wh,Ch=class e extends Error{constructor(t,o){super(t),this.code=o,Object.setPrototypeOf(this,e.prototype)}};Iu.MatchMakeError=Ch;var cb="ws://127.0.0.1:2567",X1=class{constructor(t=cb,o){var n,i;if(typeof t=="string"){let r=t.startsWith("/")?new URL(t,cb):new URL(t),a=r.protocol==="https:"||r.protocol==="wss:",s=Number(r.port||(a?443:80));this.settings={hostname:r.hostname,pathname:r.pathname,port:s,secure:a}}else t.port===void 0&&(t.port=t.secure?443:80),t.pathname===void 0&&(t.pathname=""),this.settings=t;this.settings.pathname.endsWith("/")&&(this.settings.pathname=this.settings.pathname.slice(0,-1)),this.http=new WO.HTTP(this),this.auth=new VO.Auth(this.http),this.urlBuilder=o,this.urlBuilder}joinOrCreate(t,o={},n){return vi(this,void 0,void 0,function*(){return yield this.createMatchMakeRequest("joinOrCreate",t,o,n)})}create(t,o={},n){return vi(this,void 0,void 0,function*(){return yield this.createMatchMakeRequest("create",t,o,n)})}join(t,o={},n){return vi(this,void 0,void 0,function*(){return yield this.createMatchMakeRequest("join",t,o,n)})}joinById(t,o={},n){return vi(this,void 0,void 0,function*(){return yield this.createMatchMakeRequest("joinById",t,o,n)})}reconnect(t,o){return vi(this,void 0,void 0,function*(){if(typeof t=="string"&&typeof o=="string")throw new Error("DEPRECATED: .reconnect() now only accepts 'reconnectionToken' as argument.\nYou can get this token from previously connected `room.reconnectionToken`");let[n,i]=t.split(":");if(!n||!i)throw new Error(`Invalid reconnection token format.
The format should be roomId:reconnectionToken`);return yield this.createMatchMakeRequest("reconnect",n,{reconnectionToken:i},o)})}getAvailableRooms(t=""){return vi(this,void 0,void 0,function*(){return(yield this.http.get(`matchmake/${t}`,{headers:{Accept:"application/json"}})).data})}consumeSeatReservation(t,o,n){return vi(this,void 0,void 0,function*(){let i=this.createRoom(t.room.name,o);i.roomId=t.room.roomId,i.sessionId=t.sessionId;let r={sessionId:i.sessionId};t.reconnectionToken&&(r.reconnectionToken=t.reconnectionToken);let a=n||i;return i.connect(this.buildEndpoint(t.room,r),t.devMode&&(()=>vi(this,void 0,void 0,function*(){console.info(`[Colyseus devMode]: ${String.fromCodePoint(128260)} Re-establishing connection with room id '${i.roomId}'...`);let s=0,c=()=>vi(this,void 0,void 0,function*(){s++;try{yield this.consumeSeatReservation(t,o,a),console.info(`[Colyseus devMode]: ${String.fromCodePoint(9989)} Successfully re-established connection with room '${i.roomId}'`)}catch{s<8?(console.info(`[Colyseus devMode]: ${String.fromCodePoint(128260)} retrying... (${s} out of 8)`),setTimeout(c,2e3)):console.info(`[Colyseus devMode]: ${String.fromCodePoint(10060)} Failed to reconnect. Is your server running? Please check server logs.`)}});setTimeout(c,2e3)})),a),new Promise((s,c)=>{let d=(h,g)=>c(new FO.ServerError(h,g));a.onError.once(d),a.onJoin.once(()=>{a.onError.remove(d),s(a)})})})}createMatchMakeRequest(t,o,n={},i,r){return vi(this,void 0,void 0,function*(){let a=(yield this.http.post(`matchmake/${t}/${o}`,{headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)})).data;if(a.error)throw new Ch(a.error,a.code);return t==="reconnect"&&(a.reconnectionToken=n.reconnectionToken),yield this.consumeSeatReservation(a,i,r)})}createRoom(t,o){return new jO.Room(t,o)}buildEndpoint(t,o={}){let n=[];for(let a in o)o.hasOwnProperty(a)&&n.push(`${a}=${o[a]}`);let i=this.settings.secure?"wss://":"ws://";t.publicAddress?i+=`${t.publicAddress}`:i+=`${this.settings.hostname}${this.getEndpointPort()}${this.settings.pathname}`;let r=`${i}/${t.processId}/${t.roomId}?${n.join("&")}`;return this.urlBuilder?this.urlBuilder(new URL(r)):r}getHttpEndpoint(t=""){let o=t.startsWith("/")?t:`/${t}`,n=`${this.settings.secure?"https":"http"}://${this.settings.hostname}${this.getEndpointPort()}${this.settings.pathname}${o}`;return this.urlBuilder?this.urlBuilder(new URL(n)):n}getEndpointPort(){return this.settings.port!==80&&this.settings.port!==443?`:${this.settings.port}`:""}};Iu.Client=X1;var Mh={};Object.defineProperty(Mh,"__esModule",{value:!0}),Mh.SchemaSerializer=void 0;var ub=R2.exports,Z1=class{setState(t){return this.state.decode(t)}getState(){return this.state}patch(t){return this.state.decode(t)}teardown(){var t,o;(o=(t=this.state)===null||t===void 0?void 0:t.$changes)===null||o===void 0||o.root.clearRefs()}handshake(t,o){this.state?new ub.Reflection().decode(t,o):this.state=ub.Reflection.decode(t,o)}};Mh.SchemaSerializer=Z1;var Ph={};Object.defineProperty(Ph,"__esModule",{value:!0}),Ph.NoneSerializer=void 0;var e2=class{setState(t){}getState(){return null}patch(t){}teardown(){}handshake(t){}};function HO(e){return{all:e=e||new Map,on:function(t,o){var n=e.get(t);n?n.push(o):e.set(t,[o])},off:function(t,o){var n=e.get(t);n&&(o?n.splice(n.indexOf(o)>>>0,1):e.set(t,[]))},emit:function(t,o){var n=e.get(t);n&&n.slice().map(function(i){i(o)}),(n=e.get("*"))&&n.slice().map(function(i){i(t,o)})}}}Ph.NoneSerializer=e2,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SchemaSerializer=e.registerSerializer=e.Auth=e.Room=e.ErrorCode=e.Protocol=e.Client=void 0;var t=Iu;Object.defineProperty(e,"Client",{enumerable:!0,get:function(){return t.Client}});var o=I2;Object.defineProperty(e,"Protocol",{enumerable:!0,get:function(){return o.Protocol}}),Object.defineProperty(e,"ErrorCode",{enumerable:!0,get:function(){return o.ErrorCode}});var n=$f;Object.defineProperty(e,"Room",{enumerable:!0,get:function(){return n.Room}});var i=qf;Object.defineProperty(e,"Auth",{enumerable:!0,get:function(){return i.Auth}});let r=Mh;Object.defineProperty(e,"SchemaSerializer",{enumerable:!0,get:function(){return r.SchemaSerializer}});let a=Ph,s=Rs;Object.defineProperty(e,"registerSerializer",{enumerable:!0,get:function(){return s.registerSerializer}}),(0,s.registerSerializer)("schema",r.SchemaSerializer),(0,s.registerSerializer)("none",a.NoneSerializer)}(kv);var Mv={},ja={},$O=GO;function GO(e,t){for(var o=new Array(arguments.length-1),n=0,i=2,r=!0;i<arguments.length;)o[n++]=arguments[i++];return new Promise(function(a,s){o[n]=function(c){if(r)if(r=!1,c)s(c);else{for(var d=new Array(arguments.length-1),h=0;h<d.length;)d[h++]=arguments[h];a.apply(null,d)}};try{e.apply(t||null,o)}catch(c){r&&(r=!1,s(c))}})}var Pv={};(function(e){var t=Pv;t.length=function(a){var s=a.length;if(!s)return 0;for(var c=0;--s%4>1&&a.charAt(s)==="=";)++c;return Math.ceil(3*a.length)/4-c};for(var o=new Array(64),n=new Array(123),i=0;i<64;)n[o[i]=i<26?i+65:i<52?i+71:i<62?i-4:i-59|43]=i++;t.encode=function(a,s,c){for(var d,h=null,g=[],A=0,v=0;s<c;){var S=a[s++];switch(v){case 0:g[A++]=o[S>>2],d=(3&S)<<4,v=1;break;case 1:g[A++]=o[d|S>>4],d=(15&S)<<2,v=2;break;case 2:g[A++]=o[d|S>>6],g[A++]=o[63&S],v=0}A>8191&&((h||(h=[])).push(String.fromCharCode.apply(String,g)),A=0)}return v&&(g[A++]=o[d],g[A++]=61,v===1&&(g[A++]=61)),h?(A&&h.push(String.fromCharCode.apply(String,g.slice(0,A))),h.join("")):String.fromCharCode.apply(String,g.slice(0,A))};var r="invalid encoding";t.decode=function(a,s,c){for(var d,h=c,g=0,A=0;A<a.length;){var v=a.charCodeAt(A++);if(v===61&&g>1)break;if((v=n[v])===void 0)throw Error(r);switch(g){case 0:d=v,g=1;break;case 1:s[c++]=d<<2|(48&v)>>4,d=v,g=2;break;case 2:s[c++]=(15&d)<<4|(60&v)>>2,d=v,g=3;break;case 3:s[c++]=(3&d)<<6|v,g=0}}if(g===1)throw Error(r);return c-h},t.test=function(a){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(a)}})();var qO=xh;function xh(){this._listeners={}}xh.prototype.on=function(e,t,o){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:o||this}),this},xh.prototype.off=function(e,t){if(e===void 0)this._listeners={};else if(t===void 0)this._listeners[e]=[];else for(var o=this._listeners[e],n=0;n<o.length;)o[n].fn===t?o.splice(n,1):++n;return this},xh.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var o=[],n=1;n<arguments.length;)o.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,o)}return this};var YO=lb(lb);function lb(e){return typeof Float32Array<"u"?function(){var t=new Float32Array([-0]),o=new Uint8Array(t.buffer),n=o[3]===128;function i(c,d,h){t[0]=c,d[h]=o[0],d[h+1]=o[1],d[h+2]=o[2],d[h+3]=o[3]}function r(c,d,h){t[0]=c,d[h]=o[3],d[h+1]=o[2],d[h+2]=o[1],d[h+3]=o[0]}function a(c,d){return o[0]=c[d],o[1]=c[d+1],o[2]=c[d+2],o[3]=c[d+3],t[0]}function s(c,d){return o[3]=c[d],o[2]=c[d+1],o[1]=c[d+2],o[0]=c[d+3],t[0]}e.writeFloatLE=n?i:r,e.writeFloatBE=n?r:i,e.readFloatLE=n?a:s,e.readFloatBE=n?s:a}():function(){function t(n,i,r,a){var s=i<0?1:0;if(s&&(i=-i),i===0)n(1/i>0?0:2147483648,r,a);else if(isNaN(i))n(2143289344,r,a);else if(i>34028234663852886e22)n((s<<31|2139095040)>>>0,r,a);else if(i<11754943508222875e-54)n((s<<31|Math.round(i/1401298464324817e-60))>>>0,r,a);else{var c=Math.floor(Math.log(i)/Math.LN2);n((s<<31|c+127<<23|8388607&Math.round(i*Math.pow(2,-c)*8388608))>>>0,r,a)}}function o(n,i,r){var a=n(i,r),s=2*(a>>31)+1,c=a>>>23&255,d=8388607&a;return c===255?d?NaN:s*(1/0):c===0?1401298464324817e-60*s*d:s*Math.pow(2,c-150)*(d+8388608)}e.writeFloatLE=t.bind(null,fb),e.writeFloatBE=t.bind(null,db),e.readFloatLE=o.bind(null,pb),e.readFloatBE=o.bind(null,mb)}(),typeof Float64Array<"u"?function(){var t=new Float64Array([-0]),o=new Uint8Array(t.buffer),n=o[7]===128;function i(c,d,h){t[0]=c,d[h]=o[0],d[h+1]=o[1],d[h+2]=o[2],d[h+3]=o[3],d[h+4]=o[4],d[h+5]=o[5],d[h+6]=o[6],d[h+7]=o[7]}function r(c,d,h){t[0]=c,d[h]=o[7],d[h+1]=o[6],d[h+2]=o[5],d[h+3]=o[4],d[h+4]=o[3],d[h+5]=o[2],d[h+6]=o[1],d[h+7]=o[0]}function a(c,d){return o[0]=c[d],o[1]=c[d+1],o[2]=c[d+2],o[3]=c[d+3],o[4]=c[d+4],o[5]=c[d+5],o[6]=c[d+6],o[7]=c[d+7],t[0]}function s(c,d){return o[7]=c[d],o[6]=c[d+1],o[5]=c[d+2],o[4]=c[d+3],o[3]=c[d+4],o[2]=c[d+5],o[1]=c[d+6],o[0]=c[d+7],t[0]}e.writeDoubleLE=n?i:r,e.writeDoubleBE=n?r:i,e.readDoubleLE=n?a:s,e.readDoubleBE=n?s:a}():function(){function t(n,i,r,a,s,c){var d=a<0?1:0;if(d&&(a=-a),a===0)n(0,s,c+i),n(1/a>0?0:2147483648,s,c+r);else if(isNaN(a))n(0,s,c+i),n(2146959360,s,c+r);else if(a>17976931348623157e292)n(0,s,c+i),n((d<<31|2146435072)>>>0,s,c+r);else{var h;if(a<22250738585072014e-324)n((h=a/5e-324)>>>0,s,c+i),n((d<<31|h/4294967296)>>>0,s,c+r);else{var g=Math.floor(Math.log(a)/Math.LN2);g===1024&&(g=1023),n(4503599627370496*(h=a*Math.pow(2,-g))>>>0,s,c+i),n((d<<31|g+1023<<20|1048576*h&1048575)>>>0,s,c+r)}}}function o(n,i,r,a,s){var c=n(a,s+i),d=n(a,s+r),h=2*(d>>31)+1,g=d>>>20&2047,A=4294967296*(1048575&d)+c;return g===2047?A?NaN:h*(1/0):g===0?5e-324*h*A:h*Math.pow(2,g-1075)*(A+4503599627370496)}e.writeDoubleLE=t.bind(null,fb,0,4),e.writeDoubleBE=t.bind(null,db,4,0),e.readDoubleLE=o.bind(null,pb,0,4),e.readDoubleBE=o.bind(null,mb,4,0)}(),e}function fb(e,t,o){t[o]=255&e,t[o+1]=e>>>8&255,t[o+2]=e>>>16&255,t[o+3]=e>>>24}function db(e,t,o){t[o]=e>>>24,t[o+1]=e>>>16&255,t[o+2]=e>>>8&255,t[o+3]=255&e}function pb(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function mb(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}var JO=QO;function QO(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}var Nu={};(function(e){var t=Nu;t.length=function(o){for(var n=0,i=0,r=0;r<o.length;++r)(i=o.charCodeAt(r))<128?n+=1:i<2048?n+=2:(64512&i)==55296&&(64512&o.charCodeAt(r+1))==56320?(++r,n+=4):n+=3;return n},t.read=function(o,n,i){if(i-n<1)return"";for(var r,a=null,s=[],c=0;n<i;)(r=o[n++])<128?s[c++]=r:r>191&&r<224?s[c++]=(31&r)<<6|63&o[n++]:r>239&&r<365?(r=((7&r)<<18|(63&o[n++])<<12|(63&o[n++])<<6|63&o[n++])-65536,s[c++]=55296+(r>>10),s[c++]=56320+(1023&r)):s[c++]=(15&r)<<12|(63&o[n++])<<6|63&o[n++],c>8191&&((a||(a=[])).push(String.fromCharCode.apply(String,s)),c=0);return a?(c&&a.push(String.fromCharCode.apply(String,s.slice(0,c))),a.join("")):String.fromCharCode.apply(String,s.slice(0,c))},t.write=function(o,n,i){for(var r,a,s=i,c=0;c<o.length;++c)(r=o.charCodeAt(c))<128?n[i++]=r:r<2048?(n[i++]=r>>6|192,n[i++]=63&r|128):(64512&r)==55296&&(64512&(a=o.charCodeAt(c+1)))==56320?(r=65536+((1023&r)<<10)+(1023&a),++c,n[i++]=r>>18|240,n[i++]=r>>12&63|128,n[i++]=r>>6&63|128,n[i++]=63&r|128):(n[i++]=r>>12|224,n[i++]=r>>6&63|128,n[i++]=63&r|128);return i-s}})();var KO=XO;function XO(e,t,o){var n=o||8192,i=n>>>1,r=null,a=n;return function(s){if(s<1||s>i)return e(s);a+s>n&&(r=e(n),a=0);var c=t.call(r,a,a+=s);return 7&a&&(a=1+(7|a)),c}}var ZO=go,Gl=ja;function go(e,t){this.lo=e>>>0,this.hi=t>>>0}var xs=go.zero=new go(0,0);xs.toNumber=function(){return 0},xs.zzEncode=xs.zzDecode=function(){return this},xs.length=function(){return 1};var ek=go.zeroHash="\0\0\0\0\0\0\0\0";go.fromNumber=function(e){if(e===0)return xs;var t=e<0;t&&(e=-e);var o=e>>>0,n=(e-o)/4294967296>>>0;return t&&(n=~n>>>0,o=~o>>>0,++o>4294967295&&(o=0,++n>4294967295&&(n=0))),new go(o,n)},go.from=function(e){if(typeof e=="number")return go.fromNumber(e);if(Gl.isString(e)){if(!Gl.Long)return go.fromNumber(parseInt(e,10));e=Gl.Long.fromString(e)}return e.low||e.high?new go(e.low>>>0,e.high>>>0):xs},go.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,o=~this.hi>>>0;return t||(o=o+1>>>0),-(t+4294967296*o)}return this.lo+4294967296*this.hi},go.prototype.toLong=function(e){return Gl.Long?new Gl.Long(0|this.lo,0|this.hi,!!e):{low:0|this.lo,high:0|this.hi,unsigned:!!e}};var Ca=String.prototype.charCodeAt;go.fromHash=function(e){return e===ek?xs:new go((Ca.call(e,0)|Ca.call(e,1)<<8|Ca.call(e,2)<<16|Ca.call(e,3)<<24)>>>0,(Ca.call(e,4)|Ca.call(e,5)<<8|Ca.call(e,6)<<16|Ca.call(e,7)<<24)>>>0)},go.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},go.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},go.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},go.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,o=this.hi>>>24;return o===0?t===0?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:o<128?9:10},function(e){var t=ja;function o(i,r,a){for(var s=Object.keys(r),c=0;c<s.length;++c)i[s[c]]!==void 0&&a||(i[s[c]]=r[s[c]]);return i}function n(i){function r(a,s){if(!(this instanceof r))return new r(a,s);Object.defineProperty(this,"message",{get:function(){return a}}),Error.captureStackTrace?Error.captureStackTrace(this,r):Object.defineProperty(this,"stack",{value:new Error().stack||""}),s&&o(this,s)}return r.prototype=Object.create(Error.prototype,{constructor:{value:r,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return i},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),r}t.asPromise=$O,t.base64=Pv,t.EventEmitter=qO,t.float=YO,t.inquire=JO,t.utf8=Nu,t.pool=KO,t.LongBits=ZO,t.isNode=!!(rn!==void 0&&rn&&rn.process&&rn.process.versions&&rn.process.versions.node),t.global=t.isNode&&rn||!1||typeof self<"u"&&self||rn,t.emptyArray=Object.freeze?Object.freeze([]):[],t.emptyObject=Object.freeze?Object.freeze({}):{},t.isInteger=Number.isInteger||function(i){return typeof i=="number"&&isFinite(i)&&Math.floor(i)===i},t.isString=function(i){return typeof i=="string"||i instanceof String},t.isObject=function(i){return i&&typeof i=="object"},t.isset=t.isSet=function(i,r){var a=i[r];return!(a==null||!i.hasOwnProperty(r))&&(typeof a!="object"||(Array.isArray(a)?a.length:Object.keys(a).length)>0)},t.Buffer=function(){try{var i=t.inquire("buffer").Buffer;return i.prototype.utf8Write?i:null}catch{return null}}(),t._Buffer_from=null,t._Buffer_allocUnsafe=null,t.newBuffer=function(i){return typeof i=="number"?t.Buffer?t._Buffer_allocUnsafe(i):new t.Array(i):t.Buffer?t._Buffer_from(i):typeof Uint8Array>"u"?i:new Uint8Array(i)},t.Array=typeof Uint8Array<"u"?Uint8Array:Array,t.Long=t.global.dcodeIO&&t.global.dcodeIO.Long||t.global.Long||t.inquire("long"),t.key2Re=/^true|false|0|1$/,t.key32Re=/^-?(?:0|[1-9][0-9]*)$/,t.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,t.longToHash=function(i){return i?t.LongBits.from(i).toHash():t.LongBits.zeroHash},t.longFromHash=function(i,r){var a=t.LongBits.fromHash(i);return t.Long?t.Long.fromBits(a.lo,a.hi,r):a.toNumber(!!r)},t.merge=o,t.lcFirst=function(i){return i.charAt(0).toLowerCase()+i.substring(1)},t.newError=n,t.ProtocolError=n("ProtocolError"),t.oneOfGetter=function(i){for(var r={},a=0;a<i.length;++a)r[i[a]]=1;return function(){for(var s=Object.keys(this),c=s.length-1;c>-1;--c)if(r[s[c]]===1&&this[s[c]]!==void 0&&this[s[c]]!==null)return s[c]}},t.oneOfSetter=function(i){return function(r){for(var a=0;a<i.length;++a)i[a]!==r&&delete this[i[a]]}},t.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},t._configure=function(){var i=t.Buffer;i?(t._Buffer_from=i.from!==Uint8Array.from&&i.from||function(r,a){return new i(r,a)},t._Buffer_allocUnsafe=i.allocUnsafe||function(r){return new i(r)}):t._Buffer_from=t._Buffer_allocUnsafe=null}}();var zv=Ht,Ur=ja,t2,Qm=Ur.LongBits,hb=Ur.base64,yb=Ur.utf8;function Yf(e,t,o){this.fn=e,this.len=t,this.next=void 0,this.val=o}function n2(){}function tk(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function Ht(){this.len=0,this.head=new Yf(n2,0,0),this.tail=this.head,this.states=null}var Uv=function(){return Ur.Buffer?function(){return(Ht.create=function(){return new t2})()}:function(){return new Ht}};function o2(e,t,o){t[o]=255&e}function nk(e,t,o){for(;e>127;)t[o++]=127&e|128,e>>>=7;t[o]=e}function P1(e,t){this.len=e,this.next=void 0,this.val=t}function z1(e,t,o){for(;e.hi;)t[o++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[o++]=127&e.lo|128,e.lo=e.lo>>>7;t[o++]=e.lo}function U1(e,t,o){t[o]=255&e,t[o+1]=e>>>8&255,t[o+2]=e>>>16&255,t[o+3]=e>>>24}Ht.create=Uv(),Ht.alloc=function(e){return new Ur.Array(e)},Ur.Array!==Array&&(Ht.alloc=Ur.pool(Ht.alloc,Ur.Array.prototype.subarray)),Ht.prototype._push=function(e,t,o){return this.tail=this.tail.next=new Yf(e,t,o),this.len+=t,this},P1.prototype=Object.create(Yf.prototype),P1.prototype.fn=nk,Ht.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new P1((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},Ht.prototype.int32=function(e){return e<0?this._push(z1,10,Qm.fromNumber(e)):this.uint32(e)},Ht.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},Ht.prototype.uint64=function(e){var t=Qm.from(e);return this._push(z1,t.length(),t)},Ht.prototype.int64=Ht.prototype.uint64,Ht.prototype.sint64=function(e){var t=Qm.from(e).zzEncode();return this._push(z1,t.length(),t)},Ht.prototype.bool=function(e){return this._push(o2,1,e?1:0)},Ht.prototype.fixed32=function(e){return this._push(U1,4,e>>>0)},Ht.prototype.sfixed32=Ht.prototype.fixed32,Ht.prototype.fixed64=function(e){var t=Qm.from(e);return this._push(U1,4,t.lo)._push(U1,4,t.hi)},Ht.prototype.sfixed64=Ht.prototype.fixed64,Ht.prototype.float=function(e){return this._push(Ur.float.writeFloatLE,4,e)},Ht.prototype.double=function(e){return this._push(Ur.float.writeDoubleLE,8,e)};var ok=Ur.Array.prototype.set?function(e,t,o){t.set(e,o)}:function(e,t,o){for(var n=0;n<e.length;++n)t[o+n]=e[n]};Ht.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(o2,1,0);if(Ur.isString(e)){var o=Ht.alloc(t=hb.length(e));hb.decode(e,o,0),e=o}return this.uint32(t)._push(ok,t,e)},Ht.prototype.string=function(e){var t=yb.length(e);return t?this.uint32(t)._push(yb.write,t,e):this._push(o2,1,0)},Ht.prototype.fork=function(){return this.states=new tk(this),this.head=this.tail=new Yf(n2,0,0),this.len=0,this},Ht.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Yf(n2,0,0),this.len=0),this},Ht.prototype.ldelim=function(){var e=this.head,t=this.tail,o=this.len;return this.reset().uint32(o),o&&(this.tail.next=e.next,this.tail=t,this.len+=o),this},Ht.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),o=0;e;)e.fn(e.val,t,o),o+=e.len,e=e.next;return t},Ht._configure=function(e){t2=e,Ht.create=Uv(),t2._configure()};var rk=Ii,Bv=zv;(Ii.prototype=Object.create(Bv.prototype)).constructor=Ii;var La=ja;function Ii(){Bv.call(this)}function ik(e,t,o){e.length<40?La.utf8.write(e,t,o):t.utf8Write?t.utf8Write(e,o):t.write(e,o)}Ii._configure=function(){Ii.alloc=La._Buffer_allocUnsafe,Ii.writeBytesBuffer=La.Buffer&&La.Buffer.prototype instanceof Uint8Array&&La.Buffer.prototype.set.name==="set"?function(e,t,o){t.set(e,o)}:function(e,t,o){if(e.copy)e.copy(t,o,0,e.length);else for(var n=0;n<e.length;)t[o++]=e[n++]}},Ii.prototype.bytes=function(e){La.isString(e)&&(e=La._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(Ii.writeBytesBuffer,t,e),this},Ii.prototype.string=function(e){var t=La.Buffer.byteLength(e);return this.uint32(t),t&&this._push(ik,t,e),this},Ii._configure();var Lv=Yn,ni=ja,r2,Dv=ni.LongBits,ak=ni.utf8;function ti(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function Yn(e){this.buf=e,this.pos=0,this.len=e.length}var Eb=typeof Uint8Array<"u"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new Yn(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new Yn(e);throw Error("illegal buffer")},gb=function(){return ni.Buffer?function(e){return(Yn.create=function(t){return ni.Buffer.isBuffer(t)?new r2(t):Eb(t)})(e)}:Eb},Uo;function B1(){var e=new Dv(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw ti(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw ti(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function zh(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function Tb(){if(this.pos+8>this.len)throw ti(this,8);return new Dv(zh(this.buf,this.pos+=4),zh(this.buf,this.pos+=4))}Yn.create=gb(),Yn.prototype._slice=ni.Array.prototype.subarray||ni.Array.prototype.slice,Yn.prototype.uint32=(Uo=4294967295,function(){if(Uo=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(Uo=(Uo|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(Uo=(Uo|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(Uo=(Uo|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(Uo=(Uo|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return Uo;if((this.pos+=5)>this.len)throw this.pos=this.len,ti(this,10);return Uo}),Yn.prototype.int32=function(){return 0|this.uint32()},Yn.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)},Yn.prototype.bool=function(){return this.uint32()!==0},Yn.prototype.fixed32=function(){if(this.pos+4>this.len)throw ti(this,4);return zh(this.buf,this.pos+=4)},Yn.prototype.sfixed32=function(){if(this.pos+4>this.len)throw ti(this,4);return 0|zh(this.buf,this.pos+=4)},Yn.prototype.float=function(){if(this.pos+4>this.len)throw ti(this,4);var e=ni.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},Yn.prototype.double=function(){if(this.pos+8>this.len)throw ti(this,4);var e=ni.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},Yn.prototype.bytes=function(){var e=this.uint32(),t=this.pos,o=this.pos+e;if(o>this.len)throw ti(this,e);if(this.pos+=e,Array.isArray(this.buf))return this.buf.slice(t,o);if(t===o){var n=ni.Buffer;return n?n.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,t,o)},Yn.prototype.string=function(){var e=this.bytes();return ak.read(e,0,e.length)},Yn.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw ti(this,e);this.pos+=e}else do if(this.pos>=this.len)throw ti(this);while(128&this.buf[this.pos++]);return this},Yn.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(e=7&this.uint32())!=4;)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},Yn._configure=function(e){r2=e,Yn.create=gb(),r2._configure();var t=ni.Long?"toLong":"toNumber";ni.merge(Yn.prototype,{int64:function(){return B1.call(this)[t](!1)},uint64:function(){return B1.call(this)[t](!0)},sint64:function(){return B1.call(this).zzDecode()[t](!1)},fixed64:function(){return Tb.call(this)[t](!0)},sfixed64:function(){return Tb.call(this)[t](!1)}})};var sk=Is,Fv=Lv;(Is.prototype=Object.create(Fv.prototype)).constructor=Is;var _b=ja;function Is(e){Fv.call(this,e)}Is._configure=function(){_b.Buffer&&(Is.prototype._slice=_b.Buffer.prototype.slice)},Is.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},Is._configure();var jv={},ck=Yl,i2=ja;function Yl(e,t,o){if(typeof e!="function")throw TypeError("rpcImpl must be a function");i2.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=!!t,this.responseDelimited=!!o}(Yl.prototype=Object.create(i2.EventEmitter.prototype)).constructor=Yl,Yl.prototype.rpcCall=function e(t,o,n,i,r){if(!i)throw TypeError("request must be specified");var a=this;if(!r)return i2.asPromise(e,a,t,o,n,i);if(a.rpcImpl)try{return a.rpcImpl(t,o[a.requestDelimited?"encodeDelimited":"encode"](i).finish(),function(s,c){if(s)return a.emit("error",s,t),r(s);if(c!==null){if(!(c instanceof n))try{c=n[a.responseDelimited?"decodeDelimited":"decode"](c)}catch(d){return a.emit("error",d,t),r(d)}return a.emit("data",c,t),r(null,c)}a.end(!0)})}catch(s){return a.emit("error",s,t),void setTimeout(function(){r(s)},0)}else setTimeout(function(){r(Error("already ended"))},0)},Yl.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this},function(e){e.Service=ck}(jv);var uk={};(function(e){var t=Mv;function o(){t.util._configure(),t.Writer._configure(t.BufferWriter),t.Reader._configure(t.BufferReader)}t.build="minimal",t.Writer=zv,t.BufferWriter=rk,t.Reader=Lv,t.BufferReader=sk,t.util=ja,t.rpc=jv,t.roots=uk,t.configure=o,o()})();var H=Mv,Ql,Km;function lk(){return{states:[]}}function fk(){return{clip:"",playing:void 0,weight:void 0,speed:void 0,loop:void 0,shouldReset:void 0}}(function(e){e.encode=function(t,o=H.Writer.create()){for(let n of t.states)Km.encode(n,o.uint32(10).fork()).ldelim();return o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=lk();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;r.states.push(Km.decode(n,n.uint32()));continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}})(Ql||(Ql={})),function(e){e.encode=function(t,o=H.Writer.create()){return t.clip!==""&&o.uint32(18).string(t.clip),t.playing!==void 0&&o.uint32(24).bool(t.playing),t.weight!==void 0&&o.uint32(37).float(t.weight),t.speed!==void 0&&o.uint32(45).float(t.speed),t.loop!==void 0&&o.uint32(48).bool(t.loop),t.shouldReset!==void 0&&o.uint32(56).bool(t.shouldReset),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=fk();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 2:if(a!==18)break;r.clip=n.string();continue;case 3:if(a!==24)break;r.playing=n.bool();continue;case 4:if(a!==37)break;r.weight=n.float();continue;case 5:if(a!==45)break;r.speed=n.float();continue;case 6:if(a!==48)break;r.loop=n.bool();continue;case 7:if(a!==56)break;r.shouldReset=n.bool();continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}}(Km||(Km={}));var dk={COMPONENT_ID:1042,serialize(e,t){let o=Ql.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize:e=>Ql.decode(e.buffer(),e.remainingBytes()),create:()=>Ql.decode(new Uint8Array),jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAnimator"}};function pk(){return{state:0,timestamp:0}}var Kl;(function(e){e.encode=function(t,o=H.Writer.create()){return t.state!==0&&o.uint32(8).int32(t.state),t.timestamp!==0&&o.uint32(16).uint32(t.timestamp),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=pk();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==8)break;r.state=n.int32();continue;case 2:if(a!==16)break;r.timestamp=n.uint32();continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}})(Kl||(Kl={}));var mk={COMPONENT_ID:1105,serialize(e,t){let o=Kl.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize:e=>Kl.decode(e.buffer(),e.remainingBytes()),create:()=>Kl.decode(new Uint8Array),jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAudioEvent"}};function hk(){return{playing:void 0,volume:void 0,loop:void 0,pitch:void 0,audioClipUrl:"",currentTime:void 0,global:void 0}}var Xl;(function(e){e.encode=function(t,o=H.Writer.create()){return t.playing!==void 0&&o.uint32(8).bool(t.playing),t.volume!==void 0&&o.uint32(21).float(t.volume),t.loop!==void 0&&o.uint32(24).bool(t.loop),t.pitch!==void 0&&o.uint32(37).float(t.pitch),t.audioClipUrl!==""&&o.uint32(42).string(t.audioClipUrl),t.currentTime!==void 0&&o.uint32(53).float(t.currentTime),t.global!==void 0&&o.uint32(56).bool(t.global),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=hk();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==8)break;r.playing=n.bool();continue;case 2:if(a!==21)break;r.volume=n.float();continue;case 3:if(a!==24)break;r.loop=n.bool();continue;case 4:if(a!==37)break;r.pitch=n.float();continue;case 5:if(a!==42)break;r.audioClipUrl=n.string();continue;case 6:if(a!==53)break;r.currentTime=n.float();continue;case 7:if(a!==56)break;r.global=n.bool();continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}})(Xl||(Xl={}));var yk={COMPONENT_ID:1020,serialize(e,t){let o=Xl.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize:e=>Xl.decode(e.buffer(),e.remainingBytes()),create:()=>Xl.decode(new Uint8Array),jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAudioSource"}};function Ek(){return{playing:void 0,volume:void 0,url:""}}var Zl;(function(e){e.encode=function(t,o=H.Writer.create()){return t.playing!==void 0&&o.uint32(8).bool(t.playing),t.volume!==void 0&&o.uint32(21).float(t.volume),t.url!==""&&o.uint32(26).string(t.url),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=Ek();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==8)break;r.playing=n.bool();continue;case 2:if(a!==21)break;r.volume=n.float();continue;case 3:if(a!==26)break;r.url=n.string();continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}})(Zl||(Zl={}));var gk={COMPONENT_ID:1021,serialize(e,t){let o=Zl.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize:e=>Zl.decode(e.buffer(),e.remainingBytes()),create:()=>Zl.decode(new Uint8Array),jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAudioStream"}},Sb,ef;function Tk(){return{avatarId:void 0,anchorPointId:0}}(function(e){e[e.AAPT_POSITION=0]="AAPT_POSITION",e[e.AAPT_NAME_TAG=1]="AAPT_NAME_TAG",e[e.AAPT_HEAD=4]="AAPT_HEAD",e[e.AAPT_NECK=5]="AAPT_NECK",e[e.AAPT_SPINE=6]="AAPT_SPINE",e[e.AAPT_SPINE1=7]="AAPT_SPINE1",e[e.AAPT_SPINE2=8]="AAPT_SPINE2",e[e.AAPT_HIP=9]="AAPT_HIP",e[e.AAPT_LEFT_SHOULDER=10]="AAPT_LEFT_SHOULDER",e[e.AAPT_LEFT_ARM=11]="AAPT_LEFT_ARM",e[e.AAPT_LEFT_FOREARM=12]="AAPT_LEFT_FOREARM",e[e.AAPT_LEFT_HAND=2]="AAPT_LEFT_HAND",e[e.AAPT_LEFT_HAND_INDEX=13]="AAPT_LEFT_HAND_INDEX",e[e.AAPT_RIGHT_SHOULDER=14]="AAPT_RIGHT_SHOULDER",e[e.AAPT_RIGHT_ARM=15]="AAPT_RIGHT_ARM",e[e.AAPT_RIGHT_FOREARM=16]="AAPT_RIGHT_FOREARM",e[e.AAPT_RIGHT_HAND=3]="AAPT_RIGHT_HAND",e[e.AAPT_RIGHT_HAND_INDEX=17]="AAPT_RIGHT_HAND_INDEX",e[e.AAPT_LEFT_UP_LEG=18]="AAPT_LEFT_UP_LEG",e[e.AAPT_LEFT_LEG=19]="AAPT_LEFT_LEG",e[e.AAPT_LEFT_FOOT=20]="AAPT_LEFT_FOOT",e[e.AAPT_LEFT_TOE_BASE=21]="AAPT_LEFT_TOE_BASE",e[e.AAPT_RIGHT_UP_LEG=22]="AAPT_RIGHT_UP_LEG",e[e.AAPT_RIGHT_LEG=23]="AAPT_RIGHT_LEG",e[e.AAPT_RIGHT_FOOT=24]="AAPT_RIGHT_FOOT",e[e.AAPT_RIGHT_TOE_BASE=25]="AAPT_RIGHT_TOE_BASE"})(Sb||(Sb={})),function(e){e.encode=function(t,o=H.Writer.create()){return t.avatarId!==void 0&&o.uint32(10).string(t.avatarId),t.anchorPointId!==0&&o.uint32(16).int32(t.anchorPointId),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=Tk();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;r.avatarId=n.string();continue;case 2:if(a!==16)break;r.anchorPointId=n.int32();continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}}(ef||(ef={}));var _k={COMPONENT_ID:1073,serialize(e,t){let o=ef.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize:e=>ef.decode(e.buffer(),e.remainingBytes()),create:()=>ef.decode(new Uint8Array),jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAvatarAttach"}};function Sk(){return{r:0,g:0,b:0}}var Cn,To,tf;function bk(){return{r:0,g:0,b:0,a:0}}function vk(){return{skinColor:void 0,eyesColor:void 0,hairColor:void 0,bodyShapeUrn:"",name:""}}(function(e){e.encode=function(t,o=H.Writer.create()){return t.r!==0&&o.uint32(13).float(t.r),t.g!==0&&o.uint32(21).float(t.g),t.b!==0&&o.uint32(29).float(t.b),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=Sk();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==13)break;r.r=n.float();continue;case 2:if(a!==21)break;r.g=n.float();continue;case 3:if(a!==29)break;r.b=n.float();continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}})(Cn||(Cn={})),function(e){e.encode=function(t,o=H.Writer.create()){return t.r!==0&&o.uint32(13).float(t.r),t.g!==0&&o.uint32(21).float(t.g),t.b!==0&&o.uint32(29).float(t.b),t.a!==0&&o.uint32(37).float(t.a),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=bk();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==13)break;r.r=n.float();continue;case 2:if(a!==21)break;r.g=n.float();continue;case 3:if(a!==29)break;r.b=n.float();continue;case 4:if(a!==37)break;r.a=n.float();continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}}(To||(To={})),function(e){e.encode=function(t,o=H.Writer.create()){return t.skinColor!==void 0&&Cn.encode(t.skinColor,o.uint32(10).fork()).ldelim(),t.eyesColor!==void 0&&Cn.encode(t.eyesColor,o.uint32(18).fork()).ldelim(),t.hairColor!==void 0&&Cn.encode(t.hairColor,o.uint32(26).fork()).ldelim(),t.bodyShapeUrn!==""&&o.uint32(34).string(t.bodyShapeUrn),t.name!==""&&o.uint32(42).string(t.name),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=vk();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;r.skinColor=Cn.decode(n,n.uint32());continue;case 2:if(a!==18)break;r.eyesColor=Cn.decode(n,n.uint32());continue;case 3:if(a!==26)break;r.hairColor=Cn.decode(n,n.uint32());continue;case 4:if(a!==34)break;r.bodyShapeUrn=n.string();continue;case 5:if(a!==42)break;r.name=n.string();continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}}(tf||(tf={}));var Ak={COMPONENT_ID:1087,serialize(e,t){let o=tf.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize:e=>tf.decode(e.buffer(),e.remainingBytes()),create:()=>tf.decode(new Uint8Array),jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAvatarBase"}};function wk(){return{emoteUrn:"",loop:!1,timestamp:0}}var nf;(function(e){e.encode=function(t,o=H.Writer.create()){return t.emoteUrn!==""&&o.uint32(10).string(t.emoteUrn),t.loop===!0&&o.uint32(16).bool(t.loop),t.timestamp!==0&&o.uint32(24).uint32(t.timestamp),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=wk();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;r.emoteUrn=n.string();continue;case 2:if(a!==16)break;r.loop=n.bool();continue;case 3:if(a!==24)break;r.timestamp=n.uint32();continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}})(nf||(nf={}));var xk={COMPONENT_ID:1088,serialize(e,t){let o=nf.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize:e=>nf.decode(e.buffer(),e.remainingBytes()),create:()=>nf.decode(new Uint8Array),jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAvatarEmoteCommand"}};function Ik(){return{wearableUrns:[],emoteUrns:[]}}var of;(function(e){e.encode=function(t,o=H.Writer.create()){for(let n of t.wearableUrns)o.uint32(10).string(n);for(let n of t.emoteUrns)o.uint32(18).string(n);return o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=Ik();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;r.wearableUrns.push(n.string());continue;case 2:if(a!==18)break;r.emoteUrns.push(n.string());continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}})(of||(of={}));var Rk={COMPONENT_ID:1091,serialize(e,t){let o=of.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize:e=>of.decode(e.buffer(),e.remainingBytes()),create:()=>of.decode(new Uint8Array),jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAvatarEquippedData"}};function Nk(){return{x:0,y:0,z:0}}var bb,Dt,Ri,bu,vb,rf;function Ok(){return{x:0,y:0,z:0}}function kk(){return{x:0,y:0}}function Ck(){return{x:0,y:0,z:0,w:0}}function Mk(){return{area:void 0,excludeIds:[],modifiers:[]}}(function(e){e.encode=function(t,o=H.Writer.create()){return t.x!==0&&o.uint32(13).float(t.x),t.y!==0&&o.uint32(21).float(t.y),t.z!==0&&o.uint32(29).float(t.z),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=Nk();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==13)break;r.x=n.float();continue;case 2:if(a!==21)break;r.y=n.float();continue;case 3:if(a!==29)break;r.z=n.float();continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}})(bb||(bb={})),function(e){e.encode=function(t,o=H.Writer.create()){return t.x!==0&&o.uint32(13).float(t.x),t.y!==0&&o.uint32(21).float(t.y),t.z!==0&&o.uint32(29).float(t.z),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=Ok();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==13)break;r.x=n.float();continue;case 2:if(a!==21)break;r.y=n.float();continue;case 3:if(a!==29)break;r.z=n.float();continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}}(Dt||(Dt={})),function(e){e.encode=function(t,o=H.Writer.create()){return t.x!==0&&o.uint32(13).float(t.x),t.y!==0&&o.uint32(21).float(t.y),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=kk();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==13)break;r.x=n.float();continue;case 2:if(a!==21)break;r.y=n.float();continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}}(Ri||(Ri={})),function(e){e.encode=function(t,o=H.Writer.create()){return t.x!==0&&o.uint32(13).float(t.x),t.y!==0&&o.uint32(21).float(t.y),t.z!==0&&o.uint32(29).float(t.z),t.w!==0&&o.uint32(37).float(t.w),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=Ck();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==13)break;r.x=n.float();continue;case 2:if(a!==21)break;r.y=n.float();continue;case 3:if(a!==29)break;r.z=n.float();continue;case 4:if(a!==37)break;r.w=n.float();continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}}(bu||(bu={})),function(e){e[e.AMT_HIDE_AVATARS=0]="AMT_HIDE_AVATARS",e[e.AMT_DISABLE_PASSPORTS=1]="AMT_DISABLE_PASSPORTS"}(vb||(vb={})),function(e){e.encode=function(t,o=H.Writer.create()){t.area!==void 0&&Dt.encode(t.area,o.uint32(10).fork()).ldelim();for(let n of t.excludeIds)o.uint32(18).string(n);o.uint32(26).fork();for(let n of t.modifiers)o.int32(n);return o.ldelim(),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=Mk();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;r.area=Dt.decode(n,n.uint32());continue;case 2:if(a!==18)break;r.excludeIds.push(n.string());continue;case 3:if(a===24){r.modifiers.push(n.int32());continue}if(a===26){let s=n.uint32()+n.pos;for(;n.pos<s;)r.modifiers.push(n.int32());continue}}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}}(rf||(rf={}));var Pk={COMPONENT_ID:1070,serialize(e,t){let o=rf.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize:e=>rf.decode(e.buffer(),e.remainingBytes()),create:()=>rf.decode(new Uint8Array),jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAvatarModifierArea"}};var Mr=null;try{Mr=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function on(e,t,o){this.low=0|e,this.high=0|t,this.unsigned=!!o}function Bo(e){return(e&&e.__isLong__)===!0}function Ab(e){var t=Math.clz32(e&-e);return e?31-t:t}on.prototype.__isLong__,Object.defineProperty(on.prototype,"__isLong__",{value:!0}),on.isLong=Bo;var wb={},xb={};function ks(e,t){var o,n,i;return t?(i=0<=(e>>>=0)&&e<256)&&(n=xb[e])?n:(o=Qt(e,0,!0),i&&(xb[e]=o),o):(i=-128<=(e|=0)&&e<128)&&(n=wb[e])?n:(o=Qt(e,e<0?-1:0,!1),i&&(wb[e]=o),o)}function Br(e,t){if(isNaN(e))return t?ta:oi;if(t){if(e<0)return ta;if(e>=Wv)return $v}else{if(e<=-Rb)return tr;if(e+1>=Rb)return Hv}return e<0?Br(-e,t).neg():Qt(e%Mu|0,e/Mu|0,t)}function Qt(e,t,o){return new on(e,t,o)}on.fromInt=ks,on.fromNumber=Br,on.fromBits=Qt;var Uh=Math.pow;function O2(e,t,o){if(e.length===0)throw Error("empty string");if(typeof t=="number"?(o=t,t=!1):t=!!t,e==="NaN"||e==="Infinity"||e==="+Infinity"||e==="-Infinity")return t?ta:oi;if((o=o||10)<2||36<o)throw RangeError("radix");var n;if((n=e.indexOf("-"))>0)throw Error("interior hyphen");if(n===0)return O2(e.substring(1),t,o).neg();for(var i=Br(Uh(o,8)),r=oi,a=0;a<e.length;a+=8){var s=Math.min(8,e.length-a),c=parseInt(e.substring(a,a+s),o);if(s<8){var d=Br(Uh(o,s));r=r.mul(d).add(Br(c))}else r=(r=r.mul(i)).add(Br(c))}return r.unsigned=t,r}function Pr(e,t){return typeof e=="number"?Br(e,t):typeof e=="string"?O2(e,t):Qt(e.low,e.high,typeof t=="boolean"?t:e.unsigned)}on.fromString=O2,on.fromValue=Pr;var Ib=65536,zk=1<<24,Mu=Ib*Ib,Wv=Mu*Mu,Rb=Wv/2,Nb=ks(zk),oi=ks(0);on.ZERO=oi;var ta=ks(0,!0);on.UZERO=ta;var _u=ks(1);on.ONE=_u;var Vv=ks(1,!0);on.UONE=Vv;var a2=ks(-1);on.NEG_ONE=a2;var Hv=Qt(-1,2147483647,!1);on.MAX_VALUE=Hv;var $v=Qt(-1,-1,!0);on.MAX_UNSIGNED_VALUE=$v;var tr=Qt(0,-2147483648,!1);on.MIN_VALUE=tr;var Pe=on.prototype,af;function Uk(){return{id:"",name:void 0,bodyShape:void 0,skinColor:void 0,hairColor:void 0,eyeColor:void 0,expressionTriggerId:void 0,expressionTriggerTimestamp:void 0,talking:void 0,wearables:[],emotes:[]}}Pe.toInt=function(){return this.unsigned?this.low>>>0:this.low},Pe.toNumber=function(){return this.unsigned?(this.high>>>0)*Mu+(this.low>>>0):this.high*Mu+(this.low>>>0)},Pe.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(tr)){var t=Br(e),o=this.div(t),n=o.mul(t).sub(this);return o.toString(e)+n.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var i=Br(Uh(e,6),this.unsigned),r=this,a="";;){var s=r.div(i),c=(r.sub(s.mul(i)).toInt()>>>0).toString(e);if((r=s).isZero())return c+a;for(;c.length<6;)c="0"+c;a=""+c+a}},Pe.getHighBits=function(){return this.high},Pe.getHighBitsUnsigned=function(){return this.high>>>0},Pe.getLowBits=function(){return this.low},Pe.getLowBitsUnsigned=function(){return this.low>>>0},Pe.getNumBitsAbs=function(){if(this.isNegative())return this.eq(tr)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,t=31;t>0&&!(e&1<<t);t--);return this.high!=0?t+33:t+1},Pe.isSafeInteger=function(){var e=this.high>>21;return!e||!this.unsigned&&e===-1&&!(this.low===0&&this.high===-2097152)},Pe.isZero=function(){return this.high===0&&this.low===0},Pe.eqz=Pe.isZero,Pe.isNegative=function(){return!this.unsigned&&this.high<0},Pe.isPositive=function(){return this.unsigned||this.high>=0},Pe.isOdd=function(){return!(1&~this.low)},Pe.isEven=function(){return!(1&this.low)},Pe.equals=function(e){return Bo(e)||(e=Pr(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},Pe.eq=Pe.equals,Pe.notEquals=function(e){return!this.eq(e)},Pe.neq=Pe.notEquals,Pe.ne=Pe.notEquals,Pe.lessThan=function(e){return this.comp(e)<0},Pe.lt=Pe.lessThan,Pe.lessThanOrEqual=function(e){return this.comp(e)<=0},Pe.lte=Pe.lessThanOrEqual,Pe.le=Pe.lessThanOrEqual,Pe.greaterThan=function(e){return this.comp(e)>0},Pe.gt=Pe.greaterThan,Pe.greaterThanOrEqual=function(e){return this.comp(e)>=0},Pe.gte=Pe.greaterThanOrEqual,Pe.ge=Pe.greaterThanOrEqual,Pe.compare=function(e){if(Bo(e)||(e=Pr(e)),this.eq(e))return 0;var t=this.isNegative(),o=e.isNegative();return t&&!o?-1:!t&&o?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},Pe.comp=Pe.compare,Pe.negate=function(){return!this.unsigned&&this.eq(tr)?tr:this.not().add(_u)},Pe.neg=Pe.negate,Pe.add=function(e){Bo(e)||(e=Pr(e));var t=this.high>>>16,o=65535&this.high,n=this.low>>>16,i=65535&this.low,r=e.high>>>16,a=65535&e.high,s=e.low>>>16,c=0,d=0,h=0,g=0;return h+=(g+=i+(65535&e.low))>>>16,d+=(h+=n+s)>>>16,c+=(d+=o+a)>>>16,c+=t+r,Qt((h&=65535)<<16|(g&=65535),(c&=65535)<<16|(d&=65535),this.unsigned)},Pe.subtract=function(e){return Bo(e)||(e=Pr(e)),this.add(e.neg())},Pe.sub=Pe.subtract,Pe.multiply=function(e){if(this.isZero())return this;if(Bo(e)||(e=Pr(e)),Mr)return Qt(Mr.mul(this.low,this.high,e.low,e.high),Mr.get_high(),this.unsigned);if(e.isZero())return this.unsigned?ta:oi;if(this.eq(tr))return e.isOdd()?tr:oi;if(e.eq(tr))return this.isOdd()?tr:oi;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(Nb)&&e.lt(Nb))return Br(this.toNumber()*e.toNumber(),this.unsigned);var t=this.high>>>16,o=65535&this.high,n=this.low>>>16,i=65535&this.low,r=e.high>>>16,a=65535&e.high,s=e.low>>>16,c=65535&e.low,d=0,h=0,g=0,A=0;return g+=(A+=i*c)>>>16,h+=(g+=n*c)>>>16,g&=65535,h+=(g+=i*s)>>>16,d+=(h+=o*c)>>>16,h&=65535,d+=(h+=n*s)>>>16,h&=65535,d+=(h+=i*a)>>>16,d+=t*c+o*s+n*a+i*r,Qt((g&=65535)<<16|(A&=65535),(d&=65535)<<16|(h&=65535),this.unsigned)},Pe.mul=Pe.multiply,Pe.divide=function(e){if(Bo(e)||(e=Pr(e)),e.isZero())throw Error("division by zero");var t,o,n;if(Mr)return this.unsigned||this.high!==-2147483648||e.low!==-1||e.high!==-1?Qt((this.unsigned?Mr.div_u:Mr.div_s)(this.low,this.high,e.low,e.high),Mr.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?ta:oi;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return ta;if(e.gt(this.shru(1)))return Vv;n=ta}else{if(this.eq(tr))return e.eq(_u)||e.eq(a2)?tr:e.eq(tr)?_u:(t=this.shr(1).div(e).shl(1)).eq(oi)?e.isNegative()?_u:a2:(o=this.sub(e.mul(t)),n=t.add(o.div(e)));if(e.eq(tr))return this.unsigned?ta:oi;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();n=oi}for(o=this;o.gte(e);){t=Math.max(1,Math.floor(o.toNumber()/e.toNumber()));for(var i=Math.ceil(Math.log(t)/Math.LN2),r=i<=48?1:Uh(2,i-48),a=Br(t),s=a.mul(e);s.isNegative()||s.gt(o);)s=(a=Br(t-=r,this.unsigned)).mul(e);a.isZero()&&(a=_u),n=n.add(a),o=o.sub(s)}return n},Pe.div=Pe.divide,Pe.modulo=function(e){return Bo(e)||(e=Pr(e)),Mr?Qt((this.unsigned?Mr.rem_u:Mr.rem_s)(this.low,this.high,e.low,e.high),Mr.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},Pe.mod=Pe.modulo,Pe.rem=Pe.modulo,Pe.not=function(){return Qt(~this.low,~this.high,this.unsigned)},Pe.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},Pe.clz=Pe.countLeadingZeros,Pe.countTrailingZeros=function(){return this.low?Ab(this.low):Ab(this.high)+32},Pe.ctz=Pe.countTrailingZeros,Pe.and=function(e){return Bo(e)||(e=Pr(e)),Qt(this.low&e.low,this.high&e.high,this.unsigned)},Pe.or=function(e){return Bo(e)||(e=Pr(e)),Qt(this.low|e.low,this.high|e.high,this.unsigned)},Pe.xor=function(e){return Bo(e)||(e=Pr(e)),Qt(this.low^e.low,this.high^e.high,this.unsigned)},Pe.shiftLeft=function(e){return Bo(e)&&(e=e.toInt()),(e&=63)==0?this:e<32?Qt(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):Qt(0,this.low<<e-32,this.unsigned)},Pe.shl=Pe.shiftLeft,Pe.shiftRight=function(e){return Bo(e)&&(e=e.toInt()),(e&=63)==0?this:e<32?Qt(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):Qt(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},Pe.shr=Pe.shiftRight,Pe.shiftRightUnsigned=function(e){return Bo(e)&&(e=e.toInt()),(e&=63)==0?this:e<32?Qt(this.low>>>e|this.high<<32-e,this.high>>>e,this.unsigned):Qt(e===32?this.high:this.high>>>e-32,0,this.unsigned)},Pe.shru=Pe.shiftRightUnsigned,Pe.shr_u=Pe.shiftRightUnsigned,Pe.rotateLeft=function(e){var t;return Bo(e)&&(e=e.toInt()),(e&=63)==0?this:e===32?Qt(this.high,this.low,this.unsigned):e<32?(t=32-e,Qt(this.low<<e|this.high>>>t,this.high<<e|this.low>>>t,this.unsigned)):(t=32-(e-=32),Qt(this.high<<e|this.low>>>t,this.low<<e|this.high>>>t,this.unsigned))},Pe.rotl=Pe.rotateLeft,Pe.rotateRight=function(e){var t;return Bo(e)&&(e=e.toInt()),(e&=63)==0?this:e===32?Qt(this.high,this.low,this.unsigned):e<32?(t=32-e,Qt(this.high<<t|this.low>>>e,this.low<<t|this.high>>>e,this.unsigned)):(t=32-(e-=32),Qt(this.low<<t|this.high>>>e,this.high<<t|this.low>>>e,this.unsigned))},Pe.rotr=Pe.rotateRight,Pe.toSigned=function(){return this.unsigned?Qt(this.low,this.high,!1):this},Pe.toUnsigned=function(){return this.unsigned?this:Qt(this.low,this.high,!0)},Pe.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},Pe.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},Pe.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},on.fromBytes=function(e,t,o){return o?on.fromBytesLE(e,t):on.fromBytesBE(e,t)},on.fromBytesLE=function(e,t){return new on(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},on.fromBytesBE=function(e,t){return new on(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)},typeof BigInt=="function"&&(on.fromBigInt=function(e,t){return Qt(Number(BigInt.asIntN(32,e)),Number(BigInt.asIntN(32,e>>BigInt(32))),t)},on.fromValue=function(e,t){return typeof e=="bigint"?fromBigInt(e,t):Pr(e,t)},Pe.toBigInt=function(){var e=BigInt(this.low>>>0);return BigInt(this.unsigned?this.high>>>0:this.high)<<BigInt(32)|e}),function(e){e.encode=function(t,o=H.Writer.create()){t.id!==""&&o.uint32(10).string(t.id),t.name!==void 0&&o.uint32(18).string(t.name),t.bodyShape!==void 0&&o.uint32(26).string(t.bodyShape),t.skinColor!==void 0&&Cn.encode(t.skinColor,o.uint32(34).fork()).ldelim(),t.hairColor!==void 0&&Cn.encode(t.hairColor,o.uint32(42).fork()).ldelim(),t.eyeColor!==void 0&&Cn.encode(t.eyeColor,o.uint32(50).fork()).ldelim(),t.expressionTriggerId!==void 0&&o.uint32(58).string(t.expressionTriggerId),t.expressionTriggerTimestamp!==void 0&&o.uint32(64).int64(t.expressionTriggerTimestamp),t.talking!==void 0&&o.uint32(72).bool(t.talking);for(let n of t.wearables)o.uint32(82).string(n);for(let n of t.emotes)o.uint32(90).string(n);return o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=Uk();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;r.id=n.string();continue;case 2:if(a!==18)break;r.name=n.string();continue;case 3:if(a!==26)break;r.bodyShape=n.string();continue;case 4:if(a!==34)break;r.skinColor=Cn.decode(n,n.uint32());continue;case 5:if(a!==42)break;r.hairColor=Cn.decode(n,n.uint32());continue;case 6:if(a!==50)break;r.eyeColor=Cn.decode(n,n.uint32());continue;case 7:if(a!==58)break;r.expressionTriggerId=n.string();continue;case 8:if(a!==64)break;r.expressionTriggerTimestamp=Lk(n.int64());continue;case 9:if(a!==72)break;r.talking=n.bool();continue;case 10:if(a!==82)break;r.wearables.push(n.string());continue;case 11:if(a!==90)break;r.emotes.push(n.string());continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}}(af||(af={}));var Bk=(()=>{if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof global<"u")return global;throw"Unable to locate global object"})();function Lk(e){if(e.gt(Number.MAX_SAFE_INTEGER))throw new Bk.Error("Value is larger than Number.MAX_SAFE_INTEGER");return e.toNumber()}H.util.Long!==on&&(H.util.Long=on,H.configure());var Dk={COMPONENT_ID:1080,serialize(e,t){let o=af.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize:e=>af.decode(e.buffer(),e.remainingBytes()),create:()=>af.decode(new Uint8Array),jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAvatarShape"}},Ob,sf;function Fk(){return{billboardMode:void 0}}(function(e){e[e.BM_NONE=0]="BM_NONE",e[e.BM_X=1]="BM_X",e[e.BM_Y=2]="BM_Y",e[e.BM_Z=4]="BM_Z",e[e.BM_ALL=7]="BM_ALL"})(Ob||(Ob={})),function(e){e.encode=function(t,o=H.Writer.create()){return t.billboardMode!==void 0&&o.uint32(8).int32(t.billboardMode),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=Fk();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==8)break;r.billboardMode=n.int32();continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}}(sf||(sf={}));var jk={COMPONENT_ID:1090,serialize(e,t){let o=sf.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize:e=>sf.decode(e.buffer(),e.remainingBytes()),create:()=>sf.decode(new Uint8Array),jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBBillboard"}};function Wk(){return{mode:0}}var cf;(function(e){e.encode=function(t,o=H.Writer.create()){return t.mode!==0&&o.uint32(8).int32(t.mode),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=Wk();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==8)break;r.mode=n.int32();continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}})(cf||(cf={}));var Vk={COMPONENT_ID:1072,serialize(e,t){let o=cf.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize:e=>cf.decode(e.buffer(),e.remainingBytes()),create:()=>cf.decode(new Uint8Array),jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBCameraMode"}};function Hk(){return{area:void 0,mode:0}}var uf;(function(e){e.encode=function(t,o=H.Writer.create()){return t.area!==void 0&&Dt.encode(t.area,o.uint32(10).fork()).ldelim(),t.mode!==0&&o.uint32(16).int32(t.mode),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=Hk();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;r.area=Dt.decode(n,n.uint32());continue;case 2:if(a!==16)break;r.mode=n.int32();continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}})(uf||(uf={}));var $k={COMPONENT_ID:1071,serialize(e,t){let o=uf.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize:e=>uf.decode(e.buffer(),e.remainingBytes()),create:()=>uf.decode(new Uint8Array),jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBCameraModeArea"}};function Gk(){return{frameNumber:0,totalRuntime:0,tickNumber:0}}var lf;(function(e){e.encode=function(t,o=H.Writer.create()){return t.frameNumber!==0&&o.uint32(8).uint32(t.frameNumber),t.totalRuntime!==0&&o.uint32(21).float(t.totalRuntime),t.tickNumber!==0&&o.uint32(24).uint32(t.tickNumber),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=Gk();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==8)break;r.frameNumber=n.uint32();continue;case 2:if(a!==21)break;r.totalRuntime=n.float();continue;case 3:if(a!==24)break;r.tickNumber=n.uint32();continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}})(lf||(lf={}));var qk={COMPONENT_ID:1048,serialize(e,t){let o=lf.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize:e=>lf.decode(e.buffer(),e.remainingBytes()),create:()=>lf.decode(new Uint8Array),jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBEngineInfo"}};function Yk(){return{src:"",visibleMeshesCollisionMask:void 0,invisibleMeshesCollisionMask:void 0}}var ff;(function(e){e.encode=function(t,o=H.Writer.create()){return t.src!==""&&o.uint32(10).string(t.src),t.visibleMeshesCollisionMask!==void 0&&o.uint32(32).uint32(t.visibleMeshesCollisionMask),t.invisibleMeshesCollisionMask!==void 0&&o.uint32(40).uint32(t.invisibleMeshesCollisionMask),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=Yk();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;r.src=n.string();continue;case 4:if(a!==32)break;r.visibleMeshesCollisionMask=n.uint32();continue;case 5:if(a!==40)break;r.invisibleMeshesCollisionMask=n.uint32();continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}})(ff||(ff={}));var Jk={COMPONENT_ID:1041,serialize(e,t){let o=ff.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize:e=>ff.decode(e.buffer(),e.remainingBytes()),create:()=>ff.decode(new Uint8Array),jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBGltfContainer"}};function Qk(){return{currentState:0}}var df;(function(e){e.encode=function(t,o=H.Writer.create()){return t.currentState!==0&&o.uint32(8).int32(t.currentState),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=Qk();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==8)break;r.currentState=n.int32();continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}})(df||(df={}));var Kk={COMPONENT_ID:1049,serialize(e,t){let o=df.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize:e=>df.decode(e.buffer(),e.remainingBytes()),create:()=>df.decode(new Uint8Array),jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBGltfContainerLoadingState"}};function Xk(){return{mode:void 0}}var pf,Xm;function Zk(){return{disableAll:void 0,disableWalk:void 0,disableJog:void 0,disableRun:void 0,disableJump:void 0,disableEmote:void 0}}(function(e){e.encode=function(t,o=H.Writer.create()){return t.mode?.$case==="standard"&&Xm.encode(t.mode.standard,o.uint32(10).fork()).ldelim(),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=Xk();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;r.mode={$case:"standard",standard:Xm.decode(n,n.uint32())};continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}})(pf||(pf={})),function(e){e.encode=function(t,o=H.Writer.create()){return t.disableAll!==void 0&&o.uint32(8).bool(t.disableAll),t.disableWalk!==void 0&&o.uint32(16).bool(t.disableWalk),t.disableJog!==void 0&&o.uint32(24).bool(t.disableJog),t.disableRun!==void 0&&o.uint32(32).bool(t.disableRun),t.disableJump!==void 0&&o.uint32(40).bool(t.disableJump),t.disableEmote!==void 0&&o.uint32(48).bool(t.disableEmote),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=Zk();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==8)break;r.disableAll=n.bool();continue;case 2:if(a!==16)break;r.disableWalk=n.bool();continue;case 3:if(a!==24)break;r.disableJog=n.bool();continue;case 4:if(a!==32)break;r.disableRun=n.bool();continue;case 5:if(a!==40)break;r.disableJump=n.bool();continue;case 6:if(a!==48)break;r.disableEmote=n.bool();continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}}(Xm||(Xm={}));var eC={COMPONENT_ID:1078,serialize(e,t){let o=pf.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize:e=>pf.decode(e.buffer(),e.remainingBytes()),create:()=>pf.decode(new Uint8Array),jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBInputModifier"}};function tC(){return{virtualCameraEntity:void 0}}var mf;(function(e){e.encode=function(t,o=H.Writer.create()){return t.virtualCameraEntity!==void 0&&o.uint32(8).uint32(t.virtualCameraEntity),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=tC();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==8)break;r.virtualCameraEntity=n.uint32();continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}})(mf||(mf={}));var nC={COMPONENT_ID:1075,serialize(e,t){let o=mf.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize:e=>mf.decode(e.buffer(),e.remainingBytes()),create:()=>mf.decode(new Uint8Array),jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBMainCamera"}},kb,Cb,Zm,eh,th,Lo,Mb,hf,nh,oh;function oC(){return{src:"",wrapMode:void 0,filterMode:void 0,offset:void 0,tiling:void 0}}function rC(){return{userId:"",wrapMode:void 0,filterMode:void 0}}function iC(){return{videoPlayerEntity:0,wrapMode:void 0,filterMode:void 0}}function aC(){return{tex:void 0}}function sC(){return{material:void 0}}function cC(){return{texture:void 0,alphaTest:void 0,castShadows:void 0,diffuseColor:void 0,alphaTexture:void 0}}function uC(){return{texture:void 0,alphaTest:void 0,castShadows:void 0,alphaTexture:void 0,emissiveTexture:void 0,bumpTexture:void 0,albedoColor:void 0,emissiveColor:void 0,reflectivityColor:void 0,transparencyMode:void 0,metallic:void 0,roughness:void 0,specularIntensity:void 0,emissiveIntensity:void 0,directIntensity:void 0}}(function(e){e[e.TWM_REPEAT=0]="TWM_REPEAT",e[e.TWM_CLAMP=1]="TWM_CLAMP",e[e.TWM_MIRROR=2]="TWM_MIRROR"})(kb||(kb={})),function(e){e[e.TFM_POINT=0]="TFM_POINT",e[e.TFM_BILINEAR=1]="TFM_BILINEAR",e[e.TFM_TRILINEAR=2]="TFM_TRILINEAR"}(Cb||(Cb={})),function(e){e.encode=function(t,o=H.Writer.create()){return t.src!==""&&o.uint32(10).string(t.src),t.wrapMode!==void 0&&o.uint32(16).int32(t.wrapMode),t.filterMode!==void 0&&o.uint32(24).int32(t.filterMode),t.offset!==void 0&&Ri.encode(t.offset,o.uint32(34).fork()).ldelim(),t.tiling!==void 0&&Ri.encode(t.tiling,o.uint32(42).fork()).ldelim(),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=oC();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;r.src=n.string();continue;case 2:if(a!==16)break;r.wrapMode=n.int32();continue;case 3:if(a!==24)break;r.filterMode=n.int32();continue;case 4:if(a!==34)break;r.offset=Ri.decode(n,n.uint32());continue;case 5:if(a!==42)break;r.tiling=Ri.decode(n,n.uint32());continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}}(Zm||(Zm={})),function(e){e.encode=function(t,o=H.Writer.create()){return t.userId!==""&&o.uint32(10).string(t.userId),t.wrapMode!==void 0&&o.uint32(16).int32(t.wrapMode),t.filterMode!==void 0&&o.uint32(24).int32(t.filterMode),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=rC();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;r.userId=n.string();continue;case 2:if(a!==16)break;r.wrapMode=n.int32();continue;case 3:if(a!==24)break;r.filterMode=n.int32();continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}}(eh||(eh={})),function(e){e.encode=function(t,o=H.Writer.create()){return t.videoPlayerEntity!==0&&o.uint32(8).uint32(t.videoPlayerEntity),t.wrapMode!==void 0&&o.uint32(16).int32(t.wrapMode),t.filterMode!==void 0&&o.uint32(24).int32(t.filterMode),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=iC();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==8)break;r.videoPlayerEntity=n.uint32();continue;case 2:if(a!==16)break;r.wrapMode=n.int32();continue;case 3:if(a!==24)break;r.filterMode=n.int32();continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}}(th||(th={})),function(e){e.encode=function(t,o=H.Writer.create()){switch(t.tex?.$case){case"texture":Zm.encode(t.tex.texture,o.uint32(10).fork()).ldelim();break;case"avatarTexture":eh.encode(t.tex.avatarTexture,o.uint32(18).fork()).ldelim();break;case"videoTexture":th.encode(t.tex.videoTexture,o.uint32(26).fork()).ldelim()}return o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=aC();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;r.tex={$case:"texture",texture:Zm.decode(n,n.uint32())};continue;case 2:if(a!==18)break;r.tex={$case:"avatarTexture",avatarTexture:eh.decode(n,n.uint32())};continue;case 3:if(a!==26)break;r.tex={$case:"videoTexture",videoTexture:th.decode(n,n.uint32())};continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}}(Lo||(Lo={})),function(e){e[e.MTM_OPAQUE=0]="MTM_OPAQUE",e[e.MTM_ALPHA_TEST=1]="MTM_ALPHA_TEST",e[e.MTM_ALPHA_BLEND=2]="MTM_ALPHA_BLEND",e[e.MTM_ALPHA_TEST_AND_ALPHA_BLEND=3]="MTM_ALPHA_TEST_AND_ALPHA_BLEND",e[e.MTM_AUTO=4]="MTM_AUTO"}(Mb||(Mb={})),function(e){e.encode=function(t,o=H.Writer.create()){switch(t.material?.$case){case"unlit":nh.encode(t.material.unlit,o.uint32(10).fork()).ldelim();break;case"pbr":oh.encode(t.material.pbr,o.uint32(18).fork()).ldelim()}return o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=sC();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;r.material={$case:"unlit",unlit:nh.decode(n,n.uint32())};continue;case 2:if(a!==18)break;r.material={$case:"pbr",pbr:oh.decode(n,n.uint32())};continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}}(hf||(hf={})),function(e){e.encode=function(t,o=H.Writer.create()){return t.texture!==void 0&&Lo.encode(t.texture,o.uint32(10).fork()).ldelim(),t.alphaTest!==void 0&&o.uint32(21).float(t.alphaTest),t.castShadows!==void 0&&o.uint32(24).bool(t.castShadows),t.diffuseColor!==void 0&&To.encode(t.diffuseColor,o.uint32(34).fork()).ldelim(),t.alphaTexture!==void 0&&Lo.encode(t.alphaTexture,o.uint32(42).fork()).ldelim(),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=cC();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;r.texture=Lo.decode(n,n.uint32());continue;case 2:if(a!==21)break;r.alphaTest=n.float();continue;case 3:if(a!==24)break;r.castShadows=n.bool();continue;case 4:if(a!==34)break;r.diffuseColor=To.decode(n,n.uint32());continue;case 5:if(a!==42)break;r.alphaTexture=Lo.decode(n,n.uint32());continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}}(nh||(nh={})),function(e){e.encode=function(t,o=H.Writer.create()){return t.texture!==void 0&&Lo.encode(t.texture,o.uint32(10).fork()).ldelim(),t.alphaTest!==void 0&&o.uint32(21).float(t.alphaTest),t.castShadows!==void 0&&o.uint32(24).bool(t.castShadows),t.alphaTexture!==void 0&&Lo.encode(t.alphaTexture,o.uint32(34).fork()).ldelim(),t.emissiveTexture!==void 0&&Lo.encode(t.emissiveTexture,o.uint32(42).fork()).ldelim(),t.bumpTexture!==void 0&&Lo.encode(t.bumpTexture,o.uint32(50).fork()).ldelim(),t.albedoColor!==void 0&&To.encode(t.albedoColor,o.uint32(58).fork()).ldelim(),t.emissiveColor!==void 0&&Cn.encode(t.emissiveColor,o.uint32(66).fork()).ldelim(),t.reflectivityColor!==void 0&&Cn.encode(t.reflectivityColor,o.uint32(74).fork()).ldelim(),t.transparencyMode!==void 0&&o.uint32(80).int32(t.transparencyMode),t.metallic!==void 0&&o.uint32(93).float(t.metallic),t.roughness!==void 0&&o.uint32(101).float(t.roughness),t.specularIntensity!==void 0&&o.uint32(117).float(t.specularIntensity),t.emissiveIntensity!==void 0&&o.uint32(125).float(t.emissiveIntensity),t.directIntensity!==void 0&&o.uint32(133).float(t.directIntensity),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=uC();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;r.texture=Lo.decode(n,n.uint32());continue;case 2:if(a!==21)break;r.alphaTest=n.float();continue;case 3:if(a!==24)break;r.castShadows=n.bool();continue;case 4:if(a!==34)break;r.alphaTexture=Lo.decode(n,n.uint32());continue;case 5:if(a!==42)break;r.emissiveTexture=Lo.decode(n,n.uint32());continue;case 6:if(a!==50)break;r.bumpTexture=Lo.decode(n,n.uint32());continue;case 7:if(a!==58)break;r.albedoColor=To.decode(n,n.uint32());continue;case 8:if(a!==66)break;r.emissiveColor=Cn.decode(n,n.uint32());continue;case 9:if(a!==74)break;r.reflectivityColor=Cn.decode(n,n.uint32());continue;case 10:if(a!==80)break;r.transparencyMode=n.int32();continue;case 11:if(a!==93)break;r.metallic=n.float();continue;case 12:if(a!==101)break;r.roughness=n.float();continue;case 14:if(a!==117)break;r.specularIntensity=n.float();continue;case 15:if(a!==125)break;r.emissiveIntensity=n.float();continue;case 16:if(a!==133)break;r.directIntensity=n.float();continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}}(oh||(oh={}));var lC={COMPONENT_ID:1017,serialize(e,t){let o=hf.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize:e=>hf.decode(e.buffer(),e.remainingBytes()),create:()=>hf.decode(new Uint8Array),jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBMaterial"}},Pb,yf,rh,ih,ah,sh;function fC(){return{collisionMask:void 0,mesh:void 0}}function dC(){return{}}function pC(){return{radiusTop:void 0,radiusBottom:void 0}}function mC(){return{}}function hC(){return{}}(function(e){e[e.CL_NONE=0]="CL_NONE",e[e.CL_POINTER=1]="CL_POINTER",e[e.CL_PHYSICS=2]="CL_PHYSICS",e[e.CL_RESERVED1=4]="CL_RESERVED1",e[e.CL_RESERVED2=8]="CL_RESERVED2",e[e.CL_RESERVED3=16]="CL_RESERVED3",e[e.CL_RESERVED4=32]="CL_RESERVED4",e[e.CL_RESERVED5=64]="CL_RESERVED5",e[e.CL_RESERVED6=128]="CL_RESERVED6",e[e.CL_CUSTOM1=256]="CL_CUSTOM1",e[e.CL_CUSTOM2=512]="CL_CUSTOM2",e[e.CL_CUSTOM3=1024]="CL_CUSTOM3",e[e.CL_CUSTOM4=2048]="CL_CUSTOM4",e[e.CL_CUSTOM5=4096]="CL_CUSTOM5",e[e.CL_CUSTOM6=8192]="CL_CUSTOM6",e[e.CL_CUSTOM7=16384]="CL_CUSTOM7",e[e.CL_CUSTOM8=32768]="CL_CUSTOM8"})(Pb||(Pb={})),function(e){e.encode=function(t,o=H.Writer.create()){switch(t.collisionMask!==void 0&&o.uint32(8).uint32(t.collisionMask),t.mesh?.$case){case"box":rh.encode(t.mesh.box,o.uint32(18).fork()).ldelim();break;case"sphere":sh.encode(t.mesh.sphere,o.uint32(26).fork()).ldelim();break;case"cylinder":ih.encode(t.mesh.cylinder,o.uint32(34).fork()).ldelim();break;case"plane":ah.encode(t.mesh.plane,o.uint32(42).fork()).ldelim()}return o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=fC();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==8)break;r.collisionMask=n.uint32();continue;case 2:if(a!==18)break;r.mesh={$case:"box",box:rh.decode(n,n.uint32())};continue;case 3:if(a!==26)break;r.mesh={$case:"sphere",sphere:sh.decode(n,n.uint32())};continue;case 4:if(a!==34)break;r.mesh={$case:"cylinder",cylinder:ih.decode(n,n.uint32())};continue;case 5:if(a!==42)break;r.mesh={$case:"plane",plane:ah.decode(n,n.uint32())};continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}}(yf||(yf={})),function(e){e.encode=function(t,o=H.Writer.create()){return o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=dC();for(;n.pos<i;){let a=n.uint32();if((7&a)==4||a===0)break;n.skipType(7&a)}return r}}(rh||(rh={})),function(e){e.encode=function(t,o=H.Writer.create()){return t.radiusTop!==void 0&&o.uint32(13).float(t.radiusTop),t.radiusBottom!==void 0&&o.uint32(21).float(t.radiusBottom),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=pC();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==13)break;r.radiusTop=n.float();continue;case 2:if(a!==21)break;r.radiusBottom=n.float();continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}}(ih||(ih={})),function(e){e.encode=function(t,o=H.Writer.create()){return o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=mC();for(;n.pos<i;){let a=n.uint32();if((7&a)==4||a===0)break;n.skipType(7&a)}return r}}(ah||(ah={})),function(e){e.encode=function(t,o=H.Writer.create()){return o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=hC();for(;n.pos<i;){let a=n.uint32();if((7&a)==4||a===0)break;n.skipType(7&a)}return r}}(sh||(sh={}));var yC={COMPONENT_ID:1019,serialize(e,t){let o=yf.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize:e=>yf.decode(e.buffer(),e.remainingBytes()),create:()=>yf.decode(new Uint8Array),jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBMeshCollider"}};function EC(){return{mesh:void 0}}var Ef,ch,uh,lh,fh;function gC(){return{uvs:[]}}function TC(){return{radiusTop:void 0,radiusBottom:void 0}}function _C(){return{uvs:[]}}function SC(){return{}}(function(e){e.encode=function(t,o=H.Writer.create()){switch(t.mesh?.$case){case"box":ch.encode(t.mesh.box,o.uint32(10).fork()).ldelim();break;case"sphere":fh.encode(t.mesh.sphere,o.uint32(18).fork()).ldelim();break;case"cylinder":uh.encode(t.mesh.cylinder,o.uint32(26).fork()).ldelim();break;case"plane":lh.encode(t.mesh.plane,o.uint32(34).fork()).ldelim()}return o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=EC();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;r.mesh={$case:"box",box:ch.decode(n,n.uint32())};continue;case 2:if(a!==18)break;r.mesh={$case:"sphere",sphere:fh.decode(n,n.uint32())};continue;case 3:if(a!==26)break;r.mesh={$case:"cylinder",cylinder:uh.decode(n,n.uint32())};continue;case 4:if(a!==34)break;r.mesh={$case:"plane",plane:lh.decode(n,n.uint32())};continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}})(Ef||(Ef={})),function(e){e.encode=function(t,o=H.Writer.create()){o.uint32(10).fork();for(let n of t.uvs)o.float(n);return o.ldelim(),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=gC();for(;n.pos<i;){let a=n.uint32();if(a>>>3==1){if(a===13){r.uvs.push(n.float());continue}if(a===10){let s=n.uint32()+n.pos;for(;n.pos<s;)r.uvs.push(n.float());continue}}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}}(ch||(ch={})),function(e){e.encode=function(t,o=H.Writer.create()){return t.radiusTop!==void 0&&o.uint32(13).float(t.radiusTop),t.radiusBottom!==void 0&&o.uint32(21).float(t.radiusBottom),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=TC();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==13)break;r.radiusTop=n.float();continue;case 2:if(a!==21)break;r.radiusBottom=n.float();continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}}(uh||(uh={})),function(e){e.encode=function(t,o=H.Writer.create()){o.uint32(10).fork();for(let n of t.uvs)o.float(n);return o.ldelim(),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=_C();for(;n.pos<i;){let a=n.uint32();if(a>>>3==1){if(a===13){r.uvs.push(n.float());continue}if(a===10){let s=n.uint32()+n.pos;for(;n.pos<s;)r.uvs.push(n.float());continue}}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}}(lh||(lh={})),function(e){e.encode=function(t,o=H.Writer.create()){return o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=SC();for(;n.pos<i;){let a=n.uint32();if((7&a)==4||a===0)break;n.skipType(7&a)}return r}}(fh||(fh={}));var bC={COMPONENT_ID:1018,serialize(e,t){let o=Ef.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize:e=>Ef.decode(e.buffer(),e.remainingBytes()),create:()=>Ef.decode(new Uint8Array),jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBMeshRenderer"}},zb,gf;function vC(){return{urn:"",style:void 0,color:void 0}}(function(e){e[e.NFT_CLASSIC=0]="NFT_CLASSIC",e[e.NFT_BAROQUE_ORNAMENT=1]="NFT_BAROQUE_ORNAMENT",e[e.NFT_DIAMOND_ORNAMENT=2]="NFT_DIAMOND_ORNAMENT",e[e.NFT_MINIMAL_WIDE=3]="NFT_MINIMAL_WIDE",e[e.NFT_MINIMAL_GREY=4]="NFT_MINIMAL_GREY",e[e.NFT_BLOCKY=5]="NFT_BLOCKY",e[e.NFT_GOLD_EDGES=6]="NFT_GOLD_EDGES",e[e.NFT_GOLD_CARVED=7]="NFT_GOLD_CARVED",e[e.NFT_GOLD_WIDE=8]="NFT_GOLD_WIDE",e[e.NFT_GOLD_ROUNDED=9]="NFT_GOLD_ROUNDED",e[e.NFT_METAL_MEDIUM=10]="NFT_METAL_MEDIUM",e[e.NFT_METAL_WIDE=11]="NFT_METAL_WIDE",e[e.NFT_METAL_SLIM=12]="NFT_METAL_SLIM",e[e.NFT_METAL_ROUNDED=13]="NFT_METAL_ROUNDED",e[e.NFT_PINS=14]="NFT_PINS",e[e.NFT_MINIMAL_BLACK=15]="NFT_MINIMAL_BLACK",e[e.NFT_MINIMAL_WHITE=16]="NFT_MINIMAL_WHITE",e[e.NFT_TAPE=17]="NFT_TAPE",e[e.NFT_WOOD_SLIM=18]="NFT_WOOD_SLIM",e[e.NFT_WOOD_WIDE=19]="NFT_WOOD_WIDE",e[e.NFT_WOOD_TWIGS=20]="NFT_WOOD_TWIGS",e[e.NFT_CANVAS=21]="NFT_CANVAS",e[e.NFT_NONE=22]="NFT_NONE"})(zb||(zb={})),function(e){e.encode=function(t,o=H.Writer.create()){return t.urn!==""&&o.uint32(10).string(t.urn),t.style!==void 0&&o.uint32(16).int32(t.style),t.color!==void 0&&Cn.encode(t.color,o.uint32(26).fork()).ldelim(),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=vC();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;r.urn=n.string();continue;case 2:if(a!==16)break;r.style=n.int32();continue;case 3:if(a!==26)break;r.color=Cn.decode(n,n.uint32());continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}}(gf||(gf={}));var AC={COMPONENT_ID:1040,serialize(e,t){let o=gf.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize:e=>gf.decode(e.buffer(),e.remainingBytes()),create:()=>gf.decode(new Uint8Array),jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBNftShape"}};function wC(){return{address:"",isGuest:!1}}var Tf;(function(e){e.encode=function(t,o=H.Writer.create()){return t.address!==""&&o.uint32(10).string(t.address),t.isGuest===!0&&o.uint32(24).bool(t.isGuest),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=wC();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;r.address=n.string();continue;case 3:if(a!==24)break;r.isGuest=n.bool();continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}})(Tf||(Tf={}));var xC={COMPONENT_ID:1089,serialize(e,t){let o=Tf.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize:e=>Tf.decode(e.buffer(),e.remainingBytes()),create:()=>Tf.decode(new Uint8Array),jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBPlayerIdentityData"}};function IC(){return{pointerEvents:[]}}var _f,dh,ph;function RC(){return{button:void 0,hoverText:void 0,maxDistance:void 0,showFeedback:void 0,showHighlight:void 0}}function NC(){return{eventType:0,eventInfo:void 0}}(function(e){e.encode=function(t,o=H.Writer.create()){for(let n of t.pointerEvents)ph.encode(n,o.uint32(10).fork()).ldelim();return o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=IC();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;r.pointerEvents.push(ph.decode(n,n.uint32()));continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}})(_f||(_f={})),function(e){e.encode=function(t,o=H.Writer.create()){return t.button!==void 0&&o.uint32(8).int32(t.button),t.hoverText!==void 0&&o.uint32(18).string(t.hoverText),t.maxDistance!==void 0&&o.uint32(29).float(t.maxDistance),t.showFeedback!==void 0&&o.uint32(32).bool(t.showFeedback),t.showHighlight!==void 0&&o.uint32(40).bool(t.showHighlight),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=RC();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==8)break;r.button=n.int32();continue;case 2:if(a!==18)break;r.hoverText=n.string();continue;case 3:if(a!==29)break;r.maxDistance=n.float();continue;case 4:if(a!==32)break;r.showFeedback=n.bool();continue;case 5:if(a!==40)break;r.showHighlight=n.bool();continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}}(dh||(dh={})),function(e){e.encode=function(t,o=H.Writer.create()){return t.eventType!==0&&o.uint32(8).int32(t.eventType),t.eventInfo!==void 0&&dh.encode(t.eventInfo,o.uint32(18).fork()).ldelim(),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=NC();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==8)break;r.eventType=n.int32();continue;case 2:if(a!==18)break;r.eventInfo=dh.decode(n,n.uint32());continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}}(ph||(ph={}));var OC={COMPONENT_ID:1062,serialize(e,t){let o=_f.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize:e=>_f.decode(e.buffer(),e.remainingBytes()),create:()=>_f.decode(new Uint8Array),jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBPointerEvents"}};function kC(){return{position:void 0,globalOrigin:void 0,direction:void 0,normalHit:void 0,length:0,meshName:void 0,entityId:void 0}}var vu,Sf;function CC(){return{button:0,hit:void 0,state:0,timestamp:0,analog:void 0,tickNumber:0}}(function(e){e.encode=function(t,o=H.Writer.create()){return t.position!==void 0&&Dt.encode(t.position,o.uint32(10).fork()).ldelim(),t.globalOrigin!==void 0&&Dt.encode(t.globalOrigin,o.uint32(18).fork()).ldelim(),t.direction!==void 0&&Dt.encode(t.direction,o.uint32(26).fork()).ldelim(),t.normalHit!==void 0&&Dt.encode(t.normalHit,o.uint32(34).fork()).ldelim(),t.length!==0&&o.uint32(45).float(t.length),t.meshName!==void 0&&o.uint32(50).string(t.meshName),t.entityId!==void 0&&o.uint32(56).uint32(t.entityId),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=kC();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;r.position=Dt.decode(n,n.uint32());continue;case 2:if(a!==18)break;r.globalOrigin=Dt.decode(n,n.uint32());continue;case 3:if(a!==26)break;r.direction=Dt.decode(n,n.uint32());continue;case 4:if(a!==34)break;r.normalHit=Dt.decode(n,n.uint32());continue;case 5:if(a!==45)break;r.length=n.float();continue;case 6:if(a!==50)break;r.meshName=n.string();continue;case 7:if(a!==56)break;r.entityId=n.uint32();continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}})(vu||(vu={})),function(e){e.encode=function(t,o=H.Writer.create()){return t.button!==0&&o.uint32(8).int32(t.button),t.hit!==void 0&&vu.encode(t.hit,o.uint32(18).fork()).ldelim(),t.state!==0&&o.uint32(32).int32(t.state),t.timestamp!==0&&o.uint32(40).uint32(t.timestamp),t.analog!==void 0&&o.uint32(53).float(t.analog),t.tickNumber!==0&&o.uint32(56).uint32(t.tickNumber),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=CC();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==8)break;r.button=n.int32();continue;case 2:if(a!==18)break;r.hit=vu.decode(n,n.uint32());continue;case 4:if(a!==32)break;r.state=n.int32();continue;case 5:if(a!==40)break;r.timestamp=n.uint32();continue;case 6:if(a!==53)break;r.analog=n.float();continue;case 7:if(a!==56)break;r.tickNumber=n.uint32();continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}}(Sf||(Sf={}));var MC={COMPONENT_ID:1063,serialize(e,t){let o=Sf.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize:e=>Sf.decode(e.buffer(),e.remainingBytes()),create:()=>Sf.decode(new Uint8Array),jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBPointerEventsResult"}};function PC(){return{isPointerLocked:!1}}var bf;(function(e){e.encode=function(t,o=H.Writer.create()){return t.isPointerLocked===!0&&o.uint32(8).bool(t.isPointerLocked),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=PC();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==8)break;r.isPointerLocked=n.bool();continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}})(bf||(bf={}));var zC={COMPONENT_ID:1074,serialize(e,t){let o=bf.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize:e=>bf.decode(e.buffer(),e.remainingBytes()),create:()=>bf.decode(new Uint8Array),jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBPointerLock"}},Ub,vf;function UC(){return{timestamp:void 0,originOffset:void 0,direction:void 0,maxDistance:0,queryType:0,continuous:void 0,collisionMask:void 0}}(function(e){e[e.RQT_HIT_FIRST=0]="RQT_HIT_FIRST",e[e.RQT_QUERY_ALL=1]="RQT_QUERY_ALL",e[e.RQT_NONE=2]="RQT_NONE"})(Ub||(Ub={})),function(e){e.encode=function(t,o=H.Writer.create()){switch(t.timestamp!==void 0&&o.uint32(8).uint32(t.timestamp),t.originOffset!==void 0&&Dt.encode(t.originOffset,o.uint32(18).fork()).ldelim(),t.direction?.$case){case"localDirection":Dt.encode(t.direction.localDirection,o.uint32(50).fork()).ldelim();break;case"globalDirection":Dt.encode(t.direction.globalDirection,o.uint32(26).fork()).ldelim();break;case"globalTarget":Dt.encode(t.direction.globalTarget,o.uint32(58).fork()).ldelim();break;case"targetEntity":o.uint32(80).uint32(t.direction.targetEntity)}return t.maxDistance!==0&&o.uint32(37).float(t.maxDistance),t.queryType!==0&&o.uint32(40).int32(t.queryType),t.continuous!==void 0&&o.uint32(64).bool(t.continuous),t.collisionMask!==void 0&&o.uint32(72).uint32(t.collisionMask),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=UC();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==8)break;r.timestamp=n.uint32();continue;case 2:if(a!==18)break;r.originOffset=Dt.decode(n,n.uint32());continue;case 6:if(a!==50)break;r.direction={$case:"localDirection",localDirection:Dt.decode(n,n.uint32())};continue;case 3:if(a!==26)break;r.direction={$case:"globalDirection",globalDirection:Dt.decode(n,n.uint32())};continue;case 7:if(a!==58)break;r.direction={$case:"globalTarget",globalTarget:Dt.decode(n,n.uint32())};continue;case 10:if(a!==80)break;r.direction={$case:"targetEntity",targetEntity:n.uint32()};continue;case 4:if(a!==37)break;r.maxDistance=n.float();continue;case 5:if(a!==40)break;r.queryType=n.int32();continue;case 8:if(a!==64)break;r.continuous=n.bool();continue;case 9:if(a!==72)break;r.collisionMask=n.uint32();continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}}(vf||(vf={}));var BC={COMPONENT_ID:1067,serialize(e,t){let o=vf.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize:e=>vf.decode(e.buffer(),e.remainingBytes()),create:()=>vf.decode(new Uint8Array),jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBRaycast"}};function LC(){return{timestamp:void 0,globalOrigin:void 0,direction:void 0,hits:[],tickNumber:0}}var Af;(function(e){e.encode=function(t,o=H.Writer.create()){t.timestamp!==void 0&&o.uint32(8).uint32(t.timestamp),t.globalOrigin!==void 0&&Dt.encode(t.globalOrigin,o.uint32(18).fork()).ldelim(),t.direction!==void 0&&Dt.encode(t.direction,o.uint32(26).fork()).ldelim();for(let n of t.hits)vu.encode(n,o.uint32(34).fork()).ldelim();return t.tickNumber!==0&&o.uint32(40).uint32(t.tickNumber),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=LC();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==8)break;r.timestamp=n.uint32();continue;case 2:if(a!==18)break;r.globalOrigin=Dt.decode(n,n.uint32());continue;case 3:if(a!==26)break;r.direction=Dt.decode(n,n.uint32());continue;case 4:if(a!==34)break;r.hits.push(vu.decode(n,n.uint32()));continue;case 5:if(a!==40)break;r.tickNumber=n.uint32();continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}})(Af||(Af={}));var DC={COMPONENT_ID:1068,serialize(e,t){let o=Af.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize:e=>Af.decode(e.buffer(),e.remainingBytes()),create:()=>Af.decode(new Uint8Array),jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBRaycastResult"}};function FC(){return{baseUrl:"",realmName:"",networkId:0,commsAdapter:"",isPreview:!1,room:void 0,isConnectedSceneRoom:void 0}}var wf;(function(e){e.encode=function(t,o=H.Writer.create()){return t.baseUrl!==""&&o.uint32(10).string(t.baseUrl),t.realmName!==""&&o.uint32(18).string(t.realmName),t.networkId!==0&&o.uint32(24).int32(t.networkId),t.commsAdapter!==""&&o.uint32(34).string(t.commsAdapter),t.isPreview===!0&&o.uint32(40).bool(t.isPreview),t.room!==void 0&&o.uint32(50).string(t.room),t.isConnectedSceneRoom!==void 0&&o.uint32(56).bool(t.isConnectedSceneRoom),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=FC();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;r.baseUrl=n.string();continue;case 2:if(a!==18)break;r.realmName=n.string();continue;case 3:if(a!==24)break;r.networkId=n.int32();continue;case 4:if(a!==34)break;r.commsAdapter=n.string();continue;case 5:if(a!==40)break;r.isPreview=n.bool();continue;case 6:if(a!==50)break;r.room=n.string();continue;case 7:if(a!==56)break;r.isConnectedSceneRoom=n.bool();continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}})(wf||(wf={}));var jC={COMPONENT_ID:1106,serialize(e,t){let o=wf.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize:e=>wf.decode(e.buffer(),e.remainingBytes()),create:()=>wf.decode(new Uint8Array),jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBRealmInfo"}};function WC(){return{text:"",font:void 0,fontSize:void 0,fontAutoSize:void 0,textAlign:void 0,width:void 0,height:void 0,paddingTop:void 0,paddingRight:void 0,paddingBottom:void 0,paddingLeft:void 0,lineSpacing:void 0,lineCount:void 0,textWrapping:void 0,shadowBlur:void 0,shadowOffsetX:void 0,shadowOffsetY:void 0,outlineWidth:void 0,shadowColor:void 0,outlineColor:void 0,textColor:void 0}}var xf;(function(e){e.encode=function(t,o=H.Writer.create()){return t.text!==""&&o.uint32(10).string(t.text),t.font!==void 0&&o.uint32(16).int32(t.font),t.fontSize!==void 0&&o.uint32(29).float(t.fontSize),t.fontAutoSize!==void 0&&o.uint32(32).bool(t.fontAutoSize),t.textAlign!==void 0&&o.uint32(40).int32(t.textAlign),t.width!==void 0&&o.uint32(53).float(t.width),t.height!==void 0&&o.uint32(61).float(t.height),t.paddingTop!==void 0&&o.uint32(69).float(t.paddingTop),t.paddingRight!==void 0&&o.uint32(77).float(t.paddingRight),t.paddingBottom!==void 0&&o.uint32(85).float(t.paddingBottom),t.paddingLeft!==void 0&&o.uint32(93).float(t.paddingLeft),t.lineSpacing!==void 0&&o.uint32(101).float(t.lineSpacing),t.lineCount!==void 0&&o.uint32(104).int32(t.lineCount),t.textWrapping!==void 0&&o.uint32(112).bool(t.textWrapping),t.shadowBlur!==void 0&&o.uint32(125).float(t.shadowBlur),t.shadowOffsetX!==void 0&&o.uint32(133).float(t.shadowOffsetX),t.shadowOffsetY!==void 0&&o.uint32(141).float(t.shadowOffsetY),t.outlineWidth!==void 0&&o.uint32(149).float(t.outlineWidth),t.shadowColor!==void 0&&Cn.encode(t.shadowColor,o.uint32(154).fork()).ldelim(),t.outlineColor!==void 0&&Cn.encode(t.outlineColor,o.uint32(162).fork()).ldelim(),t.textColor!==void 0&&To.encode(t.textColor,o.uint32(170).fork()).ldelim(),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=WC();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;r.text=n.string();continue;case 2:if(a!==16)break;r.font=n.int32();continue;case 3:if(a!==29)break;r.fontSize=n.float();continue;case 4:if(a!==32)break;r.fontAutoSize=n.bool();continue;case 5:if(a!==40)break;r.textAlign=n.int32();continue;case 6:if(a!==53)break;r.width=n.float();continue;case 7:if(a!==61)break;r.height=n.float();continue;case 8:if(a!==69)break;r.paddingTop=n.float();continue;case 9:if(a!==77)break;r.paddingRight=n.float();continue;case 10:if(a!==85)break;r.paddingBottom=n.float();continue;case 11:if(a!==93)break;r.paddingLeft=n.float();continue;case 12:if(a!==101)break;r.lineSpacing=n.float();continue;case 13:if(a!==104)break;r.lineCount=n.int32();continue;case 14:if(a!==112)break;r.textWrapping=n.bool();continue;case 15:if(a!==125)break;r.shadowBlur=n.float();continue;case 16:if(a!==133)break;r.shadowOffsetX=n.float();continue;case 17:if(a!==141)break;r.shadowOffsetY=n.float();continue;case 18:if(a!==149)break;r.outlineWidth=n.float();continue;case 19:if(a!==154)break;r.shadowColor=Cn.decode(n,n.uint32());continue;case 20:if(a!==162)break;r.outlineColor=Cn.decode(n,n.uint32());continue;case 21:if(a!==170)break;r.textColor=To.decode(n,n.uint32());continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}})(xf||(xf={}));var VC={COMPONENT_ID:1030,serialize(e,t){let o=xf.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize:e=>xf.decode(e.buffer(),e.remainingBytes()),create:()=>xf.decode(new Uint8Array),jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBTextShape"}},Bb,Lb,Ns,mh,hh,yh,Eh;function HC(){return{duration:0,easingFunction:0,mode:void 0,playing:void 0,currentTime:void 0}}function $C(){return{start:void 0,end:void 0,faceDirection:void 0}}function GC(){return{start:void 0,end:void 0}}function qC(){return{start:void 0,end:void 0}}function YC(){return{start:void 0,end:void 0,movementType:void 0}}(function(e){e[e.TMT_OFFSET=0]="TMT_OFFSET",e[e.TMT_TILING=1]="TMT_TILING"})(Bb||(Bb={})),function(e){e[e.EF_LINEAR=0]="EF_LINEAR",e[e.EF_EASEINQUAD=1]="EF_EASEINQUAD",e[e.EF_EASEOUTQUAD=2]="EF_EASEOUTQUAD",e[e.EF_EASEQUAD=3]="EF_EASEQUAD",e[e.EF_EASEINSINE=4]="EF_EASEINSINE",e[e.EF_EASEOUTSINE=5]="EF_EASEOUTSINE",e[e.EF_EASESINE=6]="EF_EASESINE",e[e.EF_EASEINEXPO=7]="EF_EASEINEXPO",e[e.EF_EASEOUTEXPO=8]="EF_EASEOUTEXPO",e[e.EF_EASEEXPO=9]="EF_EASEEXPO",e[e.EF_EASEINELASTIC=10]="EF_EASEINELASTIC",e[e.EF_EASEOUTELASTIC=11]="EF_EASEOUTELASTIC",e[e.EF_EASEELASTIC=12]="EF_EASEELASTIC",e[e.EF_EASEINBOUNCE=13]="EF_EASEINBOUNCE",e[e.EF_EASEOUTBOUNCE=14]="EF_EASEOUTBOUNCE",e[e.EF_EASEBOUNCE=15]="EF_EASEBOUNCE",e[e.EF_EASEINCUBIC=16]="EF_EASEINCUBIC",e[e.EF_EASEOUTCUBIC=17]="EF_EASEOUTCUBIC",e[e.EF_EASECUBIC=18]="EF_EASECUBIC",e[e.EF_EASEINQUART=19]="EF_EASEINQUART",e[e.EF_EASEOUTQUART=20]="EF_EASEOUTQUART",e[e.EF_EASEQUART=21]="EF_EASEQUART",e[e.EF_EASEINQUINT=22]="EF_EASEINQUINT",e[e.EF_EASEOUTQUINT=23]="EF_EASEOUTQUINT",e[e.EF_EASEQUINT=24]="EF_EASEQUINT",e[e.EF_EASEINCIRC=25]="EF_EASEINCIRC",e[e.EF_EASEOUTCIRC=26]="EF_EASEOUTCIRC",e[e.EF_EASECIRC=27]="EF_EASECIRC",e[e.EF_EASEINBACK=28]="EF_EASEINBACK",e[e.EF_EASEOUTBACK=29]="EF_EASEOUTBACK",e[e.EF_EASEBACK=30]="EF_EASEBACK"}(Lb||(Lb={})),function(e){e.encode=function(t,o=H.Writer.create()){switch(t.duration!==0&&o.uint32(13).float(t.duration),t.easingFunction!==0&&o.uint32(16).int32(t.easingFunction),t.mode?.$case){case"move":mh.encode(t.mode.move,o.uint32(26).fork()).ldelim();break;case"rotate":hh.encode(t.mode.rotate,o.uint32(34).fork()).ldelim();break;case"scale":yh.encode(t.mode.scale,o.uint32(42).fork()).ldelim();break;case"textureMove":Eh.encode(t.mode.textureMove,o.uint32(66).fork()).ldelim()}return t.playing!==void 0&&o.uint32(48).bool(t.playing),t.currentTime!==void 0&&o.uint32(61).float(t.currentTime),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=HC();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==13)break;r.duration=n.float();continue;case 2:if(a!==16)break;r.easingFunction=n.int32();continue;case 3:if(a!==26)break;r.mode={$case:"move",move:mh.decode(n,n.uint32())};continue;case 4:if(a!==34)break;r.mode={$case:"rotate",rotate:hh.decode(n,n.uint32())};continue;case 5:if(a!==42)break;r.mode={$case:"scale",scale:yh.decode(n,n.uint32())};continue;case 8:if(a!==66)break;r.mode={$case:"textureMove",textureMove:Eh.decode(n,n.uint32())};continue;case 6:if(a!==48)break;r.playing=n.bool();continue;case 7:if(a!==61)break;r.currentTime=n.float();continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}}(Ns||(Ns={})),function(e){e.encode=function(t,o=H.Writer.create()){return t.start!==void 0&&Dt.encode(t.start,o.uint32(10).fork()).ldelim(),t.end!==void 0&&Dt.encode(t.end,o.uint32(18).fork()).ldelim(),t.faceDirection!==void 0&&o.uint32(24).bool(t.faceDirection),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=$C();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;r.start=Dt.decode(n,n.uint32());continue;case 2:if(a!==18)break;r.end=Dt.decode(n,n.uint32());continue;case 3:if(a!==24)break;r.faceDirection=n.bool();continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}}(mh||(mh={})),function(e){e.encode=function(t,o=H.Writer.create()){return t.start!==void 0&&bu.encode(t.start,o.uint32(10).fork()).ldelim(),t.end!==void 0&&bu.encode(t.end,o.uint32(18).fork()).ldelim(),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=GC();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;r.start=bu.decode(n,n.uint32());continue;case 2:if(a!==18)break;r.end=bu.decode(n,n.uint32());continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}}(hh||(hh={})),function(e){e.encode=function(t,o=H.Writer.create()){return t.start!==void 0&&Dt.encode(t.start,o.uint32(10).fork()).ldelim(),t.end!==void 0&&Dt.encode(t.end,o.uint32(18).fork()).ldelim(),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=qC();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;r.start=Dt.decode(n,n.uint32());continue;case 2:if(a!==18)break;r.end=Dt.decode(n,n.uint32());continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}}(yh||(yh={})),function(e){e.encode=function(t,o=H.Writer.create()){return t.start!==void 0&&Ri.encode(t.start,o.uint32(10).fork()).ldelim(),t.end!==void 0&&Ri.encode(t.end,o.uint32(18).fork()).ldelim(),t.movementType!==void 0&&o.uint32(24).int32(t.movementType),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=YC();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;r.start=Ri.decode(n,n.uint32());continue;case 2:if(a!==18)break;r.end=Ri.decode(n,n.uint32());continue;case 3:if(a!==24)break;r.movementType=n.int32();continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}}(Eh||(Eh={}));var JC={COMPONENT_ID:1102,serialize(e,t){let o=Ns.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize:e=>Ns.decode(e.buffer(),e.remainingBytes()),create:()=>Ns.decode(new Uint8Array),jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBTween"}},Db,If;function QC(){return{sequence:[],loop:void 0}}(function(e){e[e.TL_RESTART=0]="TL_RESTART",e[e.TL_YOYO=1]="TL_YOYO"})(Db||(Db={})),function(e){e.encode=function(t,o=H.Writer.create()){for(let n of t.sequence)Ns.encode(n,o.uint32(10).fork()).ldelim();return t.loop!==void 0&&o.uint32(16).int32(t.loop),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=QC();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;r.sequence.push(Ns.decode(n,n.uint32()));continue;case 2:if(a!==16)break;r.loop=n.int32();continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}}(If||(If={}));var KC={COMPONENT_ID:1104,serialize(e,t){let o=If.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize:e=>If.decode(e.buffer(),e.remainingBytes()),create:()=>If.decode(new Uint8Array),jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBTweenSequence"}},Fb,Rf;function XC(){return{state:0,currentTime:0}}(function(e){e[e.TS_ACTIVE=0]="TS_ACTIVE",e[e.TS_COMPLETED=1]="TS_COMPLETED",e[e.TS_PAUSED=2]="TS_PAUSED"})(Fb||(Fb={})),function(e){e.encode=function(t,o=H.Writer.create()){return t.state!==0&&o.uint32(8).int32(t.state),t.currentTime!==0&&o.uint32(21).float(t.currentTime),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=XC();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==8)break;r.state=n.int32();continue;case 2:if(a!==21)break;r.currentTime=n.float();continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}}(Rf||(Rf={}));var ZC={COMPONENT_ID:1103,serialize(e,t){let o=Rf.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize:e=>Rf.decode(e.buffer(),e.remainingBytes()),create:()=>Rf.decode(new Uint8Array),jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBTweenState"}};function e4(){return{top:0,left:0,right:0,bottom:0}}var Au,jb,Wb,Nf;function t4(){return{x:0,y:0,width:0,height:0}}function n4(){return{color:void 0,texture:void 0,textureMode:0,textureSlices:void 0,uvs:[]}}(function(e){e.encode=function(t,o=H.Writer.create()){return t.top!==0&&o.uint32(13).float(t.top),t.left!==0&&o.uint32(21).float(t.left),t.right!==0&&o.uint32(29).float(t.right),t.bottom!==0&&o.uint32(37).float(t.bottom),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=e4();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==13)break;r.top=n.float();continue;case 2:if(a!==21)break;r.left=n.float();continue;case 3:if(a!==29)break;r.right=n.float();continue;case 4:if(a!==37)break;r.bottom=n.float();continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}})(Au||(Au={})),function(e){e.encode=function(t,o=H.Writer.create()){return t.x!==0&&o.uint32(13).float(t.x),t.y!==0&&o.uint32(21).float(t.y),t.width!==0&&o.uint32(29).float(t.width),t.height!==0&&o.uint32(37).float(t.height),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=t4();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==13)break;r.x=n.float();continue;case 2:if(a!==21)break;r.y=n.float();continue;case 3:if(a!==29)break;r.width=n.float();continue;case 4:if(a!==37)break;r.height=n.float();continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}}(jb||(jb={})),function(e){e[e.NINE_SLICES=0]="NINE_SLICES",e[e.CENTER=1]="CENTER",e[e.STRETCH=2]="STRETCH"}(Wb||(Wb={})),function(e){e.encode=function(t,o=H.Writer.create()){t.color!==void 0&&To.encode(t.color,o.uint32(10).fork()).ldelim(),t.texture!==void 0&&Lo.encode(t.texture,o.uint32(18).fork()).ldelim(),t.textureMode!==0&&o.uint32(24).int32(t.textureMode),t.textureSlices!==void 0&&Au.encode(t.textureSlices,o.uint32(34).fork()).ldelim(),o.uint32(42).fork();for(let n of t.uvs)o.float(n);return o.ldelim(),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=n4();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;r.color=To.decode(n,n.uint32());continue;case 2:if(a!==18)break;r.texture=Lo.decode(n,n.uint32());continue;case 3:if(a!==24)break;r.textureMode=n.int32();continue;case 4:if(a!==34)break;r.textureSlices=Au.decode(n,n.uint32());continue;case 5:if(a===45){r.uvs.push(n.float());continue}if(a===42){let s=n.uint32()+n.pos;for(;n.pos<s;)r.uvs.push(n.float());continue}}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}}(Nf||(Nf={}));var o4={COMPONENT_ID:1053,serialize(e,t){let o=Nf.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize:e=>Nf.decode(e.buffer(),e.remainingBytes()),create:()=>Nf.decode(new Uint8Array),jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiBackground"}};function r4(){return{devicePixelRatio:0,width:0,height:0,interactableArea:void 0}}var Of;(function(e){e.encode=function(t,o=H.Writer.create()){return t.devicePixelRatio!==0&&o.uint32(13).float(t.devicePixelRatio),t.width!==0&&o.uint32(16).int32(t.width),t.height!==0&&o.uint32(24).int32(t.height),t.interactableArea!==void 0&&Au.encode(t.interactableArea,o.uint32(34).fork()).ldelim(),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=r4();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==13)break;r.devicePixelRatio=n.float();continue;case 2:if(a!==16)break;r.width=n.int32();continue;case 3:if(a!==24)break;r.height=n.int32();continue;case 4:if(a!==34)break;r.interactableArea=Au.decode(n,n.uint32());continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}})(Of||(Of={}));var i4={COMPONENT_ID:1054,serialize(e,t){let o=Of.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize:e=>Of.decode(e.buffer(),e.remainingBytes()),create:()=>Of.decode(new Uint8Array),jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiCanvasInformation"}};function a4(){return{acceptEmpty:!1,emptyLabel:void 0,options:[],selectedIndex:void 0,disabled:!1,color:void 0,textAlign:void 0,font:void 0,fontSize:void 0}}var kf;(function(e){e.encode=function(t,o=H.Writer.create()){t.acceptEmpty===!0&&o.uint32(8).bool(t.acceptEmpty),t.emptyLabel!==void 0&&o.uint32(18).string(t.emptyLabel);for(let n of t.options)o.uint32(26).string(n);return t.selectedIndex!==void 0&&o.uint32(32).int32(t.selectedIndex),t.disabled===!0&&o.uint32(40).bool(t.disabled),t.color!==void 0&&To.encode(t.color,o.uint32(50).fork()).ldelim(),t.textAlign!==void 0&&o.uint32(80).int32(t.textAlign),t.font!==void 0&&o.uint32(88).int32(t.font),t.fontSize!==void 0&&o.uint32(96).int32(t.fontSize),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=a4();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==8)break;r.acceptEmpty=n.bool();continue;case 2:if(a!==18)break;r.emptyLabel=n.string();continue;case 3:if(a!==26)break;r.options.push(n.string());continue;case 4:if(a!==32)break;r.selectedIndex=n.int32();continue;case 5:if(a!==40)break;r.disabled=n.bool();continue;case 6:if(a!==50)break;r.color=To.decode(n,n.uint32());continue;case 10:if(a!==80)break;r.textAlign=n.int32();continue;case 11:if(a!==88)break;r.font=n.int32();continue;case 12:if(a!==96)break;r.fontSize=n.int32();continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}})(kf||(kf={}));var s4={COMPONENT_ID:1094,serialize(e,t){let o=kf.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize:e=>kf.decode(e.buffer(),e.remainingBytes()),create:()=>kf.decode(new Uint8Array),jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiDropdown"}};function c4(){return{value:0}}var Cf;(function(e){e.encode=function(t,o=H.Writer.create()){return t.value!==0&&o.uint32(8).int32(t.value),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=c4();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==8)break;r.value=n.int32();continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}})(Cf||(Cf={}));var u4={COMPONENT_ID:1096,serialize(e,t){let o=Cf.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize:e=>Cf.decode(e.buffer(),e.remainingBytes()),create:()=>Cf.decode(new Uint8Array),jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiDropdownResult"}};function l4(){return{placeholder:"",color:void 0,placeholderColor:void 0,disabled:!1,textAlign:void 0,font:void 0,fontSize:void 0,value:void 0}}var Mf;(function(e){e.encode=function(t,o=H.Writer.create()){return t.placeholder!==""&&o.uint32(10).string(t.placeholder),t.color!==void 0&&To.encode(t.color,o.uint32(18).fork()).ldelim(),t.placeholderColor!==void 0&&To.encode(t.placeholderColor,o.uint32(26).fork()).ldelim(),t.disabled===!0&&o.uint32(32).bool(t.disabled),t.textAlign!==void 0&&o.uint32(80).int32(t.textAlign),t.font!==void 0&&o.uint32(88).int32(t.font),t.fontSize!==void 0&&o.uint32(96).int32(t.fontSize),t.value!==void 0&&o.uint32(106).string(t.value),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=l4();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;r.placeholder=n.string();continue;case 2:if(a!==18)break;r.color=To.decode(n,n.uint32());continue;case 3:if(a!==26)break;r.placeholderColor=To.decode(n,n.uint32());continue;case 4:if(a!==32)break;r.disabled=n.bool();continue;case 10:if(a!==80)break;r.textAlign=n.int32();continue;case 11:if(a!==88)break;r.font=n.int32();continue;case 12:if(a!==96)break;r.fontSize=n.int32();continue;case 13:if(a!==106)break;r.value=n.string();continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}})(Mf||(Mf={}));var f4={COMPONENT_ID:1093,serialize(e,t){let o=Mf.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize:e=>Mf.decode(e.buffer(),e.remainingBytes()),create:()=>Mf.decode(new Uint8Array),jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiInput"}};function d4(){return{value:"",isSubmit:void 0}}var Pf;(function(e){e.encode=function(t,o=H.Writer.create()){return t.value!==""&&o.uint32(10).string(t.value),t.isSubmit!==void 0&&o.uint32(16).bool(t.isSubmit),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=d4();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;r.value=n.string();continue;case 2:if(a!==16)break;r.isSubmit=n.bool();continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}})(Pf||(Pf={}));var p4={COMPONENT_ID:1095,serialize(e,t){let o=Pf.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize:e=>Pf.decode(e.buffer(),e.remainingBytes()),create:()=>Pf.decode(new Uint8Array),jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiInputResult"}},Vb,zf;function m4(){return{value:"",color:void 0,textAlign:void 0,font:void 0,fontSize:void 0,textWrap:void 0}}(function(e){e[e.TW_WRAP=0]="TW_WRAP",e[e.TW_NO_WRAP=1]="TW_NO_WRAP"})(Vb||(Vb={})),function(e){e.encode=function(t,o=H.Writer.create()){return t.value!==""&&o.uint32(10).string(t.value),t.color!==void 0&&To.encode(t.color,o.uint32(18).fork()).ldelim(),t.textAlign!==void 0&&o.uint32(24).int32(t.textAlign),t.font!==void 0&&o.uint32(32).int32(t.font),t.fontSize!==void 0&&o.uint32(40).int32(t.fontSize),t.textWrap!==void 0&&o.uint32(48).int32(t.textWrap),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=m4();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;r.value=n.string();continue;case 2:if(a!==18)break;r.color=To.decode(n,n.uint32());continue;case 3:if(a!==24)break;r.textAlign=n.int32();continue;case 4:if(a!==32)break;r.font=n.int32();continue;case 5:if(a!==40)break;r.fontSize=n.int32();continue;case 6:if(a!==48)break;r.textWrap=n.int32();continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}}(zf||(zf={}));var h4={COMPONENT_ID:1052,serialize(e,t){let o=zf.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize:e=>zf.decode(e.buffer(),e.remainingBytes()),create:()=>zf.decode(new Uint8Array),jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiText"}},Hb,$b,Gb,qb,Yb,Jb,Qb,Kb,Xb,Zb,Uf;function y4(){return{parent:0,rightOf:0,alignContent:void 0,alignItems:void 0,flexWrap:void 0,flexShrink:void 0,positionType:0,alignSelf:0,flexDirection:0,justifyContent:0,overflow:0,display:0,flexBasisUnit:0,flexBasis:0,flexGrow:0,widthUnit:0,width:0,heightUnit:0,height:0,minWidthUnit:0,minWidth:0,minHeightUnit:0,minHeight:0,maxWidthUnit:0,maxWidth:0,maxHeightUnit:0,maxHeight:0,positionLeftUnit:0,positionLeft:0,positionTopUnit:0,positionTop:0,positionRightUnit:0,positionRight:0,positionBottomUnit:0,positionBottom:0,marginLeftUnit:0,marginLeft:0,marginTopUnit:0,marginTop:0,marginRightUnit:0,marginRight:0,marginBottomUnit:0,marginBottom:0,paddingLeftUnit:0,paddingLeft:0,paddingTopUnit:0,paddingTop:0,paddingRightUnit:0,paddingRight:0,paddingBottomUnit:0,paddingBottom:0,pointerFilter:void 0}}(function(e){e[e.YGPT_RELATIVE=0]="YGPT_RELATIVE",e[e.YGPT_ABSOLUTE=1]="YGPT_ABSOLUTE"})(Hb||(Hb={})),function(e){e[e.YGA_AUTO=0]="YGA_AUTO",e[e.YGA_FLEX_START=1]="YGA_FLEX_START",e[e.YGA_CENTER=2]="YGA_CENTER",e[e.YGA_FLEX_END=3]="YGA_FLEX_END",e[e.YGA_STRETCH=4]="YGA_STRETCH",e[e.YGA_BASELINE=5]="YGA_BASELINE",e[e.YGA_SPACE_BETWEEN=6]="YGA_SPACE_BETWEEN",e[e.YGA_SPACE_AROUND=7]="YGA_SPACE_AROUND"}($b||($b={})),function(e){e[e.YGU_UNDEFINED=0]="YGU_UNDEFINED",e[e.YGU_POINT=1]="YGU_POINT",e[e.YGU_PERCENT=2]="YGU_PERCENT",e[e.YGU_AUTO=3]="YGU_AUTO"}(Gb||(Gb={})),function(e){e[e.YGFD_ROW=0]="YGFD_ROW",e[e.YGFD_COLUMN=1]="YGFD_COLUMN",e[e.YGFD_COLUMN_REVERSE=2]="YGFD_COLUMN_REVERSE",e[e.YGFD_ROW_REVERSE=3]="YGFD_ROW_REVERSE"}(qb||(qb={})),function(e){e[e.YGW_NO_WRAP=0]="YGW_NO_WRAP",e[e.YGW_WRAP=1]="YGW_WRAP",e[e.YGW_WRAP_REVERSE=2]="YGW_WRAP_REVERSE"}(Yb||(Yb={})),function(e){e[e.YGJ_FLEX_START=0]="YGJ_FLEX_START",e[e.YGJ_CENTER=1]="YGJ_CENTER",e[e.YGJ_FLEX_END=2]="YGJ_FLEX_END",e[e.YGJ_SPACE_BETWEEN=3]="YGJ_SPACE_BETWEEN",e[e.YGJ_SPACE_AROUND=4]="YGJ_SPACE_AROUND",e[e.YGJ_SPACE_EVENLY=5]="YGJ_SPACE_EVENLY"}(Jb||(Jb={})),function(e){e[e.YGO_VISIBLE=0]="YGO_VISIBLE",e[e.YGO_HIDDEN=1]="YGO_HIDDEN",e[e.YGO_SCROLL=2]="YGO_SCROLL"}(Qb||(Qb={})),function(e){e[e.YGD_FLEX=0]="YGD_FLEX",e[e.YGD_NONE=1]="YGD_NONE"}(Kb||(Kb={})),function(e){e[e.YGE_LEFT=0]="YGE_LEFT",e[e.YGE_TOP=1]="YGE_TOP",e[e.YGE_RIGHT=2]="YGE_RIGHT",e[e.YGE_BOTTOM=3]="YGE_BOTTOM",e[e.YGE_START=4]="YGE_START",e[e.YGE_END=5]="YGE_END",e[e.YGE_HORIZONTAL=6]="YGE_HORIZONTAL",e[e.YGE_VERTICAL=7]="YGE_VERTICAL",e[e.YGE_ALL=8]="YGE_ALL"}(Xb||(Xb={})),function(e){e[e.PFM_NONE=0]="PFM_NONE",e[e.PFM_BLOCK=1]="PFM_BLOCK"}(Zb||(Zb={})),function(e){e.encode=function(t,o=H.Writer.create()){return t.parent!==0&&o.uint32(8).int32(t.parent),t.rightOf!==0&&o.uint32(16).int32(t.rightOf),t.alignContent!==void 0&&o.uint32(24).int32(t.alignContent),t.alignItems!==void 0&&o.uint32(32).int32(t.alignItems),t.flexWrap!==void 0&&o.uint32(40).int32(t.flexWrap),t.flexShrink!==void 0&&o.uint32(53).float(t.flexShrink),t.positionType!==0&&o.uint32(56).int32(t.positionType),t.alignSelf!==0&&o.uint32(64).int32(t.alignSelf),t.flexDirection!==0&&o.uint32(72).int32(t.flexDirection),t.justifyContent!==0&&o.uint32(80).int32(t.justifyContent),t.overflow!==0&&o.uint32(88).int32(t.overflow),t.display!==0&&o.uint32(96).int32(t.display),t.flexBasisUnit!==0&&o.uint32(104).int32(t.flexBasisUnit),t.flexBasis!==0&&o.uint32(117).float(t.flexBasis),t.flexGrow!==0&&o.uint32(125).float(t.flexGrow),t.widthUnit!==0&&o.uint32(128).int32(t.widthUnit),t.width!==0&&o.uint32(141).float(t.width),t.heightUnit!==0&&o.uint32(144).int32(t.heightUnit),t.height!==0&&o.uint32(157).float(t.height),t.minWidthUnit!==0&&o.uint32(160).int32(t.minWidthUnit),t.minWidth!==0&&o.uint32(173).float(t.minWidth),t.minHeightUnit!==0&&o.uint32(176).int32(t.minHeightUnit),t.minHeight!==0&&o.uint32(189).float(t.minHeight),t.maxWidthUnit!==0&&o.uint32(192).int32(t.maxWidthUnit),t.maxWidth!==0&&o.uint32(205).float(t.maxWidth),t.maxHeightUnit!==0&&o.uint32(208).int32(t.maxHeightUnit),t.maxHeight!==0&&o.uint32(221).float(t.maxHeight),t.positionLeftUnit!==0&&o.uint32(224).int32(t.positionLeftUnit),t.positionLeft!==0&&o.uint32(237).float(t.positionLeft),t.positionTopUnit!==0&&o.uint32(240).int32(t.positionTopUnit),t.positionTop!==0&&o.uint32(253).float(t.positionTop),t.positionRightUnit!==0&&o.uint32(256).int32(t.positionRightUnit),t.positionRight!==0&&o.uint32(269).float(t.positionRight),t.positionBottomUnit!==0&&o.uint32(272).int32(t.positionBottomUnit),t.positionBottom!==0&&o.uint32(285).float(t.positionBottom),t.marginLeftUnit!==0&&o.uint32(288).int32(t.marginLeftUnit),t.marginLeft!==0&&o.uint32(301).float(t.marginLeft),t.marginTopUnit!==0&&o.uint32(304).int32(t.marginTopUnit),t.marginTop!==0&&o.uint32(317).float(t.marginTop),t.marginRightUnit!==0&&o.uint32(320).int32(t.marginRightUnit),t.marginRight!==0&&o.uint32(333).float(t.marginRight),t.marginBottomUnit!==0&&o.uint32(336).int32(t.marginBottomUnit),t.marginBottom!==0&&o.uint32(349).float(t.marginBottom),t.paddingLeftUnit!==0&&o.uint32(352).int32(t.paddingLeftUnit),t.paddingLeft!==0&&o.uint32(365).float(t.paddingLeft),t.paddingTopUnit!==0&&o.uint32(368).int32(t.paddingTopUnit),t.paddingTop!==0&&o.uint32(381).float(t.paddingTop),t.paddingRightUnit!==0&&o.uint32(384).int32(t.paddingRightUnit),t.paddingRight!==0&&o.uint32(397).float(t.paddingRight),t.paddingBottomUnit!==0&&o.uint32(400).int32(t.paddingBottomUnit),t.paddingBottom!==0&&o.uint32(413).float(t.paddingBottom),t.pointerFilter!==void 0&&o.uint32(416).int32(t.pointerFilter),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=y4();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==8)break;r.parent=n.int32();continue;case 2:if(a!==16)break;r.rightOf=n.int32();continue;case 3:if(a!==24)break;r.alignContent=n.int32();continue;case 4:if(a!==32)break;r.alignItems=n.int32();continue;case 5:if(a!==40)break;r.flexWrap=n.int32();continue;case 6:if(a!==53)break;r.flexShrink=n.float();continue;case 7:if(a!==56)break;r.positionType=n.int32();continue;case 8:if(a!==64)break;r.alignSelf=n.int32();continue;case 9:if(a!==72)break;r.flexDirection=n.int32();continue;case 10:if(a!==80)break;r.justifyContent=n.int32();continue;case 11:if(a!==88)break;r.overflow=n.int32();continue;case 12:if(a!==96)break;r.display=n.int32();continue;case 13:if(a!==104)break;r.flexBasisUnit=n.int32();continue;case 14:if(a!==117)break;r.flexBasis=n.float();continue;case 15:if(a!==125)break;r.flexGrow=n.float();continue;case 16:if(a!==128)break;r.widthUnit=n.int32();continue;case 17:if(a!==141)break;r.width=n.float();continue;case 18:if(a!==144)break;r.heightUnit=n.int32();continue;case 19:if(a!==157)break;r.height=n.float();continue;case 20:if(a!==160)break;r.minWidthUnit=n.int32();continue;case 21:if(a!==173)break;r.minWidth=n.float();continue;case 22:if(a!==176)break;r.minHeightUnit=n.int32();continue;case 23:if(a!==189)break;r.minHeight=n.float();continue;case 24:if(a!==192)break;r.maxWidthUnit=n.int32();continue;case 25:if(a!==205)break;r.maxWidth=n.float();continue;case 26:if(a!==208)break;r.maxHeightUnit=n.int32();continue;case 27:if(a!==221)break;r.maxHeight=n.float();continue;case 28:if(a!==224)break;r.positionLeftUnit=n.int32();continue;case 29:if(a!==237)break;r.positionLeft=n.float();continue;case 30:if(a!==240)break;r.positionTopUnit=n.int32();continue;case 31:if(a!==253)break;r.positionTop=n.float();continue;case 32:if(a!==256)break;r.positionRightUnit=n.int32();continue;case 33:if(a!==269)break;r.positionRight=n.float();continue;case 34:if(a!==272)break;r.positionBottomUnit=n.int32();continue;case 35:if(a!==285)break;r.positionBottom=n.float();continue;case 36:if(a!==288)break;r.marginLeftUnit=n.int32();continue;case 37:if(a!==301)break;r.marginLeft=n.float();continue;case 38:if(a!==304)break;r.marginTopUnit=n.int32();continue;case 39:if(a!==317)break;r.marginTop=n.float();continue;case 40:if(a!==320)break;r.marginRightUnit=n.int32();continue;case 41:if(a!==333)break;r.marginRight=n.float();continue;case 42:if(a!==336)break;r.marginBottomUnit=n.int32();continue;case 43:if(a!==349)break;r.marginBottom=n.float();continue;case 44:if(a!==352)break;r.paddingLeftUnit=n.int32();continue;case 45:if(a!==365)break;r.paddingLeft=n.float();continue;case 46:if(a!==368)break;r.paddingTopUnit=n.int32();continue;case 47:if(a!==381)break;r.paddingTop=n.float();continue;case 48:if(a!==384)break;r.paddingRightUnit=n.int32();continue;case 49:if(a!==397)break;r.paddingRight=n.float();continue;case 50:if(a!==400)break;r.paddingBottomUnit=n.int32();continue;case 51:if(a!==413)break;r.paddingBottom=n.float();continue;case 52:if(a!==416)break;r.pointerFilter=n.int32();continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}}(Uf||(Uf={}));var E4={COMPONENT_ID:1050,serialize(e,t){let o=Uf.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize:e=>Uf.decode(e.buffer(),e.remainingBytes()),create:()=>Uf.decode(new Uint8Array),jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiTransform"}},ev,Bf;function g4(){return{timestamp:0,tickNumber:0,currentOffset:0,videoLength:0,state:0}}(function(e){e[e.VS_NONE=0]="VS_NONE",e[e.VS_ERROR=1]="VS_ERROR",e[e.VS_LOADING=2]="VS_LOADING",e[e.VS_READY=3]="VS_READY",e[e.VS_PLAYING=4]="VS_PLAYING",e[e.VS_BUFFERING=5]="VS_BUFFERING",e[e.VS_SEEKING=6]="VS_SEEKING",e[e.VS_PAUSED=7]="VS_PAUSED"})(ev||(ev={})),function(e){e.encode=function(t,o=H.Writer.create()){return t.timestamp!==0&&o.uint32(8).uint32(t.timestamp),t.tickNumber!==0&&o.uint32(16).uint32(t.tickNumber),t.currentOffset!==0&&o.uint32(29).float(t.currentOffset),t.videoLength!==0&&o.uint32(37).float(t.videoLength),t.state!==0&&o.uint32(40).int32(t.state),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=g4();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==8)break;r.timestamp=n.uint32();continue;case 2:if(a!==16)break;r.tickNumber=n.uint32();continue;case 3:if(a!==29)break;r.currentOffset=n.float();continue;case 4:if(a!==37)break;r.videoLength=n.float();continue;case 5:if(a!==40)break;r.state=n.int32();continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}}(Bf||(Bf={}));var T4={COMPONENT_ID:1044,serialize(e,t){let o=Bf.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize:e=>Bf.decode(e.buffer(),e.remainingBytes()),create:()=>Bf.decode(new Uint8Array),jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBVideoEvent"}};function _4(){return{src:"",playing:void 0,position:void 0,volume:void 0,playbackRate:void 0,loop:void 0}}var Lf;(function(e){e.encode=function(t,o=H.Writer.create()){return t.src!==""&&o.uint32(10).string(t.src),t.playing!==void 0&&o.uint32(16).bool(t.playing),t.position!==void 0&&o.uint32(29).float(t.position),t.volume!==void 0&&o.uint32(37).float(t.volume),t.playbackRate!==void 0&&o.uint32(45).float(t.playbackRate),t.loop!==void 0&&o.uint32(48).bool(t.loop),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=_4();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;r.src=n.string();continue;case 2:if(a!==16)break;r.playing=n.bool();continue;case 3:if(a!==29)break;r.position=n.float();continue;case 4:if(a!==37)break;r.volume=n.float();continue;case 5:if(a!==45)break;r.playbackRate=n.float();continue;case 6:if(a!==48)break;r.loop=n.bool();continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}})(Lf||(Lf={}));var S4={COMPONENT_ID:1043,serialize(e,t){let o=Lf.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize:e=>Lf.decode(e.buffer(),e.remainingBytes()),create:()=>Lf.decode(new Uint8Array),jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBVideoPlayer"}};function b4(){return{transitionMode:void 0}}var gh,Df;function v4(){return{defaultTransition:void 0,lookAtEntity:void 0}}(function(e){e.encode=function(t,o=H.Writer.create()){switch(t.transitionMode?.$case){case"time":o.uint32(13).float(t.transitionMode.time);break;case"speed":o.uint32(21).float(t.transitionMode.speed)}return o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=b4();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==13)break;r.transitionMode={$case:"time",time:n.float()};continue;case 2:if(a!==21)break;r.transitionMode={$case:"speed",speed:n.float()};continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}})(gh||(gh={})),function(e){e.encode=function(t,o=H.Writer.create()){return t.defaultTransition!==void 0&&gh.encode(t.defaultTransition,o.uint32(10).fork()).ldelim(),t.lookAtEntity!==void 0&&o.uint32(16).uint32(t.lookAtEntity),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=v4();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;r.defaultTransition=gh.decode(n,n.uint32());continue;case 2:if(a!==16)break;r.lookAtEntity=n.uint32();continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}}(Df||(Df={}));var A4={COMPONENT_ID:1076,serialize(e,t){let o=Df.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize:e=>Df.decode(e.buffer(),e.remainingBytes()),create:()=>Df.decode(new Uint8Array),jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBVirtualCamera"}};function w4(){return{visible:void 0}}var Ff;(function(e){e.encode=function(t,o=H.Writer.create()){return t.visible!==void 0&&o.uint32(8).bool(t.visible),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=w4();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==8)break;r.visible=n.bool();continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r}})(Ff||(Ff={}));var x4={COMPONENT_ID:1081,serialize(e,t){let o=Ff.encode(e),n=new Uint8Array(o.finish(),0,o.len);t.writeBuffer(n,!1)},deserialize:e=>Ff.decode(e.buffer(),e.remainingBytes()),create:()=>Ff.decode(new Uint8Array),jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBVisibilityComponent"}},I4=e=>e.defineComponentFromSchema("core::Animator",dk),R4=e=>e.defineValueSetComponentFromSchema("core::AudioEvent",mk,{timestampFunction:t=>t.timestamp,maxElements:100}),N4=e=>e.defineComponentFromSchema("core::AudioSource",yk),O4=e=>e.defineComponentFromSchema("core::AudioStream",gk),k4=e=>e.defineComponentFromSchema("core::AvatarAttach",_k),C4=e=>e.defineComponentFromSchema("core::AvatarBase",Ak),M4=e=>e.defineValueSetComponentFromSchema("core::AvatarEmoteCommand",xk,{timestampFunction:t=>t.timestamp,maxElements:100}),P4=e=>e.defineComponentFromSchema("core::AvatarEquippedData",Rk),z4=e=>e.defineComponentFromSchema("core::AvatarModifierArea",Pk),U4=e=>e.defineComponentFromSchema("core::AvatarShape",Dk),B4=e=>e.defineComponentFromSchema("core::Billboard",jk),L4=e=>e.defineComponentFromSchema("core::CameraMode",Vk),D4=e=>e.defineComponentFromSchema("core::CameraModeArea",$k),F4=e=>e.defineComponentFromSchema("core::EngineInfo",qk),Gv=e=>e.defineComponentFromSchema("core::GltfContainer",Jk),j4=e=>e.defineComponentFromSchema("core::GltfContainerLoadingState",Kk),W4=e=>e.defineComponentFromSchema("core::InputModifier",eC),V4=e=>e.defineComponentFromSchema("core::MainCamera",nC),qv=e=>e.defineComponentFromSchema("core::Material",lC),Yv=e=>e.defineComponentFromSchema("core::MeshCollider",yC),Jv=e=>e.defineComponentFromSchema("core::MeshRenderer",bC),H4=e=>e.defineComponentFromSchema("core::NftShape",AC),$4=e=>e.defineComponentFromSchema("core::PlayerIdentityData",xC),Qv=e=>e.defineComponentFromSchema("core::PointerEvents",OC),G4=e=>e.defineValueSetComponentFromSchema("core::PointerEventsResult",MC,{timestampFunction:t=>t.timestamp,maxElements:100}),q4=e=>e.defineComponentFromSchema("core::PointerLock",zC),Y4=e=>e.defineComponentFromSchema("core::Raycast",BC),J4=e=>e.defineComponentFromSchema("core::RaycastResult",DC),Q4=e=>e.defineComponentFromSchema("core::RealmInfo",jC),K4=e=>e.defineComponentFromSchema("core::TextShape",VC),Kv=e=>e.defineComponentFromSchema("core::Tween",JC),k2=e=>e.defineComponentFromSchema("core::TweenSequence",KC),Xv=e=>e.defineComponentFromSchema("core::TweenState",ZC),X4=e=>e.defineComponentFromSchema("core::UiBackground",o4),Z4=e=>e.defineComponentFromSchema("core::UiCanvasInformation",i4),eM=e=>e.defineComponentFromSchema("core::UiDropdown",s4),tM=e=>e.defineComponentFromSchema("core::UiDropdownResult",u4),nM=e=>e.defineComponentFromSchema("core::UiInput",f4),oM=e=>e.defineComponentFromSchema("core::UiInputResult",p4),rM=e=>e.defineComponentFromSchema("core::UiText",h4),Zv=e=>e.defineComponentFromSchema("core::UiTransform",E4),iM=e=>e.defineValueSetComponentFromSchema("core::VideoEvent",T4,{timestampFunction:t=>t.timestamp,maxElements:100}),aM=e=>e.defineComponentFromSchema("core::VideoPlayer",S4),sM=e=>e.defineComponentFromSchema("core::VirtualCamera",A4),cM=e=>e.defineComponentFromSchema("core::VisibilityComponent",x4),tv={"core::Animator":I4,"core::AudioEvent":R4,"core::AudioSource":N4,"core::AudioStream":O4,"core::AvatarAttach":k4,"core::AvatarBase":C4,"core::AvatarEmoteCommand":M4,"core::AvatarEquippedData":P4,"core::AvatarModifierArea":z4,"core::AvatarShape":U4,"core::Billboard":B4,"core::CameraMode":L4,"core::CameraModeArea":D4,"core::EngineInfo":F4,"core::GltfContainer":Gv,"core::GltfContainerLoadingState":j4,"core::InputModifier":W4,"core::MainCamera":V4,"core::Material":qv,"core::MeshCollider":Yv,"core::MeshRenderer":Jv,"core::NftShape":H4,"core::PlayerIdentityData":$4,"core::PointerEvents":Qv,"core::PointerEventsResult":G4,"core::PointerLock":q4,"core::Raycast":Y4,"core::RaycastResult":J4,"core::RealmInfo":Q4,"core::TextShape":K4,"core::Tween":Kv,"core::TweenSequence":k2,"core::TweenState":Xv,"core::UiBackground":X4,"core::UiCanvasInformation":Z4,"core::UiDropdown":eM,"core::UiDropdownResult":tM,"core::UiInput":nM,"core::UiInputResult":oM,"core::UiText":rM,"core::UiTransform":Zv,"core::VideoEvent":iM,"core::VideoPlayer":aM,"core::VirtualCamera":sM,"core::VisibilityComponent":cM},uM={Common:e=>({tex:{$case:"texture",texture:e}}),Avatar:e=>({tex:{$case:"avatarTexture",avatarTexture:e}}),Video:e=>({tex:{$case:"videoTexture",videoTexture:e}})};function lM(e){let t=qv(e);return{...t,Texture:uM,setBasicMaterial(o,n){t.createOrReplace(o,{material:{$case:"unlit",unlit:n}})},setPbrMaterial(o,n){t.createOrReplace(o,{material:{$case:"pbr",pbr:n}})}}}function fM(e){let t=Yv(e);function o(n){return Array.isArray(n)?n.map(i=>i).reduce((i,r)=>i|r,0):n||void 0}return{...t,setBox(n,i){t.createOrReplace(n,{mesh:{$case:"box",box:{}},collisionMask:o(i)})},setPlane(n,i){t.createOrReplace(n,{mesh:{$case:"plane",plane:{}},collisionMask:o(i)})},setCylinder(n,i,r,a){t.createOrReplace(n,{mesh:{$case:"cylinder",cylinder:{radiusBottom:i,radiusTop:r}},collisionMask:o(a)})},setSphere(n,i){t.createOrReplace(n,{mesh:{$case:"sphere",sphere:{}},collisionMask:o(i)})}}}function dM(e){let t=Jv(e);return{...t,setBox(o,n){t.createOrReplace(o,{mesh:{$case:"box",box:{uvs:n||[]}}})},setPlane(o,n){t.createOrReplace(o,{mesh:{$case:"plane",plane:{uvs:n||[]}}})},setCylinder(o,n,i){t.createOrReplace(o,{mesh:{$case:"cylinder",cylinder:{radiusBottom:n,radiusTop:i}}})},setSphere(o){t.createOrReplace(o,{mesh:{$case:"sphere",sphere:{}}})}}}var pM={Move:e=>({$case:"move",move:e}),Rotate:e=>({$case:"rotate",rotate:e}),Scale:e=>({$case:"scale",scale:e}),TextureMove:e=>({$case:"textureMove",textureMove:e})};function mM(e){return{...Kv(e),Mode:pM}}var eA=e=>({serialize(t,o){o.writeUint32(t.length);for(let n of t)e.serialize(n,o)},deserialize(t){let o=[],n=t.readUint32();for(let i=0;i<n;i++)o.push(e.deserialize(t));return o},create:()=>[],jsonSchema:{type:"array",items:e.jsonSchema,serializationType:"array"}}),s2={serialize(e,t){t.writeInt8(e?1:0)},deserialize:e=>e.readInt8()===1,create:()=>!1,jsonSchema:{type:"boolean",serializationType:"boolean"}},c2={serialize(e,t){t.writeInt64(BigInt(e))},deserialize:e=>Number(e.readInt64()),create:()=>0,jsonSchema:{type:"integer",serializationType:"int64"}},Jf={serialize(e,t){t.writeInt32(e)},deserialize:e=>e.readInt32(),create:()=>0,jsonSchema:{type:"integer",serializationType:"int32"}},u2={serialize(e,t){t.writeInt16(e)},deserialize:e=>e.readInt16(),create:()=>0,jsonSchema:{type:"integer",serializationType:"int16"}},l2={serialize(e,t){t.writeInt8(e)},deserialize:e=>e.readInt8(),create:()=>0,jsonSchema:{type:"integer",serializationType:"int8"}},f2={serialize(e,t){t.writeUtf8String(e)},deserialize:e=>e.readUtf8String(),create:()=>"",jsonSchema:{type:"string",serializationType:"utf8-string"}},d2=f2;function hM(e){let n=0,i=0;for(let r in e){if(typeof e[r]=="number"){if(e[r]>2147483647||e[r]<-2147483648)throw new Error("Enum member values must be numbers within the range of -2147483648 to 2147483647.");n++}i++}if(i!==2*n)throw new Error("All enum member values must be of numeric type.")}function yM(e){for(let t in e)if(typeof e[t]!="string")throw new Error("All enum member values must be of string type.")}var EM="enum-int",tA=(e,t)=>(hM(e),{serialize(o,n){Jf.serialize(o,n)},deserialize:o=>Jf.deserialize(o),create:()=>t,jsonSchema:{type:"integer",enum:Object.values(e).filter(o=>Number.isInteger(o)),default:t,serializationType:EM,enumObject:e}}),gM="enum-string",nA=(e,t)=>(yM(e),{serialize(o,n){f2.serialize(o,n)},deserialize:o=>f2.deserialize(o),create:()=>t,jsonSchema:{type:"string",enum:Object.values(e),default:t,serializationType:gM,enumObject:e}}),Bh={serialize(e,t){t.writeFloat32(e)},deserialize:e=>e.readFloat32(),create:()=>0,jsonSchema:{type:"number",serializationType:"float32"}},p2={serialize(e,t){t.writeFloat64(e)},deserialize:e=>e.readFloat64(),create:()=>0,jsonSchema:{type:"number",serializationType:"float64"}},m2={serialize(e,t){t.writeFloat32(e.r),t.writeFloat32(e.g),t.writeFloat32(e.b)},deserialize:e=>({r:e.readFloat32(),g:e.readFloat32(),b:e.readFloat32()}),create:()=>({r:0,g:0,b:0}),jsonSchema:{type:"object",properties:{r:{type:"number"},g:{type:"number"},b:{type:"number"}},serializationType:"color3"}},h2={serialize(e,t){t.writeFloat32(e.r),t.writeFloat32(e.g),t.writeFloat32(e.b),t.writeFloat32(e.a)},deserialize:e=>({r:e.readFloat32(),g:e.readFloat32(),b:e.readFloat32(),a:e.readFloat32()}),create:()=>({r:0,g:0,b:0,a:0}),jsonSchema:{type:"object",properties:{r:{type:"number"},g:{type:"number"},b:{type:"number"},a:{type:"number"}},serializationType:"color4"}},y2={serialize(e,t){t.writeInt32(e)},deserialize:e=>e.readInt32(),create:()=>0,jsonSchema:{type:"integer",serializationType:"entity"}},E2={serialize(e,t){t.writeFloat32(e.x),t.writeFloat32(e.y),t.writeFloat32(e.z),t.writeFloat32(e.w)},deserialize:e=>({x:e.readFloat32(),y:e.readFloat32(),z:e.readFloat32(),w:e.readFloat32()}),create:()=>({x:0,y:0,z:0,w:0}),jsonSchema:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"},w:{type:"number"}},serializationType:"quaternion"}},g2={serialize(e,t){t.writeFloat32(e.x),t.writeFloat32(e.y),t.writeFloat32(e.z)},deserialize:e=>({x:e.readFloat32(),y:e.readFloat32(),z:e.readFloat32()}),create:()=>({x:0,y:0,z:0}),jsonSchema:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"},w:{type:"number"}},serializationType:"vector3"}},oA=(e,t)=>{let o=Object.keys(e).reduce((n,i)=>(n[i]=e[i].jsonSchema,n),{});return{serialize(n,i){for(let r in e)e[r].serialize(n[r],i)},deserialize(n){let i={};for(let r in e)i[r]=e[r].deserialize(n);return i},create(){let n={};for(let i in e)n[i]=e[i].create();return{...n,...t}},extend:n=>{let i={};for(let r in e)i[r]=e[r].create();return{...i,...t,...n}},jsonSchema:{type:"object",properties:o,serializationType:"map"}}},rA=e=>({serialize(t,o){t?(o.writeInt8(1),e.serialize(t,o)):o.writeInt8(0)},deserialize(t){if(t.readInt8())return e.deserialize(t)},create(){},jsonSchema:{type:e.jsonSchema.type,serializationType:"optional",optionalJsonSchema:e.jsonSchema}}),iA=e=>{let t=Object.keys(e),o=t.reduce((i,r,a)=>(i[r]=a,i),{}),n=t.reduce((i,r)=>(i[r]=e[r].jsonSchema,i),{});return{serialize({$case:i,value:r},a){let s=o[i.toString()]+1;a.writeUint8(s),e[i].serialize(r,a)},deserialize(i){let r=t[i.readInt8()-1];return{$case:r,value:e[r].deserialize(i)}},create:()=>({}),jsonSchema:{type:"object",properties:n,serializationType:"one-of"}}},aA=(e,t)=>t.includes(e.serializationType),TM=e=>aA(e,["one-of"]),_M=()=>({type:{type:"object",serializationType:"unknown"},value:void 0}),T2=e=>aA(e,["array","map"]),nv=(e,t,o)=>{let n=e[o],i=t[o];if(TM(n)){let r=i;if(!r.$case)return _M();let a=n.properties[r.$case];return T2(a)&&(t[o]={[r.$case]:r.value}),{type:a,value:r.value}}return{type:n,value:i}},ov={[s2.jsonSchema.serializationType]:s2,[d2.jsonSchema.serializationType]:d2,[Bh.jsonSchema.serializationType]:Bh,[p2.jsonSchema.serializationType]:p2,[l2.jsonSchema.serializationType]:l2,[u2.jsonSchema.serializationType]:u2,[Jf.jsonSchema.serializationType]:Jf,[c2.jsonSchema.serializationType]:c2,[g2.jsonSchema.serializationType]:g2,[E2.jsonSchema.serializationType]:E2,[m2.jsonSchema.serializationType]:m2,[h2.jsonSchema.serializationType]:h2,[y2.jsonSchema.serializationType]:y2};function Jl(e){if(ov[e.serializationType])return ov[e.serializationType];if(e.serializationType==="map"){let t=e,o={};for(let n in t.properties)o[n]=Jl(t.properties[n]);return oA(o)}if(e.serializationType==="optional")return rA(Jl(e.optionalJsonSchema));if(e.serializationType==="array")return eA(Jl(e.items));if(e.serializationType==="enum-int"){let t=e;return tA(t.enumObject,t.default)}if(e.serializationType==="enum-string"){let t=e;return nA(t.enumObject,t.default)}if(e.serializationType==="one-of"){let t=e,o={};for(let n in t.properties)o[n]=Jl(t.properties[n]);return iA(o)}throw new Error(`${e.serializationType} is not supported as reverse schema generation.`)}function _2(e,t,o){if(e.serializationType==="map"){let{properties:n}=e,i=t;for(let r in n){let{type:a,value:s}=nv(n,i,r);if(a.serializationType!=="unknown")if(T2(a))_2(a,s,o);else{let c=o(s,a);c.changed&&(i[r]=c.value)}}}else if(e.serializationType==="array"){let{items:n}=e,i=t;for(let r=0,a=i.length;r<a;r++){let{type:s,value:c}=nv({items:n},{items:i[r]},"items");if(T2(s))_2(s,c,o);else{let d=o(c,s);d.changed&&(i[r]=d.value)}}}}var kt;function SM(e){return e.defineComponent("core-schema::Name",{value:kt.String})}function bM(e){return e.defineComponent("core-schema::Network-Entity",{networkId:kt.Int64,entityId:kt.Entity})}function vM(e){return e.defineComponent("core-schema::Network-Parent",{networkId:kt.Int64,entityId:kt.Entity})}(function(e){e.Boolean=s2,e.String=d2,e.Float=Bh,e.Double=p2,e.Byte=l2,e.Short=u2,e.Int=Jf,e.Int64=c2,e.Number=Bh,e.Vector3=g2,e.Quaternion=E2,e.Color3=m2,e.Color4=h2,e.Entity=y2,e.EnumNumber=tA,e.EnumString=nA,e.Array=eA,e.Map=oA,e.Optional=rA,e.OneOf=iA,e.fromJson=Jl,e.mutateNestedValues=_2})(kt||(kt={}));var rv=44,jf={serialize(e,t){let o=t.incrementWriteOffset(rv);t.setFloat32(o,e.position.x),t.setFloat32(o+4,e.position.y),t.setFloat32(o+8,e.position.z),t.setFloat32(o+12,e.rotation.x),t.setFloat32(o+16,e.rotation.y),t.setFloat32(o+20,e.rotation.z),t.setFloat32(o+24,e.rotation.w),t.setFloat32(o+28,e.scale.x),t.setFloat32(o+32,e.scale.y),t.setFloat32(o+36,e.scale.z),t.setUint32(o+40,e.parent||0)},deserialize(e){let t=e.incrementReadOffset(rv);return{position:{x:e.getFloat32(t),y:e.getFloat32(t+4),z:e.getFloat32(t+8)},rotation:{x:e.getFloat32(t+12),y:e.getFloat32(t+16),z:e.getFloat32(t+20),w:e.getFloat32(t+24)},scale:{x:e.getFloat32(t+28),y:e.getFloat32(t+32),z:e.getFloat32(t+36)},parent:e.getUint32(t+40)}},create:()=>({position:{x:0,y:0,z:0},scale:{x:1,y:1,z:1},rotation:{x:0,y:0,z:0,w:1},parent:0}),extend:e=>({position:{x:0,y:0,z:0},scale:{x:1,y:1,z:1},rotation:{x:0,y:0,z:0,w:1},parent:0,...e}),jsonSchema:{type:"object",properties:{position:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"}}},scale:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"}}},rotation:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"},w:{type:"number"}}},parent:{type:"integer"}},serializationType:"transform"}};function AM(e){let t=e.defineComponentFromSchema("core::Transform",jf);return{...t,create:(o,n)=>t.create(o,jf.extend(n)),createOrReplace:(o,n)=>t.createOrReplace(o,jf.extend(n))}}var iv;(function(e){e[e.MS_NONE=0]="MS_NONE",e[e.MS_ERROR=1]="MS_ERROR",e[e.MS_LOADING=2]="MS_LOADING",e[e.MS_READY=3]="MS_READY",e[e.MS_PLAYING=4]="MS_PLAYING",e[e.MS_BUFFERING=5]="MS_BUFFERING",e[e.MS_SEEKING=6]="MS_SEEKING",e[e.MS_PAUSED=7]="MS_PAUSED"})(iv||(iv={}));var Vh=e=>AM(e),wM=e=>lM(e),xM=e=>dM(e),IM=e=>fM(e),sA=e=>mM(e),cA=e=>SM(e),C2=e=>bM(e),uA=e=>vM(e),av={"core::Transform":1,"core::Animator":1042,"core::AudioEvent":1105,"core::AudioSource":1020,"core::AudioStream":1021,"core::AvatarAttach":1073,"core::AvatarBase":1087,"core::AvatarEmoteCommand":1088,"core::AvatarEquippedData":1091,"core::AvatarModifierArea":1070,"core::AvatarShape":1080,"core::Billboard":1090,"core::CameraMode":1072,"core::CameraModeArea":1071,"core::EngineInfo":1048,"core::GltfContainer":1041,"core::GltfContainerLoadingState":1049,"core::InputModifier":1078,"core::MainCamera":1075,"core::MapPin":1097,"core::Material":1017,"core::MeshCollider":1019,"core::MeshRenderer":1018,"core::NftShape":1040,"core::PlayerIdentityData":1089,"core::PointerEvents":1062,"core::PointerEventsResult":1063,"core::PointerLock":1074,"core::Raycast":1067,"core::RaycastResult":1068,"core::RealmInfo":1106,"core::TextShape":1030,"core::Tween":1102,"core::TweenSequence":1104,"core::TweenState":1103,"core::UiBackground":1053,"core::UiCanvasInformation":1054,"core::UiDropdown":1094,"core::UiDropdownResult":1096,"core::UiInput":1093,"core::UiInputResult":1095,"core::UiText":1052,"core::UiTransform":1050,"core::VideoEvent":1044,"core::VideoPlayer":1043,"core::VirtualCamera":1076,"core::VisibilityComponent":1081},RM=new Int32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function NM(e,t){let o=~t;for(let n=0;n<e.length;n++)o=RM[255&(o^e[n])]^o>>>8;return~o}function OM(e,t=0){return NM(e,t)>>>0}var kM=2048;function Da(e){if(av[e])return av[e];let t=new Uint8Array(128);return Nu.write(e,t,0),(OM(t)+kM&4294967295)>>>0}var lA=typeof process=="object"&&!1||!1;function CM(e,t){if(lA&&e&&typeof e=="object"&&typeof e.then=="function")throw new Error(t);return e}function MM(){let e=new Map;return{addTo(t,o){if(o<0)return!1;let n=e.get(t);return n!==void 0&&n>=o||e.set(t,o),!0},has(t,o){let n=e.get(t);return n!==void 0&&n>=o},getMap:()=>e}}var wu=65535,PM=4294901760,sv=wu,zM=512,xi,Lr;function UM(e){let t=e?.reservedStaticEntities??zM,o=t,n=new Set,i=[],r=MM();function a(){if(o>sv-1)throw new Error(`It fails trying to generate an entity out of range ${sv}.`);let c=o++,d=r.getMap().has(c)?r.getMap().get(c)+1:0,h=xi.toEntityId(c,d);return n.has(h)?a():(n.add(h),h)}function s(c){let[d,h]=xi.fromEntityId(c);r.addTo(d,h);for(let g=0;g<=h;g++)n.delete(xi.toEntityId(d,g));return!0}return{generateEntity:function(){if(n.size+t>=o)return a();for(let[c,d]of r.getMap())if(d<wu){let h=xi.toEntityId(c,d+1);if(!n.has(h)&&!i.includes(h))return n.add(h),h}return a()},removeEntity:function(c){return!(c<t)&&(n.has(c)?(n.delete(c),i.push(c)):s(c),!0)},getExistingEntities:()=>new Set(n),getEntityState:function(c){let[d,h]=xi.fromEntityId(c);if(d<t)return Lr.Reserved;if(n.has(c))return Lr.UsedEntity;let g=r.getMap().get(d);return g!==void 0&&g>=h?Lr.Removed:Lr.Unknown},releaseRemovedEntities:function(){let c=i;if(c.length){i=[];for(let d of c){let[h,g]=xi.fromEntityId(d);r.addTo(h,g)}}return c},updateRemovedEntity:s,updateUsedEntity:function(c){let[d,h]=xi.fromEntityId(c);if(r.has(d,h))return!1;if(h>0){for(let g=0;g<=h-1;g++)n.delete(xi.toEntityId(d,g));r.addTo(d,h-1)}return n.add(c),!0}}}(function(e){e.fromEntityId=function(t){return[(t&wu)>>>0,((t&PM)>>16&wu)>>>0]},e.toEntityId=function(t,o){return(t&wu|(o&wu)<<16)>>>0}})(xi||(xi={})),function(e){e[e.Unknown=0]="Unknown",e[e.UsedEntity=1]="UsedEntity",e[e.Removed=2]="Removed",e[e.Reserved=3]="Reserved"}(Lr||(Lr={}));var en=function(e,t,o,n){if(o==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return o==="m"?n:o==="a"?n.call(e):n?n.value:t.get(e)},Jt,er,yo;function BM(e,t){let o=Math.max(e,t)+1024;return 1024*Math.ceil(o/1024)}var LM=10240,so=class{constructor(t,o,n){Jt.add(this),this._buffer=t||new Uint8Array(LM),this.view=new DataView(this._buffer.buffer,this._buffer.byteOffset),this.woffset=n??(t?this._buffer.length:null)??0,this.roffset=o??0}buffer(){return this._buffer}bufferLength(){return this._buffer.length}resetBuffer(){this.roffset=0,this.woffset=0}currentReadOffset(){return this.roffset}currentWriteOffset(){return this.woffset}incrementReadOffset(t){return en(this,Jt,"m",yo).call(this,t)}remainingBytes(){return this.woffset-this.roffset}readFloat32(){return this.view.getFloat32(en(this,Jt,"m",yo).call(this,4),!0)}readFloat64(){return this.view.getFloat64(en(this,Jt,"m",yo).call(this,8),!0)}readInt8(){return this.view.getInt8(en(this,Jt,"m",yo).call(this,1))}readInt16(){return this.view.getInt16(en(this,Jt,"m",yo).call(this,2),!0)}readInt32(){return this.view.getInt32(en(this,Jt,"m",yo).call(this,4),!0)}readInt64(){return this.view.getBigInt64(en(this,Jt,"m",yo).call(this,8),!0)}readUint8(){return this.view.getUint8(en(this,Jt,"m",yo).call(this,1))}readUint16(){return this.view.getUint16(en(this,Jt,"m",yo).call(this,2),!0)}readUint32(){return this.view.getUint32(en(this,Jt,"m",yo).call(this,4),!0)}readUint64(){return this.view.getBigUint64(en(this,Jt,"m",yo).call(this,8),!0)}readBuffer(){let t=this.view.getUint32(en(this,Jt,"m",yo).call(this,4),!0);return this._buffer.subarray(en(this,Jt,"m",yo).call(this,t),en(this,Jt,"m",yo).call(this,0))}readUtf8String(){let t=this.view.getUint32(en(this,Jt,"m",yo).call(this,4),!0);return Nu.read(this._buffer,en(this,Jt,"m",yo).call(this,t),en(this,Jt,"m",yo).call(this,0))}incrementWriteOffset(t){return en(this,Jt,"m",er).call(this,t)}toBinary(){return this._buffer.subarray(0,this.woffset)}toCopiedBinary(){return new Uint8Array(this.toBinary())}writeBuffer(t,o=!0){o&&this.writeUint32(t.byteLength);let n=en(this,Jt,"m",er).call(this,t.byteLength);this._buffer.set(t,n)}writeUtf8String(t,o=!0){let n=Nu.length(t);o&&this.writeUint32(n);let i=en(this,Jt,"m",er).call(this,n);Nu.write(t,this._buffer,i)}writeFloat32(t){let o=en(this,Jt,"m",er).call(this,4);this.view.setFloat32(o,t,!0)}writeFloat64(t){let o=en(this,Jt,"m",er).call(this,8);this.view.setFloat64(o,t,!0)}writeInt8(t){let o=en(this,Jt,"m",er).call(this,1);this.view.setInt8(o,t)}writeInt16(t){let o=en(this,Jt,"m",er).call(this,2);this.view.setInt16(o,t,!0)}writeInt32(t){let o=en(this,Jt,"m",er).call(this,4);this.view.setInt32(o,t,!0)}writeInt64(t){let o=en(this,Jt,"m",er).call(this,8);this.view.setBigInt64(o,t,!0)}writeUint8(t){let o=en(this,Jt,"m",er).call(this,1);this.view.setUint8(o,t)}writeUint16(t){let o=en(this,Jt,"m",er).call(this,2);this.view.setUint16(o,t,!0)}writeUint32(t){let o=en(this,Jt,"m",er).call(this,4);this.view.setUint32(o,t,!0)}writeUint64(t){let o=en(this,Jt,"m",er).call(this,8);this.view.setBigUint64(o,t,!0)}getFloat32(t){return this.view.getFloat32(t,!0)}getFloat64(t){return this.view.getFloat64(t,!0)}getInt8(t){return this.view.getInt8(t)}getInt16(t){return this.view.getInt16(t,!0)}getInt32(t){return this.view.getInt32(t,!0)}getInt64(t){return this.view.getBigInt64(t,!0)}getUint8(t){return this.view.getUint8(t)}getUint16(t){return this.view.getUint16(t,!0)}getUint32(t){return this.view.getUint32(t,!0)}getUint64(t){return this.view.getBigUint64(t,!0)}setFloat32(t,o){this.view.setFloat32(t,o,!0)}setFloat64(t,o){this.view.setFloat64(t,o,!0)}setInt8(t,o){this.view.setInt8(t,o)}setInt16(t,o){this.view.setInt16(t,o,!0)}setInt32(t,o){this.view.setInt32(t,o,!0)}setInt64(t,o){this.view.setBigInt64(t,o,!0)}setUint8(t,o){this.view.setUint8(t,o)}setUint16(t,o){this.view.setUint16(t,o,!0)}setUint32(t,o){this.view.setUint32(t,o,!0)}setUint64(t,o){this.view.setBigUint64(t,o,!0)}},tt;Jt=new WeakSet,er=function(e){if(this.woffset+e>this._buffer.byteLength){let t=BM(this._buffer.byteLength,this.woffset+e),o=new Uint8Array(t);o.set(this._buffer);let n=this._buffer.byteOffset;this._buffer=o,this.view=new DataView(this._buffer.buffer,n)}return this.woffset+=e,this.woffset-e},yo=function(e){if(this.roffset+e>this.woffset)throw new Error("Outside of the bounds of writen data.");return this.roffset+=e,this.roffset-e},function(e){e[e.RESERVED=0]="RESERVED",e[e.PUT_COMPONENT=1]="PUT_COMPONENT",e[e.DELETE_COMPONENT=2]="DELETE_COMPONENT",e[e.DELETE_ENTITY=3]="DELETE_ENTITY",e[e.APPEND_VALUE=4]="APPEND_VALUE",e[e.PUT_COMPONENT_NETWORK=5]="PUT_COMPONENT_NETWORK",e[e.DELETE_COMPONENT_NETWORK=6]="DELETE_COMPONENT_NETWORK",e[e.DELETE_ENTITY_NETWORK=7]="DELETE_ENTITY_NETWORK",e[e.MAX_MESSAGE_TYPE=8]="MAX_MESSAGE_TYPE"}(tt||(tt={}));var ei=8,zr,Ai,Pu,Qf,Kf,Os,Lh,Dh,Fh;function L1(e){return[tt.DELETE_COMPONENT_NETWORK,tt.DELETE_ENTITY_NETWORK,tt.PUT_COMPONENT_NETWORK].includes(e.type)}function DM(e,t,o,n){let i=o.currentWriteOffset();e.type===tt.PUT_COMPONENT_NETWORK?Os.write(t,e.timestamp,e.componentId,e.data,o):e.type===tt.DELETE_COMPONENT_NETWORK?Pu.write(t,e.componentId,e.timestamp,o):e.type===tt.DELETE_ENTITY_NETWORK&&Kf.write(t,o),n.writeBuffer(o.buffer().subarray(i,o.currentWriteOffset()),!1)}function FM(e,t,o,n){let i=o.currentWriteOffset();e.type===tt.PUT_COMPONENT?Lh.write(t.entityId,e.timestamp,e.componentId,t.networkId,e.data,o):e.type===tt.DELETE_COMPONENT?Dh.write(t.entityId,e.componentId,e.timestamp,t.networkId,o):e.type===tt.DELETE_ENTITY&&Fh.write(t.entityId,t.networkId,o),n.writeBuffer(o.buffer().subarray(i,o.currentWriteOffset()),!1)}(function(e){e[e.StateUpdatedTimestamp=1]="StateUpdatedTimestamp",e[e.StateOutdatedTimestamp=2]="StateOutdatedTimestamp",e[e.NoChanges=3]="NoChanges",e[e.StateOutdatedData=4]="StateOutdatedData",e[e.StateUpdatedData=5]="StateUpdatedData",e[e.EntityWasDeleted=6]="EntityWasDeleted",e[e.EntityDeleted=7]="EntityDeleted"})(zr||(zr={})),function(e){function t(n){let i=n.remainingBytes();return i<ei?!1:!(i<n.getUint32(n.currentReadOffset()))}function o(n){if(!t(n))return null;let i=n.currentReadOffset();return{length:n.getUint32(i),type:n.getUint32(i+4)}}e.validate=t,e.readHeader=function(n){return t(n)?{length:n.readUint32(),type:n.readUint32()}:null},e.getHeader=o,e.consumeMessage=function(n){let i=o(n);return!!i&&(n.incrementReadOffset(i.length),!0)}}(Ai||(Ai={})),function(e){e.MESSAGE_HEADER_LENGTH=12,e.write=function(t,o,n,i){let r=ei+e.MESSAGE_HEADER_LENGTH,a=i.incrementWriteOffset(r);i.setUint32(a,r),i.setUint32(a+4,tt.DELETE_COMPONENT),i.setUint32(a+8,t),i.setUint32(a+12,o),i.setUint32(a+16,n)},e.read=function(t){let o=Ai.readHeader(t);if(!o)return null;if(o.type!==tt.DELETE_COMPONENT)throw new Error("DeleteComponentOperation tried to read another message type.");return{...o,entityId:t.readUint32(),componentId:t.readUint32(),timestamp:t.readUint32()}}}(Pu||(Pu={})),function(e){e.MESSAGE_HEADER_LENGTH=16,e.write=function(t,o,n,i,r){let a=r.incrementWriteOffset(ei+e.MESSAGE_HEADER_LENGTH);r.writeBuffer(i,!1);let s=r.currentWriteOffset()-a;r.setUint32(a,s),r.setUint32(a+4,tt.APPEND_VALUE),r.setUint32(a+8,t),r.setUint32(a+12,n),r.setUint32(a+16,o);let c=s-e.MESSAGE_HEADER_LENGTH-ei;r.setUint32(a+20,c)},e.read=function(t){let o=Ai.readHeader(t);if(!o)return null;if(o.type!==tt.APPEND_VALUE)throw new Error("AppendValueOperation tried to read another message type.");return{...o,entityId:t.readUint32(),componentId:t.readUint32(),timestamp:t.readUint32(),data:t.readBuffer()}}}(Qf||(Qf={})),function(e){e.MESSAGE_HEADER_LENGTH=4,e.write=function(t,o){o.writeUint32(ei+4),o.writeUint32(tt.DELETE_ENTITY),o.writeUint32(t)},e.read=function(t){let o=Ai.readHeader(t);if(!o)return null;if(o.type!==tt.DELETE_ENTITY)throw new Error("DeleteEntity tried to read another message type.");return{...o,entityId:t.readUint32()}}}(Kf||(Kf={})),function(e){e.MESSAGE_HEADER_LENGTH=16,e.write=function(t,o,n,i,r){let a=r.incrementWriteOffset(ei+e.MESSAGE_HEADER_LENGTH);r.writeBuffer(i,!1);let s=r.currentWriteOffset()-a;r.setUint32(a,s),r.setUint32(a+4,tt.PUT_COMPONENT),r.setUint32(a+8,t),r.setUint32(a+12,n),r.setUint32(a+16,o);let c=s-e.MESSAGE_HEADER_LENGTH-ei;r.setUint32(a+20,c)},e.read=function(t){let o=Ai.readHeader(t);if(!o)return null;if(o.type!==tt.PUT_COMPONENT)throw new Error("PutComponentOperation tried to read another message type.");return{...o,entityId:t.readUint32(),componentId:t.readUint32(),timestamp:t.readUint32(),data:t.readBuffer()}}}(Os||(Os={})),function(e){e.MESSAGE_HEADER_LENGTH=20,e.write=function(t,o,n,i,r,a){let s=a.incrementWriteOffset(ei+e.MESSAGE_HEADER_LENGTH);a.writeBuffer(r,!1);let c=a.currentWriteOffset()-s;a.setUint32(s,c),a.setUint32(s+4,tt.PUT_COMPONENT_NETWORK),a.setUint32(s+8,t),a.setUint32(s+12,n),a.setUint32(s+16,o),a.setUint32(s+20,i);let d=c-e.MESSAGE_HEADER_LENGTH-ei;a.setUint32(s+24,d)},e.read=function(t){let o=Ai.readHeader(t);if(!o)return null;if(o.type!==tt.PUT_COMPONENT_NETWORK)throw new Error("PutComponentNetworkOperation tried to read another message type.");return{...o,entityId:t.readUint32(),componentId:t.readUint32(),timestamp:t.readUint32(),networkId:t.readUint32(),data:t.readBuffer()}}}(Lh||(Lh={})),function(e){e.MESSAGE_HEADER_LENGTH=16,e.write=function(t,o,n,i,r){let a=ei+e.MESSAGE_HEADER_LENGTH,s=r.incrementWriteOffset(a);r.setUint32(s,a),r.setUint32(s+4,tt.DELETE_COMPONENT_NETWORK),r.setUint32(s+8,t),r.setUint32(s+12,o),r.setUint32(s+16,n),r.setUint32(s+20,i)},e.read=function(t){let o=Ai.readHeader(t);if(!o)return null;if(o.type!==tt.DELETE_COMPONENT_NETWORK)throw new Error("DeleteComponentOperation tried to read another message type.");return{...o,entityId:t.readUint32(),componentId:t.readUint32(),timestamp:t.readUint32(),networkId:t.readUint32()}}}(Dh||(Dh={})),function(e){e.MESSAGE_HEADER_LENGTH=8,e.write=function(t,o,n){n.writeUint32(ei+4),n.writeUint32(tt.DELETE_ENTITY_NETWORK),n.writeUint32(t),n.writeUint32(o)},e.read=function(t){let o=Ai.readHeader(t);if(!o)return null;if(o.type!==tt.DELETE_ENTITY_NETWORK)throw new Error("DeleteEntityNetwork tried to read another message type.");return{...o,entityId:t.readUint32(),networkId:t.readUint32()}}}(Fh||(Fh={}));var D1=new so;function F1(e,t,o){D1.resetBuffer();let n=t;if(!n&&"data"in e&&(n=jf.deserialize(new so(e.data))),!n)throw new Error("Invalid parent transform");let i={...n,parent:o};return jf.serialize(i,D1),D1.toBinary()}function jM(e,t){let o=[],n=C2(e),i=uA(e),r=Vh(e),a=[],s=[];function c(h){return h.splice(0,h.length)}function d(h){if("networkId"in h){for(let[g,A]of e.getEntitiesWith(n))if(A.networkId===h.networkId&&A.entityId===h.entityId)return{entityId:g,network:A}}return{entityId:h.entityId}}return{sendMessages:async function(h){let g=c(s),A=new so;for(let S of e.componentsIter())for(let _ of S.getCrdtUpdates()){let x=A.currentWriteOffset();if(o.some(k=>k.filter(_))&&(_.type===tt.PUT_COMPONENT?Os.write(_.entityId,_.timestamp,_.componentId,_.data,A):_.type===tt.DELETE_COMPONENT?Pu.write(_.entityId,S.componentId,_.timestamp,A):_.type===tt.APPEND_VALUE&&Qf.write(_.entityId,_.timestamp,_.componentId,_.data,A),g.push({..._,messageBuffer:A.buffer().subarray(x,A.currentWriteOffset())})),t){let k=_.type===tt.PUT_COMPONENT||_.type===tt.APPEND_VALUE?S.get(_.entityId):void 0;t(_.entityId,_.type,S,k)}}for(let S of h){let _=A.currentWriteOffset();Kf.write(S,A),g.push({type:tt.DELETE_ENTITY,entityId:S,messageBuffer:A.buffer().subarray(_,A.currentWriteOffset())}),t&&t(S,tt.DELETE_ENTITY)}let v=new so;for(let S in o){let x=[],k=Number(S),j=o[k],Y=j.type==="renderer",ie=j.type==="network";v.resetBuffer();let ve=new so;for(let J of g){if(ie&&v.toBinary().byteLength/1024>13&&(x.push(v.toBinary()),v.resetBuffer()),J.transportId===k||!j.filter(J))continue;let{entityId:ne}=d(J),X="componentId"in J&&J.componentId===r.componentId&&r.has(ne)&&i.has(ne)&&n.has(ne);if(Y&&J.type===tt.PUT_COMPONENT&&X){let Z=d(i.get(ne)),q=F1(J,r.get(ne),Z.entityId),B=ve.currentWriteOffset();Os.write(ne,J.timestamp,J.componentId,q,ve),v.writeBuffer(ve.buffer().subarray(B,ve.currentWriteOffset()),!1)}else if(Y&&L1(J)){let Z="data"in J?J.data:new Uint8Array;if(X){let q=d(i.get(ne));Z=F1(J,r.get(ne),q.entityId)}DM({...J,data:Z},ne,ve,v)}else{if(ie&&!L1(J)){let Z=n.getOrNull(J.entityId);if(Z){FM(J,Z,ve,v);continue}}v.writeBuffer(J.messageBuffer,!1)}}ie&&v.currentWriteOffset()&&x.push(v.toBinary());let ae=ie?x:v.toBinary();await j.send(ae)}},receiveMessages:async function(){let h=c(a),g=[];for(let A of h){let{entityId:v,network:S}=d(A);if(L1(A)&&!S&&(v=e.addEntity(),S={entityId:A.entityId,networkId:A.networkId},n.createOrReplace(v,S)),A.type===tt.DELETE_ENTITY||A.type===tt.DELETE_ENTITY_NETWORK)g.push(v),s.push(A);else{let _=e.entityContainer.getEntityState(v);if(_===Lr.Removed)continue;_===Lr.Unknown&&e.entityContainer.updateUsedEntity(v);let x=e.getComponentOrNull(A.componentId);if(x){A.type===tt.PUT_COMPONENT&&x.componentId===r.componentId&&n.has(v)&&i.has(v)&&(A.data=F1(A));let[k,j]=x.updateFromCrdt({...A,entityId:v});k||(s.push(A),t&&t(v,A.type,x,j))}else s.push(A)}}for(let A of g){for(let v of e.componentsIter())v.entityDeleted(A,!0);e.entityContainer.updateRemovedEntity(A),t&&t(A,tt.DELETE_ENTITY)}},addTransport:function(h){let g=o.push(h)-1;var A;h.onmessage=(A=g,function(v){let S=new so(v),_;for(;_=Ai.getHeader(S);){let x=S.currentReadOffset(),k;_.type===tt.DELETE_COMPONENT?k=Pu.read(S):_.type===tt.DELETE_COMPONENT_NETWORK?k=Dh.read(S):_.type===tt.PUT_COMPONENT?k=Os.read(S):_.type===tt.PUT_COMPONENT_NETWORK?k=Lh.read(S):_.type===tt.DELETE_ENTITY?k=Kf.read(S):_.type===tt.DELETE_ENTITY_NETWORK?k=Fh.read(S):_.type===tt.APPEND_VALUE?k=Qf.read(S):S.incrementReadOffset(_.length),k&&a.push({...k,transportId:A,messageBuffer:S.buffer().subarray(x,S.currentReadOffset())})}})}}}var cv;function S2(e,t){if(e===t)return 0;if(e===null&&t!==null)return-1;if(e!==null&&t===null)return 1;if(e instanceof Uint8Array&&t instanceof Uint8Array){let o=e.byteLength-t.byteLength;if(o!==0)return o>0?1:-1;let n;for(let i=0,r=e.byteLength;i<r;i++)if(n=e[i]-t[i],n!==0)return n>0?1:-1;return 0}if(typeof e=="string"){let o=e.length-t.length;return o!==0?o>0?1:-1:e.localeCompare(t)}return e>t?1:-1}function uv(e){return Object.freeze({...e})}function WM(e,t){let o=(t.get(e)||0)+1;return t.set(e,o),o}function VM(e,t,o,n){return function(i,r){for(let[a,s]of t)if(!r||r(a))if(n.has(a)){let c=n.get(a),d=new so;o.serialize(c,d),Os.write(a,s,e,d.toBinary(),i)}else Pu.write(a,e,s,i)}}function HM(e,t,o,n){return i=>{if(i.type!==tt.PUT_COMPONENT&&i.type!==tt.PUT_COMPONENT_NETWORK&&i.type!==tt.DELETE_COMPONENT&&i.type!==tt.DELETE_COMPONENT_NETWORK)return[null,n.get(i.entityId)];let r=function(s){let{entityId:c,timestamp:d}=s,h=t.get(c);if(h===void 0||h<d)return zr.StateUpdatedTimestamp;if(h>d)return zr.StateOutdatedTimestamp;if(s.type===tt.DELETE_COMPONENT&&!n.has(c))return zr.NoChanges;let g=0;if(n.has(c)){let A=new so;o.serialize(n.get(c),A),g=S2(A.toBinary(),s.data||null)}else g=S2(null,s.data);return g===0?zr.NoChanges:g>0?zr.StateOutdatedData:zr.StateUpdatedData}(i),a=i.entityId;switch(r){case zr.StateUpdatedData:case zr.StateUpdatedTimestamp:if(t.set(a,i.timestamp),i.type===tt.PUT_COMPONENT||i.type===tt.PUT_COMPONENT_NETWORK){let s=new so(i.data);n.set(a,o.deserialize(s))}else n.delete(a);return[null,n.get(a)];case zr.StateOutdatedTimestamp:case zr.StateOutdatedData:if(n.has(a)){let s=new so;return o.serialize(n.get(a),s),[{type:tt.PUT_COMPONENT,componentId:e,data:s.toBinary(),entityId:a,timestamp:t.get(a)},n.get(a)]}return[{type:tt.DELETE_COMPONENT,componentId:e,entityId:a,timestamp:t.get(a)},void 0]}return[null,n.get(a)]}}function $M(e,t,o,n,i){return function*(){for(let r of o){let a=WM(r,t);if(i.has(r)){let s=new so;n.serialize(i.get(r),s),yield{type:tt.PUT_COMPONENT,componentId:e,entityId:r,data:s.toBinary(),timestamp:a}}else yield{type:tt.DELETE_COMPONENT,componentId:e,entityId:r,timestamp:a}}o.clear()}}function lv(e,t,o){let n=new Map,i=new Set,r=new Map,a=new Map;return{get componentId(){return t},get componentName(){return e},get componentType(){return 0},schema:o,has:s=>n.has(s),deleteFrom(s,c=!0){let d=n.get(s);return n.delete(s)&&c&&i.add(s),d||null},entityDeleted(s,c){n.delete(s)&&c&&i.add(s)},getOrNull(s){let c=n.get(s);return c?uv(c):null},get(s){let c=n.get(s);if(!c)throw new Error(`[getFrom] Component ${e} for entity #${s} not found`);return uv(c)},create(s,c){if(n.get(s))throw new Error(`[create] Component ${e} for ${s} already exists`);let d=c===void 0?o.create():o.extend?o.extend(c):c;return n.set(s,d),i.add(s),d},createOrReplace(s,c){let d=c===void 0?o.create():o.extend?o.extend(c):c;return n.set(s,d),i.add(s),d},getMutableOrNull(s){let c=n.get(s);return c?(i.add(s),c):null},getOrCreateMutable(s,c){let d=n.get(s);return d?(i.add(s),d):this.create(s,c)},getMutable(s){let c=this.getMutableOrNull(s);if(c===null)throw new Error(`[mutable] Component ${e} for ${s} not found`);return c},*iterator(){for(let[s,c]of n)yield[s,c]},*dirtyIterator(){for(let s of i)yield s},getCrdtUpdates:$M(t,r,i,o,n),updateFromCrdt:HM(t,r,o,n),dumpCrdtStateToBuffer:VM(t,r,o,n),onChange(s,c){let d=a.get(s)??[];d.push(c),a.set(s,d)},__onChangeCallbacks(s,c){let d=a.get(s);if(d)for(let h of d)h(c)}}}(function(e){var t;(t=e.SynchronizedEntityType||(e.SynchronizedEntityType={}))[t.NETWORKED=0]="NETWORKED",t[t.RENDERER=1]="RENDERER"})(cv||(cv={}));var GM=1e5;function qM(){let e=[];function t(){e.sort((o,n)=>n.priority-o.priority)}return{add:function(o,n,i){let r=i??o.name;if(e.find(a=>a.fn===o))throw new Error(`System ${JSON.stringify(r)} already added to the engine`);e.push({fn:o,priority:n,name:r}),t()},remove:function(o){let n=-1;return n=typeof o=="string"?e.findIndex(i=>i.name===o):e.findIndex(i=>i.fn===o),n!==-1&&(e.splice(n,1),t(),!0)},getSystems:()=>e}}var j1=fA(new Set);function fv(){throw new Error("The set is frozen")}function fA(e){return e.add=fv,e.clear=fv,e}function YM(e,t){return e.timestamp>t.timestamp?1:-1}function JM(e,t,o,n){let i=new Map,r=new Set,a=[],s=new Map;function c(g){let A=i.get(g);if(A){for(function(S){let _=S.raw.length;return _>1&&S.raw[_-1].timestamp<=S.raw[_-2].timestamp}(A)&&A.raw.sort(YM);A.raw.length>n.maxElements;)A.raw.shift();let v=fA(new Set(A?.raw.map(S=>S.value)));return A.frozenSet=v,v}return j1}function d(g,A){let v=i.get(g);v||(v={raw:[],frozenSet:j1},i.set(g,v));let S=o.extend?o.extend(A):A,_=n.timestampFunction(S);return lA&&Object.freeze(S),v.raw.push({value:S,timestamp:_}),{set:c(g),value:S}}return{get componentId(){return t},get componentName(){return e},get componentType(){return 1},schema:o,has:g=>i.has(g),entityDeleted(g){i.delete(g)},get(g){let A=i.get(g);return A?A.frozenSet:j1},addValue(g,A){let{set:v,value:S}=d(g,A);r.add(g);let _=new so;return o.serialize(S,_),a.push({componentId:t,data:_.toBinary(),entityId:g,timestamp:0,type:tt.APPEND_VALUE}),v},*iterator(){for(let[g,A]of i)yield[g,A.frozenSet]},*dirtyIterator(){for(let g of r)yield g},getCrdtUpdates:()=>(r.clear(),a.splice(0,a.length)),updateFromCrdt(g){if(g.type===tt.APPEND_VALUE){let A=new so(g.data),{value:v}=d(g.entityId,o.deserialize(A));return[null,v]}return[null,void 0]},dumpCrdtStateToBuffer:function(g,A){for(let[v,{raw:S}]of i)if(!A||A(v))for(let _ of S){let x=new so;o.serialize(_.value,x),Qf.write(v,0,t,x.toBinary(),g)}},onChange(g,A){let v=s.get(g)??[];v.push(A),s.set(g,v)},__onChangeCallbacks(g,A){let v=s.get(g);if(v)for(let S of v)S(A)}}}function*dA(e,t){if(t.has(e)){t.delete(e);for(let[o,n]of t)n.parent===e&&(yield*dA(o,t));yield e}}function QM(e,t,o){return dA(t,new Map(e.getEntitiesWith(o)))}function pA(e,t){let o=uA(e),n=C2(e);e.removeEntity(t);let i=n.getOrNull(t);if(i)for(let[r,a]of e.getEntitiesWith(o))a.entityId===i.entityId&&a.networkId===i.networkId&&pA(e,r)}function KM(e,t){let o=Vh(e);if(C2(e).has(t))return pA(e,t);for(let n of QM(e,t,o))e.removeEntity(n)}var dv;function XM(e){let t=e?.entityContainer??UM(),o=new Map,n=qM(),i=!1;function r(d){for(let[,h]of o)h.componentName!=="core-schema::Network-Entity"&&h.entityDeleted(d,!0);return t.removeEntity(d)}function a(d,h){let g=Da(d),A=o.get(g);if(A)return A;if(i)throw new Error("Engine is already sealed. No components can be added at this stage");let v=lv(d,g,h);return o.set(g,v),v}function s(d,h,g){let A=Da(d),v=o.get(A);if(v)return v;if(i)throw new Error("Engine is already sealed. No components can be added at this stage");let S=lv(d,A,kt.Map(h,g)),_={...S,create:(x,k)=>S.create(x,k),createOrReplace:(x,k)=>S.createOrReplace(x,k)};return o.set(A,_),_}function*c(...d){for(let[h,...g]of function*(...A){let[v,...S]=A;for(let[_]of v.iterator()){let x=!0;for(let k of S)if(!k.has(_)){x=!1;break}x&&(yield[_,...A])}}(...d))yield[h,...g.map(A=>A.get(h))]}return Vh({defineComponentFromSchema:a}),{addEntity:function(){return t.generateEntity()},removeEntity:r,removeEntityWithChildren:function(d){return KM({removeEntity:r,defineComponentFromSchema:a,getEntitiesWith:c,defineComponent:s},d)},addSystem:function(d,h=GM,g){n.add(d,h,g)},getSystems:function(){return n.getSystems()},removeSystem:function(d){return n.remove(d)},defineComponent:s,defineComponentFromSchema:a,defineValueSetComponentFromSchema:function(d,h,g){let A=Da(d),v=o.get(A);if(v)return v;if(i)throw new Error("Engine is already sealed. No components can be added at this stage");let S=JM(d,A,h,g);return o.set(A,S),S},getEntitiesWith:c,getComponent:function(d){let h=typeof d=="number"?d:Da(d),g=o.get(h);if(!g)throw new Error(`Component ${d} not found. You need to declare the components at the beginnig of the engine declaration`);return g},getComponentOrNull:function(d){let h=typeof d=="number"?d:Da(d);return o.get(h)??null},getEntityOrNullByName:function(d){let h=cA({defineComponent:s});for(let[g,A]of c(h))if(A.value===d)return g;return null},removeComponentDefinition:function(d){if(i)throw new Error("Engine is already sealed. No components can be removed at this stage");let h=typeof d=="number"?d:Da(d);o.delete(h)},registerComponentDefinition:function(d,h){if(i)throw new Error("Engine is already sealed. No components can be added at this stage");let g=Da(d);if(o.get(g))throw new Error(`Component number ${g} was already registered.`);if(h.componentName!==d)throw new Error(`Component name doesn't match componentDefinition.componentName ${d} != ${h.componentName}`);if(h.componentId!==g)throw new Error(`Component number doesn't match componentDefinition.componentId ${g} != ${h.componentId}`);return o.set(g,h),h},entityContainer:t,componentsIter:function(){return o.values()},seal:function(){i||(i=!0)}}}function ZM(e){let t=XM(e),o=jM(t,(n,i,r,a)=>{if(i===tt.DELETE_ENTITY)for(let s of t.componentsIter())s?.__onChangeCallbacks(n,void 0);else r?.__onChangeCallbacks(n,a);return e?.onChangeFunction(n,i,r,a)});return{_id:Date.now(),addEntity:t.addEntity,removeEntity:t.removeEntity,removeEntityWithChildren:t.removeEntityWithChildren,addSystem:t.addSystem,removeSystem:t.removeSystem,defineComponent:t.defineComponent,defineComponentFromSchema:t.defineComponentFromSchema,defineValueSetComponentFromSchema:t.defineValueSetComponentFromSchema,registerComponentDefinition:t.registerComponentDefinition,getEntitiesWith:t.getEntitiesWith,getComponent:t.getComponent,getComponentOrNull:t.getComponentOrNull,removeComponentDefinition:t.removeComponentDefinition,componentsIter:t.componentsIter,seal:t.seal,getEntityOrNullByName:t.getEntityOrNullByName,update:async function(n){await o.receiveMessages();for(let r of t.getSystems())CM(r.fn(n),`A system (${r.name||"anonymous"}) returned a thenable. Systems cannot be async functions. Documentation: https://dcl.gg/sdk/sync-systems`);let i=t.entityContainer.releaseRemovedEntities();await o.sendMessages(i)},RootEntity:0,PlayerEntity:1,CameraEntity:2,getEntityState:t.entityContainer.getEntityState,addTransport:o.addTransport,entityContainer:t.entityContainer}}(function(e){e[e.LastWriteWinElementSet=0]="LastWriteWinElementSet",e[e.GrowOnlyValueSet=1]="GrowOnlyValueSet"})(dv||(dv={}));var W1=new Map;function eP(e){if(W1.has(e._id))return W1.get(e._id);let t=sA(e),o=Xv(e),n=k2(e),i=new Map;function r(h){let g=o.getOrNull(h),A=t.getOrNull(h),v=i.get(h);return!(!g||!A)&&!(!a(h)&&g.state!==1||v?.completed||!((v?.frames??0)>2))}function a(h){let g=t.getOrNull(h),A=i.get(h)?.tween;if(g&&!A||!g&&A)return!0;let v=new so;return t.schema.serialize(g,v),S2(v.toBinary(),A)}let s=[];function c(h){if(h.mode?.$case==="move"&&h.mode.move)return{...h,mode:{...h.mode,move:{start:h.mode.move.end,end:h.mode.move.start}}};if(h.mode?.$case==="rotate"&&h.mode.rotate)return{...h,mode:{...h.mode,rotate:{start:h.mode.rotate.end,end:h.mode.rotate.start}}};if(h.mode?.$case==="scale"&&h.mode.scale)return{...h,mode:{...h.mode,scale:{start:h.mode.scale.end,end:h.mode.scale.start}}};if(h.mode?.$case==="textureMove"&&h.mode.textureMove)return{...h,mode:{...h.mode,textureMove:{start:h.mode.textureMove.end,end:h.mode.textureMove.start}}};throw new Error("Invalid tween")}e.addSystem(()=>{for(let h of s)h();s.length=0;for(let[h,g]of e.getEntitiesWith(t)){if(a(h)){let v=new so;t.schema.serialize(g,v),i.set(h,{tween:v.toBinary(),frames:0,completed:!1,changed:!0});continue}let A=i.get(h);if(A.frames+=1,A.changed=!1,r(h)){A.frames=0,A.completed=!0;let v=n.getOrNull(h);if(!v)continue;let{sequence:S}=v;if(S&&S.length){let[_,...x]=S;t.createOrReplace(h,_);let k=n.getMutable(h);k.sequence=x,v.loop===0&&k.sequence.push(g)}else v.loop===1?t.createOrReplace(h,c(g)):v.loop===0&&(t.deleteFrom(h),i.delete(h),s.push(()=>{t.createOrReplace(h,g)}))}}},Number.NEGATIVE_INFINITY);let d={tweenCompleted:r};return W1.set(e._id,d),d}function tP(e){let t=Qv(e),o=IM(e),n=Gv(e),i=Zv(e),r=new Set,a=0;function s(c){if(a+=c,!(a<=10)){a=0;for(let[d]of e.getEntitiesWith(t)){if(r.has(d)||n.has(d)||i.has(d))continue;let h=o.getOrNull(d);h&&(h.collisionMask===void 0||1&h.collisionMask)||(r.add(d),console.log(`\u26A0\uFE0F Missing MeshCollider component on entity ${d}. Add a MeshCollider to the entity so it can be clickeable by the player.
See https://docs.decentraland.org/creator/development-guide/sdk7/colliders/#pointer-blocking`))}}}e.removeSystem(s),e.addSystem(s)}var Ho=ZM();eP(Ho),tP(Ho);var V1=k2(Ho),pv,mv,hv,yv,Ev,gv;function nP(e){return e.getComponentOrNull("composite::root")||e.defineComponent("composite::root",{src:kt.String,entities:kt.Array(kt.Map({src:kt.Entity,dest:kt.Entity}))})}(function(e){e[e.CT_FIRST_PERSON=0]="CT_FIRST_PERSON",e[e.CT_THIRD_PERSON=1]="CT_THIRD_PERSON",e[e.CT_CINEMATIC=2]="CT_CINEMATIC"})(pv||(pv={})),function(e){e[e.IA_POINTER=0]="IA_POINTER",e[e.IA_PRIMARY=1]="IA_PRIMARY",e[e.IA_SECONDARY=2]="IA_SECONDARY",e[e.IA_ANY=3]="IA_ANY",e[e.IA_FORWARD=4]="IA_FORWARD",e[e.IA_BACKWARD=5]="IA_BACKWARD",e[e.IA_RIGHT=6]="IA_RIGHT",e[e.IA_LEFT=7]="IA_LEFT",e[e.IA_JUMP=8]="IA_JUMP",e[e.IA_WALK=9]="IA_WALK",e[e.IA_ACTION_3=10]="IA_ACTION_3",e[e.IA_ACTION_4=11]="IA_ACTION_4",e[e.IA_ACTION_5=12]="IA_ACTION_5",e[e.IA_ACTION_6=13]="IA_ACTION_6"}(mv||(mv={})),function(e){e[e.PET_UP=0]="PET_UP",e[e.PET_DOWN=1]="PET_DOWN",e[e.PET_HOVER_ENTER=2]="PET_HOVER_ENTER",e[e.PET_HOVER_LEAVE=3]="PET_HOVER_LEAVE"}(hv||(hv={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.LOADING=1]="LOADING",e[e.NOT_FOUND=2]="NOT_FOUND",e[e.FINISHED_WITH_ERROR=3]="FINISHED_WITH_ERROR",e[e.FINISHED=4]="FINISHED"}(yv||(yv={})),function(e){e[e.TAM_TOP_LEFT=0]="TAM_TOP_LEFT",e[e.TAM_TOP_CENTER=1]="TAM_TOP_CENTER",e[e.TAM_TOP_RIGHT=2]="TAM_TOP_RIGHT",e[e.TAM_MIDDLE_LEFT=3]="TAM_MIDDLE_LEFT",e[e.TAM_MIDDLE_CENTER=4]="TAM_MIDDLE_CENTER",e[e.TAM_MIDDLE_RIGHT=5]="TAM_MIDDLE_RIGHT",e[e.TAM_BOTTOM_LEFT=6]="TAM_BOTTOM_LEFT",e[e.TAM_BOTTOM_CENTER=7]="TAM_BOTTOM_CENTER",e[e.TAM_BOTTOM_RIGHT=8]="TAM_BOTTOM_RIGHT"}(Ev||(Ev={})),function(e){e[e.F_SANS_SERIF=0]="F_SANS_SERIF",e[e.F_SERIF=1]="F_SERIF",e[e.F_MONOSPACE=2]="F_MONOSPACE"}(gv||(gv={}));var oP="/";function rP(e,t=!1){let o,n="",i=0,r=-1,a=0;for(let s=0;s<=e.length;++s){if(s<e.length)o=e.charCodeAt(s);else{if(o===47)break;o=47}if(o===47){if(!(r===s-1||a===1))if(r!==s-1&&a===2){if(n.length<2||i!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){let c=n.lastIndexOf("/");if(c!==n.length-1){c===-1?(n="",i=0):(n=n.slice(0,c),i=n.length-1-n.lastIndexOf("/")),r=s,a=0;continue}}else if(n.length===2||n.length===1){n="",i=0,r=s,a=0;continue}}t&&(n.length>0?n+="/..":n="..",i=2)}else n.length>0?n+="/"+e.slice(r+1,s):n=e.slice(r+1,s),i=s-r-1;r=s,a=0}else o===46&&a!==-1?++a:a=-1}return n}function b2(...e){let t,o="",n=!1;for(let i=e.length-1;i>=-1&&!n;i--){let r;i>=0?r=e[i]:(t===void 0&&(t=oP),r=t),r.length!==0&&(o=r+"/"+o,n=r.charCodeAt(0)===47)}return o=rP(o,!n),n?o.length>0?"/"+o:"/":o.length>0?o:"."}function iP(e){if(e.length===0)return".";let t=e.charCodeAt(0),o=t===47,n=-1,i=!0;for(let r=e.length-1;r>=1;--r)if(t=e.charCodeAt(r),t===47){if(!i){n=r;break}}else i=!1;return n===-1?o?"/":".":o&&n===1?"//":e.slice(0,n)}function mA(e,t){return(e.startsWith(".")?b2(t,e):b2(e)).substring(1)}var Xf,Tv,fu,Th,Eo,du;function _v(e,t){return t.data?.$case==="json"?t.data.json:e.schema.deserialize(new so(t.data?.binary))}function aP(e,t){let o=e.getComponentOrNull(t.name);if(o)return o;if(t.name.startsWith("core::")){if(t.name in tv)return tv[t.name](e);throw new Error(`The core component ${t.name} was not found.`)}if(t.jsonSchema)return e.defineComponentFromSchema(t.name,kt.fromJson(t.jsonSchema));throw new Error(`${t.name} is not defined and there is no schema to define it.`)}function sP(e,t,o,{entityMapping:n}){let i=o.get(t);if(i)return i;if(n?.type===Xf.EMM_DIRECT_MAPPING){let a=n.getCompositeEntity(t);return o.set(t,a),a}let r=n?.type===Xf.EMM_NEXT_AVAILABLE?n.getNextAvailableEntity():e.addEntity();if(r===null)throw new Error("There is no more entities to allocate");return o.set(t,r),r}function hA(e,t,o,n){let{rootEntity:i,alreadyRequestedSrc:r,entityMapping:a}=n,s=r||new Set,c=iP(b2(t.src)),d=Da("core::Transform"),h=nP(e),g=new Map,A=x=>sP(e,x,g,n),v=i??A(0);i&&g.set(0,i);let S=t.composite.components.find(x=>x.name===h.componentName);if(S)for(let[x,k]of S.data){let j=mA(_v(h,k).src,c),Y=o.getCompositeOrNull(j),ie=A(x);if(Y){if(s.has(Y.src)||Y.src===t.src)throw new Error(`Composite ${t.src} has a recursive instanciation while try to instance ${Y.src}. Previous instances: ${s.toString()}`);hA(e,Y,o,{rootEntity:ie,alreadyRequestedSrc:new Set(s).add(Y.src),entityMapping:a?.type===Xf.EMM_NEXT_AVAILABLE?a:void 0})}}for(let x of t.composite.components){if(x.name===h.componentName)continue;let k=aP(e,x);for(let[j,Y]of x.data){let ie=_v(k,Y),ve=A(j),ae=k.create(ve,ie);if(k.componentId===d){let J=ae;J.parent?J.parent=A(J.parent):J.parent=A(0)}else kt.mutateNestedValues(k.schema.jsonSchema,ae,(J,ne)=>ne.serializationType==="entity"?{changed:!0,value:A(J)}:{changed:!1})}}let _=h.getMutableOrNull(v)||h.create(v);for(let[x,k]of g)_.entities.push({src:x,dest:k});return _.src=t.src,v}function cP(e){switch(e){case 0:case"NULL_VALUE":return 0;default:throw new yA.Error("Unrecognized enum value "+e+" for enum NullValue")}}function uP(e){if(e===0)return"NULL_VALUE";throw new yA.Error("Unrecognized enum value "+e+" for enum NullValue")}function Sv(){return{fields:new Map}}function lP(){return{key:"",value:void 0}}function bv(){return{kind:void 0}}function vv(){return{values:[]}}(function(e){e[e.EMM_NONE=0]="EMM_NONE",e[e.EMM_NEXT_AVAILABLE=1]="EMM_NEXT_AVAILABLE",e[e.EMM_DIRECT_MAPPING=2]="EMM_DIRECT_MAPPING"})(Xf||(Xf={})),function(e){e[e.NULL_VALUE=0]="NULL_VALUE"}(Tv||(Tv={})),function(e){e.encode=function(t,o=H.Writer.create()){return t.fields.forEach((n,i)=>{n!==void 0&&Th.encode({key:i,value:n},o.uint32(10).fork()).ldelim()}),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=Sv();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;let s=Th.decode(n,n.uint32());s.value!==void 0&&r.fields.set(s.key,s.value);continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r},e.fromJSON=function(t){return{fields:fP(t.fields)?Object.entries(t.fields).reduce((o,[n,i])=>(o.set(n,i),o),new Map):new Map}},e.toJSON=function(t){let o={fields:{}};return t.fields&&t.fields.forEach((n,i)=>{o.fields[i]=n}),o},e.wrap=function(t){let o=Sv();return t!==void 0&&Object.keys(t).forEach(n=>{o.fields.set(n,t[n])}),o},e.unwrap=function(t){let o={};return[...t.fields.keys()].forEach(n=>{o[n]=t.fields.get(n)}),o}}(fu||(fu={})),function(e){e.encode=function(t,o=H.Writer.create()){return t.key!==""&&o.uint32(10).string(t.key),t.value!==void 0&&Eo.encode(Eo.wrap(t.value),o.uint32(18).fork()).ldelim(),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=lP();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;r.key=n.string();continue;case 2:if(a!==18)break;r.value=Eo.unwrap(Eo.decode(n,n.uint32()));continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r},e.fromJSON=function(t){return{key:Ma(t.key)?String(t.key):"",value:Ma(t?.value)?t.value:void 0}},e.toJSON=function(t){let o={};return t.key!==void 0&&(o.key=t.key),t.value!==void 0&&(o.value=t.value),o}}(Th||(Th={})),function(e){e.encode=function(t,o=H.Writer.create()){switch(t.kind?.$case){case"nullValue":o.uint32(8).int32(t.kind.nullValue);break;case"numberValue":o.uint32(17).double(t.kind.numberValue);break;case"stringValue":o.uint32(26).string(t.kind.stringValue);break;case"boolValue":o.uint32(32).bool(t.kind.boolValue);break;case"structValue":fu.encode(fu.wrap(t.kind.structValue),o.uint32(42).fork()).ldelim();break;case"listValue":du.encode(du.wrap(t.kind.listValue),o.uint32(50).fork()).ldelim()}return o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=bv();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==8)break;r.kind={$case:"nullValue",nullValue:n.int32()};continue;case 2:if(a!==17)break;r.kind={$case:"numberValue",numberValue:n.double()};continue;case 3:if(a!==26)break;r.kind={$case:"stringValue",stringValue:n.string()};continue;case 4:if(a!==32)break;r.kind={$case:"boolValue",boolValue:n.bool()};continue;case 5:if(a!==42)break;r.kind={$case:"structValue",structValue:fu.unwrap(fu.decode(n,n.uint32()))};continue;case 6:if(a!==50)break;r.kind={$case:"listValue",listValue:du.unwrap(du.decode(n,n.uint32()))};continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r},e.fromJSON=function(t){return{kind:Ma(t.nullValue)?{$case:"nullValue",nullValue:cP(t.nullValue)}:Ma(t.numberValue)?{$case:"numberValue",numberValue:Number(t.numberValue)}:Ma(t.stringValue)?{$case:"stringValue",stringValue:String(t.stringValue)}:Ma(t.boolValue)?{$case:"boolValue",boolValue:!!t.boolValue}:Ma(t.structValue)?{$case:"structValue",structValue:t.structValue}:Ma(t.listValue)?{$case:"listValue",listValue:[...t.listValue]}:void 0}},e.toJSON=function(t){let o={};return t.kind?.$case==="nullValue"&&(o.nullValue=t.kind?.nullValue!==void 0?uP(t.kind?.nullValue):void 0),t.kind?.$case==="numberValue"&&(o.numberValue=t.kind?.numberValue),t.kind?.$case==="stringValue"&&(o.stringValue=t.kind?.stringValue),t.kind?.$case==="boolValue"&&(o.boolValue=t.kind?.boolValue),t.kind?.$case==="structValue"&&(o.structValue=t.kind?.structValue),t.kind?.$case==="listValue"&&(o.listValue=t.kind?.listValue),o},e.wrap=function(t){let o=bv();if(t===null)o.kind={$case:"nullValue",nullValue:0};else if(typeof t=="boolean")o.kind={$case:"boolValue",boolValue:t};else if(typeof t=="number")o.kind={$case:"numberValue",numberValue:t};else if(typeof t=="string")o.kind={$case:"stringValue",stringValue:t};else if(Array.isArray(t))o.kind={$case:"listValue",listValue:t};else if(typeof t=="object")o.kind={$case:"structValue",structValue:t};else if(t!==void 0)throw new Error("Unsupported any value type: "+typeof t);return o},e.unwrap=function(t){return t.kind?.$case==="nullValue"?null:t.kind?.$case==="numberValue"?t.kind?.numberValue:t.kind?.$case==="stringValue"?t.kind?.stringValue:t.kind?.$case==="boolValue"?t.kind?.boolValue:t.kind?.$case==="structValue"?t.kind?.structValue:t.kind?.$case==="listValue"?t.kind?.listValue:void 0}}(Eo||(Eo={})),function(e){e.encode=function(t,o=H.Writer.create()){for(let n of t.values)Eo.encode(Eo.wrap(n),o.uint32(10).fork()).ldelim();return o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=vv();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;r.values.push(Eo.unwrap(Eo.decode(n,n.uint32())));continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r},e.fromJSON=function(t){return{values:Array.isArray(t?.values)?[...t.values]:[]}},e.toJSON=function(t){let o={};return t.values?o.values=t.values.map(n=>n):o.values=[],o},e.wrap=function(t){let o=vv();return o.values=t??[],o},e.unwrap=function(t){return t?.hasOwnProperty("values")&&Array.isArray(t.values)?t.values:t}}(du||(du={}));var yA=(()=>{if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof global<"u")return global;throw"Unable to locate global object"})();function fP(e){return typeof e=="object"&&e!==null}function Ma(e){return e!=null}function dP(){return{data:void 0}}var Pa,pu,_h,xu;function pP(){return{name:"",jsonSchema:void 0,data:new Map}}function mP(){return{key:0,value:void 0}}function hP(){return{version:0,components:[]}}(function(e){e.encode=function(t,o=H.Writer.create()){switch(t.data?.$case){case"json":Eo.encode(Eo.wrap(t.data.json),o.uint32(10).fork()).ldelim();break;case"binary":o.uint32(18).bytes(t.data.binary)}return o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=dP();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;r.data={$case:"json",json:Eo.unwrap(Eo.decode(n,n.uint32()))};continue;case 2:if(a!==18)break;r.data={$case:"binary",binary:n.bytes()};continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r},e.fromJSON=function(t){return{data:ws(t.json)?{$case:"json",json:t.json}:ws(t.binary)?{$case:"binary",binary:yP(t.binary)}:void 0}},e.toJSON=function(t){let o={};return t.data?.$case==="json"&&(o.json=t.data?.json),t.data?.$case==="binary"&&(o.binary=t.data?.binary!==void 0?EP(t.data?.binary):void 0),o}})(Pa||(Pa={})),function(e){e.encode=function(t,o=H.Writer.create()){return t.name!==""&&o.uint32(10).string(t.name),t.jsonSchema!==void 0&&Eo.encode(Eo.wrap(t.jsonSchema),o.uint32(18).fork()).ldelim(),t.data.forEach((n,i)=>{_h.encode({key:i,value:n},o.uint32(26).fork()).ldelim()}),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=pP();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==10)break;r.name=n.string();continue;case 2:if(a!==18)break;r.jsonSchema=Eo.unwrap(Eo.decode(n,n.uint32()));continue;case 3:if(a!==26)break;let s=_h.decode(n,n.uint32());s.value!==void 0&&r.data.set(s.key,s.value);continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r},e.fromJSON=function(t){return{name:ws(t.name)?String(t.name):"",jsonSchema:ws(t?.jsonSchema)?t.jsonSchema:void 0,data:gP(t.data)?Object.entries(t.data).reduce((o,[n,i])=>(o.set(Number(n),Pa.fromJSON(i)),o),new Map):new Map}},e.toJSON=function(t){let o={};return t.name!==void 0&&(o.name=t.name),t.jsonSchema!==void 0&&(o.jsonSchema=t.jsonSchema),o.data={},t.data&&t.data.forEach((n,i)=>{o.data[i]=Pa.toJSON(n)}),o}}(pu||(pu={})),function(e){e.encode=function(t,o=H.Writer.create()){return t.key!==0&&o.uint32(8).int32(t.key),t.value!==void 0&&Pa.encode(t.value,o.uint32(18).fork()).ldelim(),o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=mP();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==8)break;r.key=n.int32();continue;case 2:if(a!==18)break;r.value=Pa.decode(n,n.uint32());continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r},e.fromJSON=function(t){return{key:ws(t.key)?Number(t.key):0,value:ws(t.value)?Pa.fromJSON(t.value):void 0}},e.toJSON=function(t){let o={};return t.key!==void 0&&(o.key=Math.round(t.key)),t.value!==void 0&&(o.value=t.value?Pa.toJSON(t.value):void 0),o}}(_h||(_h={})),function(e){e.encode=function(t,o=H.Writer.create()){t.version!==0&&o.uint32(8).int32(t.version);for(let n of t.components)pu.encode(n,o.uint32(18).fork()).ldelim();return o},e.decode=function(t,o){let n=t instanceof H.Reader?t:H.Reader.create(t),i=o===void 0?n.len:n.pos+o,r=hP();for(;n.pos<i;){let a=n.uint32();switch(a>>>3){case 1:if(a!==8)break;r.version=n.int32();continue;case 2:if(a!==18)break;r.components.push(pu.decode(n,n.uint32()));continue}if((7&a)==4||a===0)break;n.skipType(7&a)}return r},e.fromJSON=function(t){return{version:ws(t.version)?Number(t.version):0,components:Array.isArray(t?.components)?t.components.map(o=>pu.fromJSON(o)):[]}},e.toJSON=function(t){let o={};return t.version!==void 0&&(o.version=Math.round(t.version)),t.components?o.components=t.components.map(n=>n?pu.toJSON(n):void 0):o.components=[],o}}(xu||(xu={}));var Ou=(()=>{if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof global<"u")return global;throw"Unable to locate global object"})();function yP(e){if(Ou.Buffer)return Uint8Array.from(Ou.Buffer.from(e,"base64"));{let t=Ou.atob(e),o=new Uint8Array(t.length);for(let n=0;n<t.length;++n)o[n]=t.charCodeAt(n);return o}}function EP(e){if(Ou.Buffer)return Ou.Buffer.from(e).toString("base64");{let t=[];return e.forEach(o=>{t.push(String.fromCharCode(o))}),Ou.btoa(t.join(""))}}function gP(e){return typeof e=="object"&&e!==null}function ws(e){return e!=null}var Av;(function(e){e.fromJson=function(t){return xu.fromJSON(t)},e.fromBinary=function(t){return xu.decode(t)},e.toJson=function(t){return xu.toJSON(t)},e.toBinary=function(t){return xu.encode(t).finish()},e.instance=function(t,o,n,i={}){hA(t,o,n,i)},e.resolveAndNormalizePath=function(t,o="/"){return mA(t,o)}})(Av||(Av={}));var na=Vh(Ho),TP=wM(Ho),wv=xM(Ho);cA(Ho);var ri=sA(Ho),mu=1/2.2,hu=2.2,_P=1e-6,Sh=Math.PI/180,bh=360/(2*Math.PI),zn,ke,H1,ea,ln,xv,Ih,Wf,ao;function v2(e){let t=na.getOrNull(e);if(!t)return ke.Zero();let o=t.parent;return o?(na.get(o).rotation,ke.add(v2(o),ke.rotate(t.position,jh(o)))):t.position}function jh(e){let t=na.getOrNull(e);if(!t)return ln.Identity();let o=t.parent;return o?ln.multiply(t.rotation,jh(o)):t.rotation}function SP(e,t,o){let n=new Array,i=1/t,r=0;if(o){let a=e.length;for(let s=0;s<a;s++){r=0;for(let c=0;c<t;c++)n.push(ke.catmullRom(e[s%a],e[(s+1)%a],e[(s+2)%a],e[(s+3)%a],r)),r+=i}n.push(n[0])}else{let a=new Array;a.push(ke.clone(e[0])),Array.prototype.push.apply(a,e),a.push(ke.clone(e[e.length-1]));let s=0;for(;s<a.length-3;s++){r=0;for(let c=0;c<t;c++)n.push(ke.catmullRom(a[s],a[s+1],a[s+2],a[s+3],r)),r+=i}s--,n.push(ke.catmullRom(a[s],a[s+1],a[s+2],a[s+3],r))}return n}function bP(e,t,o,n){return e.x<=n.x&&t.x>=o.x&&e.y<=n.y&&t.y>=o.y&&e.z<=n.z&&t.z>=o.z}function vP(e,t,o,n){let i=t+n;return ke.distanceSquared(e,o)<i*i}function Iv(e,t,o,n){let i=0;return o.x<e.x&&(i+=(e.x-o.x)*(e.x-o.x)),o.x>t.x&&(i+=(o.x-t.x)*(o.x-t.x)),o.y<e.y&&(i+=(e.y-o.y)*(e.y-o.y)),o.y>t.y&&(i+=(o.y-t.y)*(o.y-t.y)),o.z<e.z&&(i+=(e.z-o.z)*(e.z-o.z)),o.z>t.z&&(i+=(o.z-t.z)*(o.z-t.z)),i<n*n}(function(e){function t(a){let s=+a;return s===0||isNaN(s)?s:s>0?1:-1}function o(a,s=0,c=1){return Math.min(c,Math.max(s,a))}function n(a,s){return a-Math.floor(a/s)*s}function i(a,s){let c=n(s-a,360);return c>180&&(c-=360),c}function r(a,s,c){let d=0;return d=Math.abs(s-a)<=c?s:a+t(s-a)*c,d}e.TwoPi=2*Math.PI,e.withinEpsilon=function(a,s,c=1401298e-51){let d=a-s;return-c<=d&&d<=c},e.toHex=function(a){let s=a.toString(16);return a<=15?("0"+s).toUpperCase():s.toUpperCase()},e.sign=t,e.clamp=o,e.log2=function(a){return Math.log(a)*Math.LOG2E},e.repeat=n,e.normalize=function(a,s,c){return(a-s)/(c-s)},e.denormalize=function(a,s,c){return a*(c-s)+s},e.deltaAngle=i,e.pingPong=function(a,s){let c=n(a,2*s);return s-Math.abs(c-s)},e.smoothStep=function(a,s,c){let d=o(c);return d=-2*d*d*d+3*d*d,s*d+a*(1-d)},e.moveTowards=r,e.moveTowardsAngle=function(a,s,c){let d=i(a,s),h=0;return h=-c<d&&d<c?s:r(a,a+d,c),h},e.lerp=function(a,s,c){return a+(s-a)*c},e.lerpAngle=function(a,s,c){let d=n(s-a,360);return d>180&&(d-=360),a+d*o(c)},e.inverseLerp=function(a,s,c){let d=0;return d=a!==s?o((c-a)/(s-a)):0,d},e.hermite=function(a,s,c,d,h){let g=h*h,A=h*g;return a*(2*A-3*g+1)+c*(-2*A+3*g)+s*(A-2*g+h)+d*(A-g)},e.randomRange=function(a,s){return a===s?a:Math.random()*(s-a)+a},e.rangeToPercent=function(a,s,c){return(a-s)/(c-s)},e.percentToRange=function(a,s,c){return(c-s)*a+s},e.normalizeRadians=function(a){return a-e.TwoPi*Math.floor((a+Math.PI)/e.TwoPi)}})(zn||(zn={})),function(e){function t(R=0,C=0,$=0){return{x:R,y:C,z:$}}function o(R,C){return{x:R.x+C.x,y:R.y+C.y,z:R.z+C.z}}function n(R,C){C.x=R.x,C.y=R.y,C.z=R.z}function i(R,C,$,Se){Se.x=R,Se.y=C,Se.z=$}function r(R){return t(R.x,R.y,R.z)}function a(R,C=0){return t(R[C],R[C+1],R[C+2])}function s(R,C,$){$.x=R[C],$.y=R[C+1],$.z=R[C+2]}function c(R){return Math.sqrt(R.x*R.x+R.y*R.y+R.z*R.z)}function d(R,C,$){$.x=R.x*C,$.y=R.y*C,$.z=R.z*C}function h(R,C){let $=t(0,0,0);return g(R,C,$),$}function g(R,C,$){C!==0&&C!==1?d(R,1/C,$):n(R,$)}function A(R){return h(R,c(R))}function v(R,C){return R.x*C.x+R.y*C.y+R.z*C.z}function S(R,C,$){let{x:Se,y:ye,z:we}=R,Re=C._m,Xe=1/(Re[3]*Se+Re[7]*ye+Re[11]*we+Re[15]);$.x=(Re[0]*Se+Re[4]*ye+Re[8]*we+Re[12])*Xe,$.y=(Re[1]*Se+Re[5]*ye+Re[9]*we+Re[13])*Xe,$.z=(Re[2]*Se+Re[6]*ye+Re[10]*we+Re[14])*Xe}function _(R,C,$){let{x:Se,y:ye,z:we}=R,{x:Re,y:Xe,z:it,w:mt}=C,ct=mt*Se+Xe*we-it*ye,yt=mt*ye+it*Se-Re*we,w=mt*we+Re*ye-Xe*Se,O=-Re*Se-Xe*ye-it*we;$.x=ct*mt+O*-Re+yt*-it-w*-Xe,$.y=yt*mt+O*-Xe+w*-Re-ct*-it,$.z=w*mt+O*-it+ct*-Xe-yt*-Re}function x(R,C,$,Se){Se.x=R.x+(C.x-R.x)*$,Se.y=R.y+(C.y-R.y)*$,Se.z=R.z+(C.z-R.z)*$}function k(R,C,$){$.x=R.y*C.z-R.z*C.y,$.y=R.z*C.x-R.x*C.z,$.z=R.x*C.y-R.y*C.x}function j(R,C,$){return Y(R.x,R.y,R.z,C,$)}function Y(R,C,$,Se,ye){let we=Se._m,Re=R*we[0]+C*we[4]+$*we[8]+we[12],Xe=R*we[1]+C*we[5]+$*we[9]+we[13],it=R*we[2]+C*we[6]+$*we[10]+we[14],mt=1/(R*we[3]+C*we[7]+$*we[11]+we[15]);ye.x=Re*mt,ye.y=Xe*mt,ye.z=it*mt}function ie(R,C,$){ve(R.x,R.y,R.z,C,$)}function ve(R,C,$,Se,ye){let we=Se._m;ye.x=R*we[0]+C*we[4]+$*we[8],ye.y=R*we[1]+C*we[5]+$*we[9],ye.z=R*we[2]+C*we[6]+$*we[10]}function ae(R,C,$,Se){let ye=R.x;ye=ye>$.x?$.x:ye,ye=ye<C.x?C.x:ye;let we=R.y;we=we>$.y?$.y:we,we=we<C.y?C.y:we;let Re=R.z;Re=Re>$.z?$.z:Re,Re=Re<C.z?C.z:Re,i(ye,we,Re,Se)}function J(R,C){let $=R.x-C.x,Se=R.y-C.y,ye=R.z-C.z;return $*$+Se*Se+ye*ye}function ne(R,C,$,Se){let ye=ln.create();ln.fromAxisToRotationQuaternionToRef(R,C,$,ye),n(ln.toEulerAngles(ye),Se)}function X(R,C,$){$.x=R.x*C.x,$.y=R.y*C.y,$.z=R.z*C.z}function Z(R,C,$,Se,ye){ye.x=R.x*C,ye.y=R.y*$,ye.z=R.z*Se}function q(R,C,$,Se,ye){C>R.x?ye.x=C:ye.x=R.x,$>R.y?ye.y=$:ye.y=R.y,Se>R.z?ye.z=Se:ye.z=R.z}function B(R,C,$,Se,ye){C<R.x?ye.x=C:ye.x=R.x,$<R.y?ye.y=$:ye.y=R.y,Se<R.z?ye.z=Se:ye.z=R.z}function ce(){return t(0,0,0)}e.isNonUniform=function(R){let C=Math.abs(R.x);return C!==Math.abs(R.y)||C!==Math.abs(R.z)},e.create=t,e.add=o,e.addToRef=function(R,C,$){$.x=R.x+C.x,$.y=R.y+C.y,$.z=R.z+C.z},e.subtract=function(R,C){return{x:R.x-C.x,y:R.y-C.y,z:R.z-C.z}},e.subtractToRef=function(R,C,$){$.x=R.x-C.x,$.y=R.y-C.y,$.z=R.z-C.z},e.subtractFromFloatsToRef=function(R,C,$,Se,ye){ye.x=R.x-C,ye.y=R.y-$,ye.z=R.z-Se},e.negate=function(R){return{x:-R.x,y:-R.y,z:-R.z}},e.copyFrom=n,e.copyFromFloats=i,e.clone=r,e.getClipFactor=function(R,C,$,Se){let ye=v(R,$)-Se;return ye/(ye-(v(C,$)-Se))},e.getAngleBetweenVectors=function(R,C,$){let Se=A(R),ye=A(C),we=v(Se,ye),Re=t();return k(Se,ye,Re),v(Re,$)>0?Math.acos(we):-Math.acos(we)},e.fromArray=a,e.fromFloatArray=function(R,C){return a(R,C)},e.fromArrayToRef=s,e.fromFloatArrayToRef=function(R,C,$){return s(R,C,$)},e.length=c,e.lengthSquared=function(R){return R.x*R.x+R.y*R.y+R.z*R.z},e.scaleToRef=d,e.scale=function(R,C){return t(R.x*C,R.y*C,R.z*C)},e.normalizeFromLength=h,e.normalizeFromLengthToRef=g,e.normalize=A,e.normalizeToRef=function(R,C){g(R,c(R),C)},e.dot=v,e.applyMatrix4=function(R,C){let $=r(R);return S(R,C,$),$},e.applyMatrix4ToRef=S,e.rotate=function(R,C){let $=t();return _(R,C,$),$},e.rotateToRef=_,e.lerp=function(R,C,$){let Se=t(0,0,0);return x(R,C,$,Se),Se},e.lerpToRef=x,e.cross=function(R,C){let $=ce();return k(R,C,$),$},e.crossToRef=k,e.transformCoordinates=function(R,C){let $=ce();return j(R,C,$),$},e.transformCoordinatesToRef=j,e.transformCoordinatesFromFloatsToRef=Y,e.transformNormal=function(R,C){let $=ce();return ie(R,C,$),$},e.transformNormalToRef=ie,e.transformNormalFromFloatsToRef=ve,e.catmullRom=function(R,C,$,Se,ye){let we=ye*ye,Re=ye*we;return t(.5*(2*C.x+(-R.x+$.x)*ye+(2*R.x-5*C.x+4*$.x-Se.x)*we+(-R.x+3*C.x-3*$.x+Se.x)*Re),.5*(2*C.y+(-R.y+$.y)*ye+(2*R.y-5*C.y+4*$.y-Se.y)*we+(-R.y+3*C.y-3*$.y+Se.y)*Re),.5*(2*C.z+(-R.z+$.z)*ye+(2*R.z-5*C.z+4*$.z-Se.z)*we+(-R.z+3*C.z-3*$.z+Se.z)*Re))},e.clamp=function(R,C,$){let Se=t();return ae(R,C,$,Se),Se},e.clampToRef=ae,e.hermite=function(R,C,$,Se,ye){let we=ye*ye,Re=ye*we,Xe=2*Re-3*we+1,it=-2*Re+3*we,mt=Re-2*we+ye,ct=Re-we;return t(R.x*Xe+$.x*it+C.x*mt+Se.x*ct,R.y*Xe+$.y*it+C.y*mt+Se.y*ct,R.z*Xe+$.z*it+C.z*mt+Se.z*ct)},e.minimize=function(R,C){let $=t();return B(C,R.x,R.y,R.z,$),$},e.maximize=function(R,C){let $=t();return q(R,C.x,C.y,C.z,$),$},e.distance=function(R,C){return Math.sqrt(J(R,C))},e.distanceSquared=J,e.center=function(R,C){let $=o(R,C);return d($,.5,$),$},e.rotationFromAxis=function(R,C,$){let Se=ce();return ne(R,C,$,Se),Se},e.rotationFromAxisToRef=ne,e.toString=function(R){return`(${R.x}, ${R.y}, ${R.z})`},e.getHashCode=function(R){let C=R.x||0;return C=397*C^(R.y||0),C=397*C^(R.z||0),C},e.equals=function(R,C){return R.x===C.x&&R.y===C.y&&R.z===C.z},e.equalsWithEpsilon=function(R,C,$=_P){return zn.withinEpsilon(R.x,C.x,$)&&zn.withinEpsilon(R.y,C.y,$)&&zn.withinEpsilon(R.z,C.z,$)},e.equalsToFloats=function(R,C,$,Se){return R.x===C&&R.y===$&&R.z===Se},e.multiply=function(R,C){let $=t();return X(R,C,$),$},e.multiplyToRef=X,e.multiplyByFloatsToRef=Z,e.multiplyByFloats=function(R,C,$,Se){let ye=t();return Z(R,C,$,Se,ye),ye},e.divide=function(R,C){return{x:R.x/C.x,y:R.y/C.y,z:R.z/C.z}},e.divideToRef=function(R,C,$){$.x=R.x/C.x,$.y=R.y/C.y,$.z=R.z/C.z},e.maximizeInPlaceFromFloatsToRef=q,e.minimizeInPlaceFromFloatsToRef=B,e.floor=function(R){return t(Math.floor(R.x),Math.floor(R.y),Math.floor(R.z))},e.fract=function(R){return t(R.x-Math.floor(R.x),R.y-Math.floor(R.y),R.z-Math.floor(R.z))},e.Zero=ce,e.One=function(){return t(1,1,1)},e.Up=function(){return t(0,1,0)},e.Down=function(){return t(0,-1,0)},e.Forward=function(){return t(0,0,1)},e.Backward=function(){return t(0,0,-1)},e.Right=function(){return t(1,0,0)},e.Left=function(){return t(-1,0,0)},e.Random=function(){return t(Math.random(),Math.random(),Math.random())}}(ke||(ke={})),function(e){function t(o,n,i,r){return{normal:ke.create(o,n,i),d:r}}e.create=t,e.fromArray=function(o){return t(o[0],o[1],o[2],o[3])},e.fromPoints=function(o,n,i){return t(0,0,0,0)},e.romPositionAndNormal=function(o,n){let i=t(0,0,0,0);return i.normal=ke.normalize(n),i.d=-(n.x*o.x+n.y*o.y+n.z*o.z),i},e.signedDistanceToPlaneFromPositionAndNormal=function(o,n,i){let r=-(n.x*o.x+n.y*o.y+n.z*o.z);return ke.dot(i,n)+r},e.asArray=function(o){return[o.normal.x,o.normal.y,o.normal.z,o.d]},e.clone=function(o){return t(o.normal.x,o.normal.y,o.normal.z,o.d)},e.getHashCode=function(o){return 0},e.normalize=function(o){let n=t(0,0,0,0),i=Math.sqrt(o.normal.x*o.normal.x+o.normal.y*o.normal.y+o.normal.z*o.normal.z),r=0;return i!==0&&(r=1/i),n.normal.x=o.normal.x*r,n.normal.y=o.normal.y*r,n.normal.z=o.normal.z*r,n.d*=r,o},e.transform=function(o,n){let i=ea.create();ea.transposeToRef(n,i);let r=i._m,a=o.normal.x,s=o.normal.y,c=o.normal.z,d=o.d;return t(a*r[0]+s*r[1]+c*r[2]+d*r[3],a*r[4]+s*r[5]+c*r[6]+d*r[7],a*r[8]+s*r[9]+c*r[10]+d*r[11],a*r[12]+s*r[13]+c*r[14]+d*r[15])},e.dotCoordinate=function(o,n){return o.normal.x*n.x+o.normal.y*n.y+o.normal.z*n.z+o.d},e.copyFromPoints=function(o,n,i){let r=n.x-o.x,a=n.y-o.y,s=n.z-o.z,c=i.x-o.x,d=i.y-o.y,h=i.z-o.z,g=a*h-s*d,A=s*c-r*h,v=r*d-a*c,S=Math.sqrt(g*g+A*A+v*v),_;_=S!==0?1/S:0;let x=ke.create(g*_,A*_,v*_);return{normal:x,d:-(x.x*o.x+x.y*o.y+x.z*o.z)}},e.isFrontFacingTo=function(o,n,i){return ke.dot(o.normal,n)<=i},e.signedDistanceTo=function(o,n){return ke.dot(n,o.normal)+o.d}}(H1||(H1={})),function(e){e.m=function(w){return w._m};let t=0,o={};function n(){let w={updateFlag:0,isIdentity:!1,isIdentity3x2:!0,_isIdentityDirty:!0,_isIdentity3x2Dirty:!0,_m:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};return yt(w,!1),w}function i(w,O,P){for(let I=0;I<16;I++)P._m[I]=w[I+O];B(P)}function r(w,O,P,I,z,oe,fe,Oe,Ye,dt,pt,Rt,at,zt,Nt,Kt,lt){let Ze=lt._m;Ze[0]=w,Ze[1]=O,Ze[2]=P,Ze[3]=I,Ze[4]=z,Ze[5]=oe,Ze[6]=fe,Ze[7]=Oe,Ze[8]=Ye,Ze[9]=dt,Ze[10]=pt,Ze[11]=Rt,Ze[12]=at,Ze[13]=zt,Ze[14]=Nt,Ze[15]=Kt,B(lt)}function a(w,O,P,I,z,oe,fe,Oe,Ye,dt,pt,Rt,at,zt,Nt,Kt){let lt=n(),Ze=lt._m;return Ze[0]=w,Ze[1]=O,Ze[2]=P,Ze[3]=I,Ze[4]=z,Ze[5]=oe,Ze[6]=fe,Ze[7]=Oe,Ze[8]=Ye,Ze[9]=dt,Ze[10]=pt,Ze[11]=Rt,Ze[12]=at,Ze[13]=zt,Ze[14]=Nt,Ze[15]=Kt,B(lt),lt}function s(w,O,P,I){let z=[n(),n(),n()];S(w.x,w.y,w.z,z[1]),q(O,z[0]),Re(z[1],z[0],I),Se(I,P)}function c(){let w=a(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return yt(w,!0),w}function d(w,O){let P=Math.sin(w),I=Math.cos(w);r(1,0,0,0,0,I,P,0,0,-P,I,0,0,0,0,1,O),yt(O,I===1&&P===0)}function h(w,O){let P=Math.sin(w),I=Math.cos(w);r(I,0,-P,0,0,1,0,0,P,0,I,0,0,0,0,1,O),yt(O,I===1&&P===0)}function g(w,O){let P=Math.sin(w),I=Math.cos(w);r(I,P,0,0,-P,I,0,0,0,0,1,0,0,0,0,1,O),yt(O,I===1&&P===0)}function A(w,O,P){let I=Math.sin(-O),z=Math.cos(-O),oe=1-z,fe=ke.normalize(w),Oe=P._m;Oe[0]=fe.x*fe.x*oe+z,Oe[1]=fe.x*fe.y*oe-fe.z*I,Oe[2]=fe.x*fe.z*oe+fe.y*I,Oe[3]=0,Oe[4]=fe.y*fe.x*oe+fe.z*I,Oe[5]=fe.y*fe.y*oe+z,Oe[6]=fe.y*fe.z*oe-fe.x*I,Oe[7]=0,Oe[8]=fe.z*fe.x*oe-fe.y*I,Oe[9]=fe.z*fe.y*oe+fe.x*I,Oe[10]=fe.z*fe.z*oe+z,Oe[11]=0,Oe[12]=0,Oe[13]=0,Oe[14]=0,Oe[15]=1,B(P)}function v(w,O,P,I){let z=ln.Zero();ln.fromRotationYawPitchRollToRef(w,O,P,z),q(z,I)}function S(w,O,P,I){r(w,0,0,0,0,O,0,0,0,0,P,0,0,0,0,1,I),yt(I,w===1&&O===1&&P===1)}function _(w,O,P,I){r(1,0,0,0,0,1,0,0,0,0,1,0,w,O,P,1,I),yt(I,w===0&&O===0&&P===0)}function x(w,O,P,I){for(let z=0;z<16;z++)I._m[z]=w._m[z]*(1-P)+O._m[z]*P;B(I)}function k(w,O,P,I){let z=ke.Zero(),oe=ln.Zero(),fe=ke.Zero();it(w,z,oe,fe);let Oe=ke.Zero(),Ye=ln.Zero(),dt=ke.Zero();it(O,Oe,Ye,dt);let pt=ke.Zero();ke.lerpToRef(z,Oe,P,pt);let Rt=ln.Zero();ln.slerpToRef(oe,Ye,P,Rt);let at=ke.Zero();ke.lerpToRef(fe,dt,P,at),s(pt,Rt,at,I)}function j(w,O,P,I){let z=ke.Zero(),oe=ke.Zero(),fe=ke.Zero();ke.subtractToRef(O,w,fe),ke.normalizeToRef(fe,fe),ke.crossToRef(P,fe,z);let Oe=ke.lengthSquared(z);Oe===0?z.x=1:ke.normalizeFromLengthToRef(z,Math.sqrt(Oe),z),ke.crossToRef(fe,z,oe),ke.normalizeToRef(oe,oe);let Ye=-ke.dot(z,w),dt=-ke.dot(oe,w),pt=-ke.dot(fe,w);r(z.x,oe.x,fe.x,0,z.y,oe.y,fe.y,0,z.z,oe.z,fe.z,0,Ye,dt,pt,1,I)}function Y(w,O,P,I){let z=ke.Zero(),oe=ke.Zero(),fe=ke.Zero();ke.subtractToRef(w,O,fe),ke.normalizeToRef(fe,fe),ke.crossToRef(P,fe,z);let Oe=ke.lengthSquared(z);Oe===0?z.x=1:ke.normalizeFromLengthToRef(z,Math.sqrt(Oe),z),ke.crossToRef(fe,z,oe),ke.normalizeToRef(oe,oe);let Ye=-ke.dot(z,w),dt=-ke.dot(oe,w),pt=-ke.dot(fe,w);r(z.x,oe.x,fe.x,0,z.y,oe.y,fe.y,0,z.z,oe.z,fe.z,0,Ye,dt,pt,1,I)}function ie(w,O,P,I,z){let oe=2/w,fe=2/O,Oe=2/(I-P),Ye=-(I+P)/(I-P);r(oe,0,0,0,0,fe,0,0,0,0,Oe,0,0,0,Ye,1,z),yt(z,oe===1&&fe===1&&Oe===1&&Ye===0)}function ve(w,O,P,I,z,oe,fe){r(2/(O-w),0,0,0,0,2/(I-P),0,0,0,0,2/(oe-z),0,(w+O)/(w-O),(I+P)/(P-I),-(oe+z)/(oe-z),1,fe),B(fe)}function ae(w,O,P,I,z,oe,fe){ve(w,O,P,I,z,oe,fe),fe._m[10]*=-1}function J(w,O,P,I,z,oe=!0){let fe=P,Oe=I,Ye=1/Math.tan(.5*w);r(oe?Ye/O:Ye,0,0,0,0,oe?Ye:Ye*O,0,0,0,0,(Oe+fe)/(Oe-fe),1,0,0,-2*Oe*fe/(Oe-fe),0,z),yt(z,!1)}function ne(w,O,P,I,z,oe=!0){let fe=P,Oe=I,Ye=1/Math.tan(.5*w);r(oe?Ye/O:Ye,0,0,0,0,oe?Ye:Ye*O,0,0,0,0,-(Oe+fe)/(Oe-fe),-1,0,0,-2*Oe*fe/(Oe-fe),0,z),yt(z,!1)}function X(w,O){let P=O._m,I=w._m;P[0]=I[0],P[1]=I[4],P[2]=I[8],P[3]=I[12],P[4]=I[1],P[5]=I[5],P[6]=I[9],P[7]=I[13],P[8]=I[2],P[9]=I[6],P[10]=I[10],P[11]=I[14],P[12]=I[3],P[13]=I[7],P[14]=I[11],P[15]=I[15],yt(O,w.isIdentity,w._isIdentityDirty)}function Z(w,O){let P=H1.normalize(w),I=P.normal.x,z=P.normal.y,oe=P.normal.z,fe=-2*I,Oe=-2*z,Ye=-2*oe;r(fe*I+1,Oe*I,Ye*I,0,fe*z,Oe*z+1,Ye*z,0,fe*oe,Oe*oe,Ye*oe+1,0,fe*P.d,Oe*P.d,Ye*P.d,1,O)}function q(w,O){let P=w.x*w.x,I=w.y*w.y,z=w.z*w.z,oe=w.x*w.y,fe=w.z*w.w,Oe=w.z*w.x,Ye=w.y*w.w,dt=w.y*w.z,pt=w.x*w.w;O._m[0]=1-2*(I+z),O._m[1]=2*(oe+fe),O._m[2]=2*(Oe-Ye),O._m[3]=0,O._m[4]=2*(oe-fe),O._m[5]=1-2*(z+P),O._m[6]=2*(dt+pt),O._m[7]=0,O._m[8]=2*(Oe+Ye),O._m[9]=2*(dt-pt),O._m[10]=1-2*(I+P),O._m[11]=0,O._m[12]=0,O._m[13]=0,O._m[14]=0,O._m[15]=1,B(O)}function B(w){w.updateFlag=t++,w.isIdentity=!1,w.isIdentity3x2=!1,w._isIdentityDirty=!0,w._isIdentity3x2Dirty=!0}function ce(w){if(w.isIdentity===!0)return 1;let O=w._m,P=O[0],I=O[1],z=O[2],oe=O[3],fe=O[4],Oe=O[5],Ye=O[6],dt=O[7],pt=O[8],Rt=O[9],at=O[10],zt=O[11],Nt=O[12],Kt=O[13],lt=O[14],Ze=O[15],tn=at*Ze-lt*zt,fn=Rt*Ze-Kt*zt,Dn=Rt*lt-Kt*at,An=pt*Ze-Nt*zt,gn=pt*lt-at*Nt,wn=pt*Kt-Nt*Rt;return P*+(Oe*tn-Ye*fn+dt*Dn)+I*-(fe*tn-Ye*An+dt*gn)+z*+(fe*fn-Oe*An+dt*wn)+oe*-(fe*Dn-Oe*gn+Ye*wn)}function R(w,O,P){for(let I=0;I<16;I++)P._m[I]=w._m[I]+O._m[I];B(P)}function C(w,O){if(w.isIdentity===!0)return void ye(w,O);let P=w._m,I=P[0],z=P[1],oe=P[2],fe=P[3],Oe=P[4],Ye=P[5],dt=P[6],pt=P[7],Rt=P[8],at=P[9],zt=P[10],Nt=P[11],Kt=P[12],lt=P[13],Ze=P[14],tn=P[15],fn=zt*tn-Ze*Nt,Dn=at*tn-lt*Nt,An=at*Ze-lt*zt,gn=Rt*tn-Kt*Nt,wn=Rt*Ze-zt*Kt,Jn=Rt*lt-Kt*at,Fn=+(Ye*fn-dt*Dn+pt*An),_o=-(Oe*fn-dt*gn+pt*wn),Tn=+(Oe*Dn-Ye*gn+pt*Jn),So=-(Oe*An-Ye*wn+dt*Jn),bo=I*Fn+z*_o+oe*Tn+fe*So;if(bo===0)return void ye(w,O);let Ft=1/bo,Qn=dt*tn-Ze*pt,Zn=Ye*tn-lt*pt,eo=Ye*Ze-lt*dt,V=Oe*tn-Kt*pt,K=Oe*Ze-Kt*dt,ue=Oe*lt-Kt*Ye,Le=dt*Nt-zt*pt,ze=Ye*Nt-at*pt,je=Ye*zt-at*dt,nt=Oe*Nt-Rt*pt,bt=Oe*zt-Rt*dt,G=Oe*at-Rt*Ye;r(Fn*Ft,-(z*fn-oe*Dn+fe*An)*Ft,+(z*Qn-oe*Zn+fe*eo)*Ft,-(z*Le-oe*ze+fe*je)*Ft,_o*Ft,+(I*fn-oe*gn+fe*wn)*Ft,-(I*Qn-oe*V+fe*K)*Ft,+(I*Le-oe*nt+fe*bt)*Ft,Tn*Ft,-(I*Dn-z*gn+fe*Jn)*Ft,+(I*Zn-z*V+fe*ue)*Ft,-(I*ze-z*nt+fe*G)*Ft,So*Ft,+(I*An-z*wn+oe*Jn)*Ft,-(I*eo-z*K+oe*ue)*Ft,+(I*je-z*bt+oe*G)*Ft,O)}function $(w,O,P,I){w._m[12]=O,w._m[13]=P,w._m[14]=I,B(w)}function Se(w,O){$(w,O.x,O.y,O.z)}function ye(w,O){we(w,O._m),yt(O,w.isIdentity,w._isIdentityDirty,w.isIdentity3x2,w._isIdentity3x2Dirty)}function we(w,O,P=0){for(let I=0;I<16;I++)O[P+I]=w._m[I]}function Re(w,O,P){w.isIdentity?ye(O,P):O.isIdentity?ye(w,P):(Xe(w,O,P._m,0),B(P))}function Xe(w,O,P,I){let z=w._m,oe=O._m,fe=z[0],Oe=z[1],Ye=z[2],dt=z[3],pt=z[4],Rt=z[5],at=z[6],zt=z[7],Nt=z[8],Kt=z[9],lt=z[10],Ze=z[11],tn=z[12],fn=z[13],Dn=z[14],An=z[15],gn=oe[0],wn=oe[1],Jn=oe[2],Fn=oe[3],_o=oe[4],Tn=oe[5],So=oe[6],bo=oe[7],Ft=oe[8],Qn=oe[9],Zn=oe[10],eo=oe[11],V=oe[12],K=oe[13],ue=oe[14],Le=oe[15];P[I]=fe*gn+Oe*_o+Ye*Ft+dt*V,P[I+1]=fe*wn+Oe*Tn+Ye*Qn+dt*K,P[I+2]=fe*Jn+Oe*So+Ye*Zn+dt*ue,P[I+3]=fe*Fn+Oe*bo+Ye*eo+dt*Le,P[I+4]=pt*gn+Rt*_o+at*Ft+zt*V,P[I+5]=pt*wn+Rt*Tn+at*Qn+zt*K,P[I+6]=pt*Jn+Rt*So+at*Zn+zt*ue,P[I+7]=pt*Fn+Rt*bo+at*eo+zt*Le,P[I+8]=Nt*gn+Kt*_o+lt*Ft+Ze*V,P[I+9]=Nt*wn+Kt*Tn+lt*Qn+Ze*K,P[I+10]=Nt*Jn+Kt*So+lt*Zn+Ze*ue,P[I+11]=Nt*Fn+Kt*bo+lt*eo+Ze*Le,P[I+12]=tn*gn+fn*_o+Dn*Ft+An*V,P[I+13]=tn*wn+fn*Tn+Dn*Qn+An*K,P[I+14]=tn*Jn+fn*So+Dn*Zn+An*ue,P[I+15]=tn*Fn+fn*bo+Dn*eo+An*Le}function it(w,O,P,I){if(w.isIdentity)return I&&(I.x=0,I.y=0,I.z=0),O&&(O.x=1,O.y=1,O.z=1),P&&(P.w=1,P.x=0,P.y=0,P.z=0),!0;let z=w._m;I&&(I.x=z[12],I.y=z[13],I.z=z[14]);let oe=O||ke.Zero();if(oe.x=Math.sqrt(z[0]*z[0]+z[1]*z[1]+z[2]*z[2]),oe.y=Math.sqrt(z[4]*z[4]+z[5]*z[5]+z[6]*z[6]),oe.z=Math.sqrt(z[8]*z[8]+z[9]*z[9]+z[10]*z[10]),ce(w)<=0&&(oe.y*=-1),oe.x===0||oe.y===0||oe.z===0)return P&&(P.w=1,P.x=0,P.y=0,P.z=0),!1;if(P){let fe=1/oe.x,Oe=1/oe.y,Ye=1/oe.z,dt=n();r(z[0]*fe,z[1]*fe,z[2]*fe,0,z[4]*Oe,z[5]*Oe,z[6]*Oe,0,z[8]*Ye,z[9]*Ye,z[10]*Ye,0,0,0,0,1,dt),ln.fromRotationMatrixToRef(dt,P)}return!0}function mt(w,O,P){for(let I=0;I<16;I++)P._m[I]=w._m[I]*O;B(P)}function ct(w,O){let P=ke.Zero();if(!it(w,P))return void(O=c());let I=w._m,z=1/P.x,oe=1/P.y,fe=1/P.z;r(I[0]*z,I[1]*z,I[2]*z,0,I[4]*oe,I[5]*oe,I[6]*oe,0,I[8]*fe,I[9]*fe,I[10]*fe,0,0,0,0,1,O)}function yt(w,O,P=!1,I=!1,z=!0){w.updateFlag=t++,w.isIdentity=O,w.isIdentity3x2=O||I,w._isIdentityDirty=!w.isIdentity&&P,w._isIdentity3x2Dirty=!w.isIdentity3x2&&z}e.IdentityReadonly=function(){return o},e.create=n,e.fromArray=function(w,O=0){let P=n();return i(w,O,P),P},e.fromArrayToRef=i,e.fromFloatArrayToRefScaled=function(w,O,P,I){for(let z=0;z<16;z++)I._m[z]=w[z+O]*P;B(I)},e.fromValuesToRef=r,e.fromValues=a,e.compose=function(w,O,P){let I=n();return s(w,O,P,I),I},e.composeToRef=s,e.Identity=c,e.IdentityToRef=function(w){r(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,w),yt(w,!0)},e.Zero=function(){let w=a(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);return yt(w,!1),w},e.RotationX=function(w){let O=n();return d(w,O),O},e.rotationXToRef=d,e.rotationY=function(w){let O=n();return h(w,O),O},e.rotationYToRef=h,e.rotationZ=function(w){let O=n();return g(w,O),O},e.rotationZToRef=g,e.rotationAxis=function(w,O){let P=n();return A(w,O,P),P},e.rotationAxisToRef=A,e.rotationYawPitchRoll=function(w,O,P){let I=n();return v(w,O,P,I),I},e.rotationYawPitchRollToRef=v,e.scaling=function(w,O,P){let I=n();return S(w,O,P,I),I},e.scalingToRef=S,e.translation=function(w,O,P){let I=n();return _(w,O,P,I),I},e.translationToRef=_,e.lerp=function(w,O,P){let I=n();return x(w,O,P,I),I},e.lerpToRef=x,e.decomposeLerp=function(w,O,P){let I=n();return k(w,O,P,I),I},e.decomposeLerpToRef=k,e.LookAtLH=function(w,O,P){let I=n();return j(w,O,P,I),I},e.lookAtLHToRef=j,e.lookAtRH=function(w,O,P){let I=n();return Y(w,O,P,I),I},e.lookAtRHToRef=Y,e.orthoLH=function(w,O,P,I){let z=n();return ie(w,O,P,I,z),z},e.orthoLHToRef=ie,e.OrthoOffCenterLH=function(w,O,P,I,z,oe){let fe=n();return ve(w,O,P,I,z,oe,fe),fe},e.orthoOffCenterLHToRef=ve,e.orthoOffCenterRH=function(w,O,P,I,z,oe){let fe=n();return ae(w,O,P,I,z,oe,fe),fe},e.orthoOffCenterRHToRef=ae,e.perspectiveLH=function(w,O,P,I){let z=n();return r(2*P/w,0,0,0,0,2*P/O,0,0,0,0,(I+P)/(I-P),1,0,0,-2*I*P/(I-P),0,z),yt(z,!1),z},e.perspectiveFovLH=function(w,O,P,I){let z=n();return J(w,O,P,I,z),z},e.perspectiveFovLHToRef=J,e.PerspectiveFovRH=function(w,O,P,I){let z=n();return ne(w,O,P,I,z),z},e.perspectiveFovRHToRef=ne,e.perspectiveFovWebVRToRef=function(w,O,P,I,z=!1){let oe=z?-1:1,fe=Math.tan(w.upDegrees*Math.PI/180),Oe=Math.tan(w.downDegrees*Math.PI/180),Ye=Math.tan(w.leftDegrees*Math.PI/180),dt=Math.tan(w.rightDegrees*Math.PI/180),pt=2/(Ye+dt),Rt=2/(fe+Oe),at=I._m;at[0]=pt,at[1]=at[2]=at[3]=at[4]=0,at[5]=Rt,at[6]=at[7]=0,at[8]=(Ye-dt)*pt*.5,at[9]=-(fe-Oe)*Rt*.5,at[10]=-P/(O-P),at[11]=1*oe,at[12]=at[13]=at[15]=0,at[14]=-2*P*O/(P-O),B(I)},e.GetAsMatrix2x2=function(w){return[w._m[0],w._m[1],w._m[4],w._m[5]]},e.GetAsMatrix3x3=function(w){return[w._m[0],w._m[1],w._m[2],w._m[4],w._m[5],w._m[6],w._m[8],w._m[9],w._m[10]]},e.transpose=function(w){let O=n();return X(w,O),O},e.transposeToRef=X,e.reflection=function(w){let O=n();return Z(w,O),O},e.reflectionToRef=Z,e.fromXYZAxesToRef=function(w,O,P,I){r(w.x,w.y,w.z,0,O.x,O.y,O.z,0,P.x,P.y,P.z,0,0,0,0,1,I)},e.fromQuaternionToRef=q,e.isIdentityUpdate=function(w){if(w._isIdentityDirty){w._isIdentityDirty=!1;let O=w._m;w.isIdentity=O[0]===1&&O[1]===0&&O[2]===0&&O[3]===0&&O[4]===0&&O[5]===1&&O[6]===0&&O[7]===0&&O[8]===0&&O[9]===0&&O[10]===1&&O[11]===0&&O[12]===0&&O[13]===0&&O[14]===0&&O[15]===1}return w.isIdentity},e.isIdentityAs3x2Update=function(w){return w._isIdentity3x2Dirty&&(w._isIdentity3x2Dirty=!1,w._m[0]!==1||w._m[5]!==1||w._m[15]!==1||w._m[1]!==0||w._m[2]!==0||w._m[3]!==0||w._m[4]!==0||w._m[6]!==0||w._m[7]!==0||w._m[8]!==0||w._m[9]!==0||w._m[10]!==0||w._m[11]!==0||w._m[12]!==0||w._m[13]!==0||w._m[14]!==0?w.isIdentity3x2=!1:w.isIdentity3x2=!0),w.isIdentity3x2},e.determinant=ce,e.toArray=function(w){return w._m},e.asArray=function(w){return w._m},e.reset=function(w){r(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,w),yt(w,!1)},e.add=function(w,O){let P=n();return R(w,O,P),P},e.addToRef=R,e.addToSelf=function(w,O){for(let P=0;P<16;P++)w._m[P]+=O._m[P];B(w)},e.invert=function(w){let O=n();return C(w,O),O},e.invertToRef=C,e.addAtIndex=function(w,O,P){w._m[O]+=P,B(w)},e.multiplyAtIndex=function(w,O,P){return w._m[O]*=P,B(w),w},e.setTranslationFromFloats=$,e.setTranslation=Se,e.getTranslation=function(w){return ke.create(w._m[12],w._m[13],w._m[14])},e.getTranslationToRef=function(w,O){O.x=w._m[12],O.y=w._m[13],O.z=w._m[14]},e.removeRotationAndScaling=function(w){let O=w._m;return r(1,0,0,0,0,1,0,0,0,0,1,0,O[12],O[13],O[14],O[15],w),yt(w,O[12]===0&&O[13]===0&&O[14]===0&&O[15]===1),w},e.multiply=function(w,O){let P=n();return Re(w,O,P),P},e.copy=ye,e.copyToArray=we,e.multiplyToRef=Re,e.multiplyToArray=Xe,e.equals=function(w,O){let P=O;if(!P)return!1;if((w.isIdentity||P.isIdentity)&&!w._isIdentityDirty&&!P._isIdentityDirty)return w.isIdentity&&P.isIdentity;let I=w._m,z=P._m;return I[0]===z[0]&&I[1]===z[1]&&I[2]===z[2]&&I[3]===z[3]&&I[4]===z[4]&&I[5]===z[5]&&I[6]===z[6]&&I[7]===z[7]&&I[8]===z[8]&&I[9]===z[9]&&I[10]===z[10]&&I[11]===z[11]&&I[12]===z[12]&&I[13]===z[13]&&I[14]===z[14]&&I[15]===z[15]},e.clone=function(w){let O=n();return ye(w,O),O},e.getHashCode=function(w){let O=w._m[0]||0;for(let P=1;P<16;P++)O=397*O^(w._m[P]||0);return O},e.decompose=it,e.setRowFromFloats=function(w,O,P,I,z,oe){if(O<0||O>3)return;let fe=4*O;w._m[fe+0]=P,w._m[fe+1]=I,w._m[fe+2]=z,w._m[fe+3]=oe,B(w)},e.scale=function(w,O){let P=n();return mt(w,O,P),P},e.scaleToRef=mt,e.scaleAndAddToRef=function(w,O,P){for(let I=0;I<16;I++)P._m[I]+=w._m[I]*O;B(P)},e.normalMatrixToRef=function(w,O){let P=n();C(w,P),X(P,O);let I=O._m;r(I[0],I[1],I[2],0,I[4],I[5],I[6],0,I[8],I[9],I[10],0,0,0,0,1,O)},e.getRotationMatrix=function(w){let O=n();return ct(w,O),O},e.getRotationMatrixToRef=ct,e.toggleModelMatrixHandInPlace=function(w){w._m[2]*=-1,w._m[6]*=-1,w._m[8]*=-1,w._m[9]*=-1,w._m[14]*=-1,B(w)},e.toggleProjectionMatrixHandInPlace=function(w){w._m[8]*=-1,w._m[9]*=-1,w._m[10]*=-1,w._m[11]*=-1,B(w)}}(ea||(ea={})),function(e){function t(v=0,S=0,_=0,x=1){return{x:v,y:S,z:_,w:x}}function o(v,S,_){let x=.5*S,k=.5*v,j=.5*_,Y=Math.cos(x),ie=Math.cos(k),ve=Math.cos(j),ae=Math.sin(x),J=Math.sin(k),ne=Math.sin(j);return t(ie*ae*ve+J*Y*ne,J*Y*ve-ie*ae*ne,ie*Y*ne-J*ae*ve,ie*Y*ve+J*ae*ne)}function n(v){return Math.sqrt(i(v))}function i(v){return v.x*v.x+v.y*v.y+v.z*v.z+v.w*v.w}function r(v,S){return v.x*S.x+v.y*S.y+v.z*S.z+v.w*S.w}function a(v,S){let _=r(v,S);return 2*Math.acos(Math.min(Math.abs(_),1))*bh}function s(v){let S=1/n(v);return t(v.x*S,v.y*S,v.z*S,v.w*S)}function c(){return t(0,0,0,1)}function d(v,S,_){let x=e.Identity();return e.slerpToRef(v,S,_,x),x}function h(v,S,_){_.x=v.x*S.w+v.y*S.z-v.z*S.y+v.w*S.x,_.y=-v.x*S.z+v.y*S.w+v.z*S.x+v.w*S.y,_.z=v.x*S.y-v.y*S.x+v.z*S.w+v.w*S.z,_.w=-v.x*S.x-v.y*S.y-v.z*S.z+v.w*S.w}function g(v,S,_,x){let k=ea.create();ea.fromXYZAxesToRef(ke.normalize(v),ke.normalize(S),ke.normalize(_),k),e.fromRotationMatrixToRef(k,x)}function A(v,S,_=ke.Up(),x){let k=ea.Identity();ea.lookAtLHToRef(v,S,_,k),ea.invertToRef(k,k),e.fromRotationMatrixToRef(k,x)}e.create=t,e.add=function(v,S){return{x:v.x+S.x,y:v.y+S.y,z:v.z+S.z,w:v.w+S.w}},e.fromRotationYawPitchRoll=o,e.fromEulerDegrees=function(v,S,_){return o(S*Sh,v*Sh,_*Sh)},e.length=n,e.lengthSquared=i,e.dot=r,e.angle=a,e.rotateTowards=function(v,S,_){let x=a(v,S);return x===0?S:d(v,S,Math.min(1,_/x))},e.lookRotation=function(v,S={x:0,y:1,z:0}){let _=ke.normalize(v),x=ke.normalize(ke.cross(S,_)),k=ke.cross(_,x),j=x.x,Y=x.y,ie=x.z,ve=k.x,ae=k.y,J=k.z,ne=_.x,X=_.y,Z=_.z,q=j+ae+Z,B=t();if(q>0){let C=Math.sqrt(q+1);return B.w=.5*C,C=.5/C,B.x=(J-X)*C,B.y=(ne-ie)*C,B.z=(Y-ve)*C,B}if(j>=ae&&j>=Z){let C=Math.sqrt(1+j-ae-Z),$=.5/C;return B.x=.5*C,B.y=(Y+ve)*$,B.z=(ie+ne)*$,B.w=(J-X)*$,B}if(ae>Z){let C=Math.sqrt(1+ae-j-Z),$=.5/C;return B.x=(ve+Y)*$,B.y=.5*C,B.z=(X+J)*$,B.w=(ne-ie)*$,B}let ce=Math.sqrt(1+Z-j-ae),R=.5/ce;return B.x=(ne+ie)*R,B.y=(X+J)*R,B.z=.5*ce,B.w=(Y-ve)*R,B},e.normalize=s,e.fromToRotation=function(v,S,_=ke.Up()){let x=ke.normalize(v),k=ke.normalize(S),j=ke.cross(x,k),Y=Math.sqrt(ke.lengthSquared(x)*ke.lengthSquared(k))+ke.dot(x,k);return ke.lengthSquared(j)<1e-4?Math.abs(Y)<1e-4?s(t(_.x,_.y,_.z,0)):c():s(t(j.x,j.y,j.z,Y))},e.Identity=c,e.toEulerAngles=function(v){let S=ke.create(),_=v.x*v.x+v.y*v.y+v.z*v.z+v.w*v.w,x=v.x*v.w-v.y*v.z;return x>.4995*_?(S.x=Math.PI/2,S.y=2*Math.atan2(v.y,v.x),S.z=0):x<-.4995*_?(S.x=-Math.PI/2,S.y=-2*Math.atan2(v.y,v.x),S.z=0):(S.x=Math.asin(2*(v.w*v.x-v.y*v.z)),S.y=Math.atan2(2*v.w*v.y+2*v.z*v.x,1-2*(v.x*v.x+v.y*v.y)),S.z=Math.atan2(2*v.w*v.z+2*v.x*v.y,1-2*(v.z*v.z+v.x*v.x))),S.x*=bh,S.y*=bh,S.z*=bh,S.x=zn.repeat(S.x,360),S.y=zn.repeat(S.y,360),S.z=zn.repeat(S.z,360),S},e.fromRotationYawPitchRollToRef=function(v,S,_,x){let k=.5*S,j=.5*v,Y=.5*_,ie=Math.cos(k),ve=Math.cos(j),ae=Math.cos(Y),J=Math.sin(k),ne=Math.sin(j),X=Math.sin(Y);x.x=ve*J*ae+ne*ie*X,x.y=ne*ie*ae-ve*J*X,x.z=ve*ie*X-ne*J*ae,x.w=ve*ie*ae+ne*J*X},e.fromRotationMatrixToRef=function(v,S){let _=v._m,x=_[0],k=_[4],j=_[8],Y=_[1],ie=_[5],ve=_[9],ae=_[2],J=_[6],ne=_[10],X=x+ie+ne,Z;X>0?(Z=.5/Math.sqrt(X+1),S.w=.25/Z,S.x=(J-ve)*Z,S.y=(j-ae)*Z,S.z=(Y-k)*Z):x>ie&&x>ne?(Z=2*Math.sqrt(1+x-ie-ne),S.w=(J-ve)/Z,S.x=.25*Z,S.y=(k+Y)/Z,S.z=(j+ae)/Z):ie>ne?(Z=2*Math.sqrt(1+ie-x-ne),S.w=(j-ae)/Z,S.x=(k+Y)/Z,S.y=.25*Z,S.z=(ve+J)/Z):(Z=2*Math.sqrt(1+ne-x-ie),S.w=(Y-k)/Z,S.x=(j+ae)/Z,S.y=(ve+J)/Z,S.z=.25*Z)},e.slerp=d,e.slerpToRef=function(v,S,_,x){let k,j,Y=v.x*S.x+v.y*S.y+v.z*S.z+v.w*S.w,ie=!1;if(Y<0&&(ie=!0,Y=-Y),Y>.999999)j=1-_,k=ie?-_:_;else{let ve=Math.acos(Y),ae=1/Math.sin(ve);j=Math.sin((1-_)*ve)*ae,k=ie?-Math.sin(_*ve)*ae:Math.sin(_*ve)*ae}x.x=j*v.x+k*S.x,x.y=j*v.y+k*S.y,x.z=j*v.z+k*S.z,x.w=j*v.w+k*S.w},e.multiply=function(v,S){let _=t(0,0,0,1);return h(v,S,_),_},e.multiplyToRef=h,e.fromAngleAxis=function(v,S){if(ke.lengthSquared(S)===0)return e.Identity();let _=c(),x=v*Sh;x*=.5;let k=ke.normalize(S);return ke.scaleToRef(k,Math.sin(x),k),_.x=k.x,_.y=k.y,_.z=k.z,_.w=Math.cos(x),s(_)},e.fromAxisToRotationQuaternion=function(v,S,_){let x=e.create(0,0,0,0);return g(v,S,_,x),x},e.fromAxisToRotationQuaternionToRef=g,e.Zero=function(){return t(0,0,0,0)},e.fromLookAt=function(v,S,_=ke.Up()){let x=e.Identity();return A(v,S,_,x),x},e.fromLookAtToRef=A}(ln||(ln={})),function(e){function t(o=0,n=0){return{x:o,y:n}}e.create=t,e.Zero=function(){return t(0,0)},e.One=function(){return t(1,1)}}(xv||(xv={})),function(e){function t(s=0,c=0,d=0,h=1){return{r:s,g:c,b:d,a:h}}function o(){return t(0,0,0,0)}function n(s,c,d){d.r=s.r+c.r,d.g=s.g+c.g,d.b=s.b+c.b,d.a=s.a+c.a}function i(s,c,d){d.r=s.r-c.r,d.g=s.g-c.g,d.b=s.b-c.b,d.a=s.a-c.a}function r(s,c){c.r=Math.pow(s.r,hu),c.g=Math.pow(s.g,hu),c.b=Math.pow(s.b,hu),c.a=s.a}function a(s,c){c.r=Math.pow(s.r,mu),c.g=Math.pow(s.g,mu),c.b=Math.pow(s.b,mu),c.a=s.a}e.create=t,e.fromHexString=function(s){if(s.substring(0,1)!=="#"||s.length!==7&&s.length!==9)return t(0,0,0,1);let c=parseInt(s.substring(1,3),16),d=parseInt(s.substring(3,5),16),h=parseInt(s.substring(5,7),16),g=s.substring(7,9),A=g?parseInt(g,16):255;return e.fromInts(c,d,h,A)},e.lerp=function(s,c,d){let h=t(0,0,0,0);return e.lerpToRef(s,c,d,h),h},e.lerpToRef=function(s,c,d,h){h.r=s.r+(c.r-s.r)*d,h.g=s.g+(c.g-s.g)*d,h.b=s.b+(c.b-s.b)*d,h.a=s.a+(c.a-s.a)*d},e.Red=function(){return t(1,0,0,1)},e.Green=function(){return t(0,1,0,1)},e.Blue=function(){return t(0,0,1,1)},e.Black=function(){return t(0,0,0,1)},e.White=function(){return t(1,1,1,1)},e.Purple=function(){return t(.5,0,.5,1)},e.Magenta=function(){return t(1,0,1,1)},e.Yellow=function(){return t(1,1,0,1)},e.Gray=function(){return t(.5,.5,.5,1)},e.Teal=function(){return t(0,1,1,1)},e.Clear=o,e.fromColor3=function(s,c=1){return t(s.r,s.g,s.b,c)},e.fromArray=function(s,c=0){return t(s[c],s[c+1],s[c+2],s[c+3])},e.fromInts=function(s,c,d,h){return t(s/255,c/255,d/255,h/255)},e.checkColors4=function(s,c){if(s.length===3*c){let d=[];for(let h=0;h<s.length;h+=3){let g=h/3*4;d[g]=s[h],d[g+1]=s[h+1],d[g+2]=s[h+2],d[g+3]=1}return d}return s},e.addToRef=n,e.toArray=function(s,c,d=0){c[d]=s.r,c[d+1]=s.g,c[d+2]=s.b,c[d+3]=s.a},e.add=function(s,c){let d=o();return n(s,c,d),d},e.subtract=function(s,c){let d=o();return i(s,c,d),d},e.subtractToRef=i,e.scale=function(s,c){return t(s.r*c,s.g*c,s.b*c,s.a*c)},e.scaleToRef=function(s,c,d){d.r=s.r*c,d.g=s.g*c,d.b=s.b*c,d.a=s.a*c},e.scaleAndAddToRef=function(s,c,d){d.r+=s.r*c,d.g+=s.g*c,d.b+=s.b*c,d.a+=s.a*c},e.clampToRef=function(s,c=0,d=1,h){h.r=zn.clamp(s.r,c,d),h.g=zn.clamp(s.g,c,d),h.b=zn.clamp(s.b,c,d),h.a=zn.clamp(s.a,c,d)},e.multiply=function(s,c){return t(s.r*c.r,s.g*c.g,s.b*c.b,s.a*c.a)},e.multiplyToRef=function(s,c,d){d.r=s.r*c.r,d.g=s.g*c.g,d.b=s.b*c.b,d.a=s.a*c.a},e.toString=function(s){return"{R: "+s.r+" G:"+s.g+" B:"+s.b+" A:"+s.a+"}"},e.getHashCode=function(s){let c=s.r||0;return c=397*c^(s.g||0),c=397*c^(s.b||0),c=397*c^(s.a||0),c},e.clone=function(s){return t(s.r,s.g,s.b,s.a)},e.copyFrom=function(s,c){c.r=s.r,c.g=s.g,c.b=s.b,c.a=s.a},e.copyFromFloats=function(s,c,d,h,g){g.r=s,g.g=c,g.b=d,g.a=h},e.set=function(s,c,d,h,g){g.r=s,g.g=c,g.b=d,g.a=h},e.toHexString=function(s){let c=255*s.r|0,d=255*s.g|0,h=255*s.b|0,g=255*s.a|0;return"#"+zn.toHex(c)+zn.toHex(d)+zn.toHex(h)+zn.toHex(g)},e.toLinearSpace=function(s){let c=t();return r(s,c),c},e.toLinearSpaceToRef=r,e.toGammaSpace=function(s){let c=t();return a(s,c),c},e.toGammaSpaceToRef=a}(Ih||(Ih={})),function(e){function t(s=0,c=0,d=0){return{r:s,g:c,b:d}}function o(s,c,d){return t(s/255,c/255,d/255)}function n(s,c,d=0){c[d]=s.r,c[d+1]=s.g,c[d+2]=s.b}function i(s,c=0,d=1,h){h.r=zn.clamp(s.r,c,d),h.g=zn.clamp(s.g,c,d),h.b=zn.clamp(s.b,c,d)}function r(s,c){c.r=Math.pow(s.r,hu),c.g=Math.pow(s.g,hu),c.b=Math.pow(s.b,hu)}function a(s,c){c.r=Math.pow(s.r,mu),c.g=Math.pow(s.g,mu),c.b=Math.pow(s.b,mu)}e.create=t,e.fromHexString=function(s){return s.substring(0,1)!=="#"||s.length!==7?t(0,0,0):o(parseInt(s.substring(1,3),16),parseInt(s.substring(3,5),16),parseInt(s.substring(5,7),16))},e.fromArray=function(s,c=0){return t(s[c],s[c+1],s[c+2])},e.fromInts=o,e.lerp=function(s,c,d){let h=t(0,0,0);return e.lerpToRef(s,c,d,h),h},e.lerpToRef=function(s,c,d,h){h.r=s.r+(c.r-s.r)*d,h.g=s.g+(c.g-s.g)*d,h.b=s.b+(c.b-s.b)*d},e.Red=function(){return t(1,0,0)},e.Green=function(){return t(0,1,0)},e.Blue=function(){return t(0,0,1)},e.Black=function(){return t(0,0,0)},e.White=function(){return t(1,1,1)},e.Purple=function(){return t(.5,0,.5)},e.Magenta=function(){return t(1,0,1)},e.Yellow=function(){return t(1,1,0)},e.Gray=function(){return t(.5,.5,.5)},e.Teal=function(){return t(0,1,1)},e.Random=function(){return t(Math.random(),Math.random(),Math.random())},e.toString=function(s){return"{R: "+s.r+" G:"+s.g+" B:"+s.b+"}"},e.getHashCode=function(s){let c=s.r||0;return c=397*c^(s.g||0),c=397*c^(s.b||0),c},e.toArray=n,e.toColor4=function(s,c=1){return Ih.create(s.r,s.g,s.b,c)},e.asArray=function(s){let c=new Array;return n(s,c,0),c},e.toLuminance=function(s){return .3*s.r+.59*s.g+.11*s.b},e.multiply=function(s,c){return t(s.r*c.r,s.g*c.g,s.b*c.b)},e.multiplyToRef=function(s,c,d){d.r=s.r*c.r,d.g=s.g*c.g,d.b=s.b*c.b},e.equals=function(s,c){return c&&s.r===c.r&&s.g===c.g&&s.b===c.b},e.equalsFloats=function(s,c,d,h){return s.r===c&&s.g===d&&s.b===h},e.scale=function(s,c){return t(s.r*c,s.g*c,s.b*c)},e.scaleToRef=function(s,c,d){d.r=s.r*c,d.g=s.g*c,d.b=s.b*c},e.scaleAndAddToRef=function(s,c,d){d.r+=s.r*c,d.g+=s.g*c,d.b+=s.b*c},e.clampToRef=i,e.clamp=function(s,c=0,d=1){let h=e.Black();return i(s,c,d,h),h},e.add=function(s,c){return t(s.r+c.r,s.g+c.g,s.b+c.b)},e.addToRef=function(s,c,d){d.r=s.r+c.r,d.g=s.g+c.g,d.b=s.b+c.b},e.subtract=function(s,c){return t(s.r-c.r,s.g-c.g,s.b-c.b)},e.subtractToRef=function(s,c,d){d.r=s.r-c.r,d.g=s.g-c.g,d.b=s.b-c.b},e.clone=function(s){return t(s.r,s.g,s.b)},e.copyFrom=function(s,c){c.r=s.r,c.g=s.g,c.b=s.b},e.set=function(s,c,d,h){s.r=c,s.g=d,s.b=h},e.toHexString=function(s){let c=255*s.r|0,d=255*s.g|0,h=255*s.b|0;return"#"+zn.toHex(c)+zn.toHex(d)+zn.toHex(h)},e.toLinearSpace=function(s){let c=t();return r(s,c),c},e.toLinearSpaceToRef=r,e.toGammaSpace=function(s){let c=t();return a(s,c),c},e.toGammaSpaceToRef=a}(Wf||(Wf={})),function(e){e.LINEAR="linear",e.EASEINQUAD="easeinquad",e.EASEOUTQUAD="easeoutquad",e.EASEQUAD="easequad",e.EASEINSINE="easeinsine",e.EASEOUTSINE="easeoutsine",e.EASESINE="easeinoutsine",e.EASEINEXPO="easeinexpo",e.EASEOUTEXPO="easeoutexpo",e.EASEEXPO="easeinoutexpo",e.EASEINELASTIC="easeinelastic",e.EASEOUTELASTIC="easeoutelastic",e.EASEELASTIC="easeinoutelastic",e.EASEINBOUNCE="easeinbounce",e.EASEOUTEBOUNCE="easeoutbounce",e.EASEBOUNCE="easeinoutbounce"}(ao||(ao={}));var yu=1e5,Fa;function AP(e){let t=new Map,o=0;return e.addSystem(function(n){let i=[],r=[];for(let[a,s]of t)s.accumulatedTime+=1e3*n,s.accumulatedTime<s.interval||(r.push(s.callback),s.recurrent?s.accumulatedTime-=Math.floor(s.accumulatedTime/s.interval)*s.interval:i.push(a));for(let a of i)t.delete(a);for(let a of r)a()},Fa.TimerSystemPriority),{setTimeout(n,i){let r=o++;return t.set(r,{callback:n,interval:i,recurrent:!1,accumulatedTime:0}),r},clearTimeout(n){t.delete(n)},setInterval(n,i){let r=o++;return t.set(r,{callback:n,interval:i,recurrent:!0,accumulatedTime:0}),r},clearInterval(n){t.delete(n)}}}(function(e){e.TimerSystemPriority=yu+256,e.TweenSystemPriority=yu+192,e.PerpetualMotionSystemPriority=yu+192,e.PathSystemPriority=yu+192,e.TriggerSystemPriority=yu+128,e.ActionSystemPriority=yu+64})(Fa||(Fa={}));var A2=AP(Ho),Vf,Hf;function wP(e,t){let o=e.defineComponent("dcl.utils.Toggle",{state:kt.EnumNumber(Vf,Vf.Off)}),n=new Map;return t.setInterval(function(){for(let i of n.keys())e.getEntityState(i)!=Lr.Removed&&o.has(i)||n.delete(i)},5e3),{addToggle(i,r,a){n.set(i,a),o.createOrReplace(i,{state:r})},removeToggle(i){n.delete(i),o.deleteFrom(i)},setCallback(i,r){n.set(i,r)},set(i,r){if(o.get(i).state!=r){o.getMutable(i).state=r;let a=n.get(i);a&&a(r)}},flip(i){this.set(i,1-o.get(i).state)},isOn:i=>o.get(i).state==Vf.On}}function xP(e){switch(e){case ao.LINEAR:return 0;case ao.EASEINQUAD:return 1;case ao.EASEOUTQUAD:return 2;case ao.EASEQUAD:return 3;case ao.EASEINSINE:return 4;case ao.EASEOUTSINE:return 5;case ao.EASESINE:return 6;case ao.EASEINEXPO:return 7;case ao.EASEOUTEXPO:return 8;case ao.EASEEXPO:return 9;case ao.EASEINELASTIC:return 10;case ao.EASEOUTELASTIC:return 11;case ao.EASEELASTIC:return 12;case ao.EASEINBOUNCE:return 13;case ao.EASEOUTEBOUNCE:return 14;case ao.EASEBOUNCE:return 15;default:return 0}}function IP(e){let t=new Map;function o(r){ri.deleteFrom(r),t.delete(r)}function n(r){return function(a,s,c,d,h=ao.LINEAR,g){let A=d===0?1:0;t.set(a,{normalizedTime:A,callback:g}),ri.createOrReplace(a,{duration:1e3*d,easingFunction:xP(h),currentTime:A,mode:ri.Mode[r]({start:s,end:c})})}}function i(r){if(!t.has(r))throw new Error(`Entity ${r} is not registered with tweens system`);return t.get(r)}return e.addSystem(function(r){let a=[];for(let[s,c]of t.entries()){if(e.getEntityState(s)==Lr.Removed||!ri.has(s)){t.delete(s);continue}let d=ri.get(s);c.normalizedTime+=1e3*r,c.normalizedTime>=d.duration&&a.push(s)}for(let s of a){let c=t.get(s)?.callback;ri.deleteFrom(s),t.delete(s),c&&c()}},Fa.TweenSystemPriority),{startTranslation:n("Move"),stopTranslation:o,startRotation:n("Rotate"),stopRotation:o,startScaling:n("Scale"),stopScaling:o,getTranslationOnFinishCallback:i,getRotationOnFinishCallback:i,getScalingOnFinishCallback:i}}function RP(e){let t=e.defineComponent("dcl.utils.PerpetualRotation",{velocity:kt.Quaternion});return e.addSystem(function(o){for(let[n,i]of e.getEntitiesWith(t,na)){let r=ln.slerp(ln.Identity(),i.velocity,o),a=na.getMutable(n);a.rotation=ln.normalize(ln.multiply(a.rotation,r))}},Fa.PerpetualMotionSystemPriority),{startRotation(o,n){t.createOrReplace(o,{velocity:n})},stopRotation(o){ri.has(o)&&ri.deleteFrom(o),V1.has(o)&&V1.deleteFrom(o),t.has(o)&&t.deleteFrom(o)},smoothRotation(o,n,i){let r=ln.fromEulerDegrees(0,180,0),a=ln.fromEulerDegrees(0,360,0);switch(i){case Hf.X:r=ln.fromEulerDegrees(180,0,0),a=ln.fromEulerDegrees(360,0,0);break;case Hf.Y:r=ln.fromEulerDegrees(0,180,0),a=ln.fromEulerDegrees(0,360,0);break;case Hf.Z:r=ln.fromEulerDegrees(0,0,180),a=ln.fromEulerDegrees(0,0,360)}ri.createOrReplace(o,{mode:ri.Mode.Rotate({start:ln.fromEulerDegrees(0,0,0),end:r}),duration:n/2,easingFunction:0}),V1.create(o,{loop:0,sequence:[{mode:ri.Mode.Rotate({start:r,end:a}),duration:n/2,easingFunction:0}]})}}}function NP(e){let t=e.defineComponent("dcl.utils.FollowPath",{points:kt.Array(kt.Vector3),faceDirection:kt.Boolean,speed:kt.Number,normalizedTime:kt.Number,currentIndex:kt.Number,segmentTimes:kt.Array(kt.Number),curveSegmentCount:kt.Number}),o=new Map,n=new Map;function i(a){o.delete(a),n.delete(a),t.deleteFrom(a)}function r(a,s,c,d,h,g,A){if(s.length<2)throw new Error("At least 2 points are required to form a path.");if(c==0)throw new Error("Path duration must not be zero");if(h){let x=ke.equals(s[0],s[s.length-1]);x&&(s.pop(),s.unshift(s.pop())),s=SP(s,h,x)}else h=1;o.set(a,g),n.set(a,A);let v=0,S=[];for(let x=0;x<s.length-1;x++){let k=ke.distance(s[x],s[x+1]);v+=k,S.push(k)}let _=[0];for(let x=0;x<S.length;x++)_.push(S[x]/v+_[x]);t.createOrReplace(a,{points:s,segmentTimes:_,curveSegmentCount:h,speed:1/c,normalizedTime:0,currentIndex:0,faceDirection:d})}return e.addSystem(function(a){let s=[],c=[];for(let d of o.keys()){if(e.getEntityState(d)==Lr.Removed||!t.has(d)){i(d);continue}let h=na.getMutable(d),g=t.getMutable(d);for(g.normalizedTime=zn.clamp(g.normalizedTime+a*g.speed,0,1),g.normalizedTime>=1&&s.push(d);g.normalizedTime>=g.segmentTimes[g.currentIndex]&&g.currentIndex<g.points.length-1;){if(g.faceDirection){let S=ke.subtract(g.points[g.currentIndex+1],g.points[g.currentIndex]);h.rotation=ln.lookRotation(S)}if(g.currentIndex>0&&g.currentIndex%g.curveSegmentCount==0){let S=g.currentIndex/g.curveSegmentCount,_=g.points[g.currentIndex],x=g.points[g.currentIndex+g.curveSegmentCount];c.push({entity:d,index:S,coords:_,nextCoords:x})}g.currentIndex+=1}let A=g.segmentTimes[g.currentIndex]-g.segmentTimes[g.currentIndex-1],v=(g.segmentTimes[g.currentIndex]-g.normalizedTime)/A;h.position=ke.lerp(g.points[g.currentIndex],g.points[g.currentIndex-1],v)}for(let d of c){let h=n.get(d.entity);h&&h(d.index,d.coords,d.nextCoords)}for(let d of s){let h=o.get(d);i(d),h&&h()}},Fa.PathSystemPriority),{startStraightPath:(a,s,c,d,h,g)=>r(a,s,c,d,0,h,g),startSmoothPath(a,s,c,d,h,g,A){if(d<2||!Number.isInteger(d))throw new Error(`segmentCount must be an integer that is greater than 2, got: ${d}`);return r(a,s,c,h,d,g,A)},stopPath(a){i(a)},getOnFinishCallback(a){if(!o.has(a))throw new Error(`Entity ${a} is not registered in triggers system`);return o.get(a)}}}(function(e){e[e.Off=0]="Off",e[e.On=1]="On"})(Vf||(Vf={})),wP(Ho,A2),IP(Ho),function(e){e.X="x",e.Y="y",e.Z="z"}(Hf||(Hf={})),RP(Ho),NP(Ho);var OP=1,za=255,ql=0,Rv=OP;function kP(e){let t=Ho.defineComponent("dcl.utils.Trigger",{active:kt.Boolean,layerMask:kt.Int,triggeredByMask:kt.Int,areas:kt.Array(kt.OneOf({box:kt.Map({position:kt.Vector3,scale:kt.Vector3}),sphere:kt.Map({position:kt.Vector3,radius:kt.Number})})),debugColor:kt.Color3}),o=new Map,n=new Map,i=!1,r=new Map,a=new Map;function s(g,A,v,S){for(let _=0;_<A.areas.length;++_){let x=g[_],k=A.areas[_];if(k.$case=="box"){let j=k.value,Y=ke.subtract(x,ke.scale(j.scale,.5)),ie=ke.add(Y,j.scale);for(let ve=0;ve<S.areas.length;++ve){let ae=v[ve],J=S.areas[ve];if(J.$case=="box"){let ne=J.value,X=ke.subtract(ae,ke.scale(ne.scale,.5));if(bP(Y,ie,X,ke.add(X,ne.scale)))return!0}else if(Iv(Y,ie,ae,J.value.radius))return!0}}else{let j=k.value.radius;for(let Y=0;Y<S.areas.length;++Y){let ie=v[Y],ve=S.areas[Y];if(ve.$case=="box"){let ae=ve.value,J=ke.subtract(ie,ke.scale(ae.scale,.5));if(Iv(J,ke.add(J,ae.scale),x,j))return!0}else if(vP(x,j,ie,ve.value.radius))return!0}}}return!1}function c(g,A){let v=ku,S=t.get(g);if(!S.active)return v;if(S.triggeredByMask==Rv){let _=e.PlayerEntity,x=t.get(e.PlayerEntity);if(_==g||!x.active||!(S.triggeredByMask&x.layerMask))return v;s(A.get(g),S,A.get(_),x)&&(v===ku&&(v=new Set),v.add(_))}else for(let[_,x]of e.getEntitiesWith(t,na))_!=g&&x.active&&S.triggeredByMask&x.layerMask&&s(A.get(g),S,A.get(_),x)&&(v===ku&&(v=new Set),v.add(_));return v}function d(g){g||(g=[{type:"box"}]);let A=[];for(let v of g)v.type=="box"?A.push({$case:"box",value:{position:v.position?v.position:ke.Zero(),scale:v.scale?v.scale:ke.One()}}):A.push({$case:"sphere",value:{position:v.position?v.position:ke.Zero(),radius:v.radius?v.radius:1}});return A}e.addSystem(function(g){(function(){let A=[],v=[],S=new Map;for(let _ of r.keys()){if(e.getEntityState(_)==Lr.Removed||!t.has(_)){for(let ie of a.get(_))e.removeEntity(ie);for(let ie of r.values())ie.has(_)&&ie.delete(_);a.delete(_),r.delete(_),o.delete(_),n.delete(_);continue}let x=[],k=v2(_),j=jh(_),Y=t.get(_);for(let ie of Y.areas)x.push(ke.add(k,ke.rotate(ie.value.position,j)));S.set(_,x)}for(let _ of r.keys()){let x=c(_,S),k=r.get(_);for(let j of k)x.has(j)||v.push([_,j]);for(let j of x)k.has(j)||A.push([_,j]);r.set(_,x)}for(let[_,x]of A){let k=o.get(_);k&&k(x)}for(let[_,x]of v){let k=n.get(_);k&&k(x)}})(),function(A){if(A)for(let[v,S]of e.getEntitiesWith(t,na)){let _=a.get(v),x=S.areas.length;for(;_.length>x;)e.removeEntity(_.pop());for(;_.length<x;)_.push(e.addEntity());let k=v2(v),j=jh(v);for(let Y=0;Y<x;++Y){let ie=S.areas[Y],ve=_[Y],ae;if(ie.$case=="box")ae=ie.value.scale,wv.setBox(ve);else{let ne=ie.value.radius;ae={x:ne,y:ne,z:ne},wv.setSphere(ve)}na.createOrReplace(ve,{position:ke.add(k,ke.rotate(ie.value.position,j)),scale:ae});let J=S.active?S.debugColor:Wf.Black();TP.setPbrMaterial(ve,{albedoColor:Ih.fromInts(255*J.r,255*J.g,255*J.b,75)})}}}(i)},Fa.TriggerSystemPriority);let h={addTrigger(g,A=ql,v=ql,S,_,x,k){if(A<0||A>za||!Number.isInteger(A))throw new Error(`Bad layerMask: ${A}. Expected a non-negative integer no greater than ${za}`);if(v<0||v>za||!Number.isInteger(v))throw new Error(`Bad triggeredByMask: ${v}. Expected a non-negative integer no greater than ${za}`);a.set(g,[]),r.set(g,new Set),o.set(g,_),n.set(g,x),t.createOrReplace(g,{active:!0,layerMask:A,triggeredByMask:v,areas:d(S),debugColor:k||Wf.Red()})},removeTrigger(g){let A=r.get(g),v=n.get(g);for(let _ of a.get(g))e.removeEntity(_);a.delete(g),r.delete(g),o.delete(g),n.delete(g),t.deleteFrom(g);let S=[];for(let[_,x]of r)x.has(g)&&(x.delete(g),S.push(_));if(v)for(let _ of A)v(_);for(let _ of S){let x=n.get(_);x&&x(g)}},oneTimeTrigger(g,A=ql,v=ql,S,_,x){this.addTrigger(g,A,v,S,function(k){CP.removeTrigger(g),_&&_(k)},void 0,x)},enableTrigger(g,A){t.getMutable(g).active=A},isTriggerEnabled:g=>t.get(g).active,getLayerMask:g=>t.get(g).layerMask,setLayerMask(g,A){if(A<0||A>za||!Number.isInteger(A))throw new Error(`Bad layerMask: ${A}. Expected a non-negative integer no greater than ${za}`);t.getMutable(g).layerMask=A},getTriggeredByMask:g=>t.get(g).triggeredByMask,setTriggeredByMask(g,A){if(A<0||A>za||!Number.isInteger(A))throw new Error(`Bad layerMask: ${A}. Expected a non-negative integer no greater than ${za}`);t.getMutable(g).triggeredByMask=A},getAreas:g=>t.get(g).areas,setAreas(g,A){t.getMutable(g).areas=d(A)},setOnEnterCallback(g,A){o.set(g,A)},setOnExitCallback(g,A){n.set(g,A)},enableDebugDraw(g){if(i=g,!g)for(let A of a.values()){for(let v of A)e.removeEntity(v);A.length=0}},isDebugDrawEnabled:()=>i};return h.addTrigger(e.PlayerEntity,Rv,ql,[{type:"box",scale:{x:.65,y:1.92,z:.65},position:{x:0,y:.96,z:0}}],void 0,void 0,Wf.Green()),h}var CP=kP(Ho),ku=new Set,Nv;ku.add=e=>{throw new Error("EMPTY_SET is read only")},ku.delete=e=>{throw new Error("EMPTY_SET is read only")},ku.has=e=>!1,function(e){e.SequenceRunner=class{constructor(s,c,d){this.beginSequenceNode=null,this.currentSequenceNode=null,this.running=!1,this.started=!1,this.engine=s,this.systemFn=h=>{this.update(h)},this.engine.addSystem(this.systemFn,Fa.ActionSystemPriority),c&&this.startSequence(c),d&&this.setOnFinishCallback(d)}startSequence(s){this.beginSequenceNode=s.beginSequenceNode,this.currentSequenceNode=this.beginSequenceNode,this.running=!0,this.started=!1}destroy(){this.engine.removeSystem(this.systemFn)}setOnFinishCallback(s){this.onFinishCallback=s}isRunning(){return this.running}stop(){this.running=!1}resume(){this.beginSequenceNode!=null&&(this.running=!0)}reset(){this.currentSequenceNode=this.beginSequenceNode,this.running=!0,this.started=!1}getRunningAction(){let s=this.currentSequenceNode;if(this.currentSequenceNode instanceof o)do s=s.currentInnerSequence;while(s instanceof o);return s.action}update(s){if(this.running)return this.started?void(this.currentSequenceNode.hasFinish()?(this.currentSequenceNode.onFinish(),this.currentSequenceNode=this.currentSequenceNode.next,this.currentSequenceNode?this.currentSequenceNode.onStart():(this.running=!1,this.onFinishCallback&&this.onFinishCallback())):this.currentSequenceNode.update(s)):(this.currentSequenceNode.onStart(),void(this.started=!0))}},e.SequenceBuilder=class{constructor(){this.currentSequenceNode=null,this.beginSequenceNode=null,this.whileNodeStack=[]}then(s){if(this.currentSequenceNode==null)this.currentSequenceNode=new t,this.currentSequenceNode.action=s,this.beginSequenceNode=this.currentSequenceNode;else{let c=new t;c.action=s,this.currentSequenceNode=this.currentSequenceNode.then(c)}return this}if(s){let c=new n(s);return this.currentSequenceNode==null?(this.currentSequenceNode=c,this.beginSequenceNode=c):this.currentSequenceNode=this.currentSequenceNode.then(c),this}else(){let s=this.currentSequenceNode.getSequence();if(!(s instanceof n))throw new Error("IF statement is needed to be called before ELSE statement.");{s.closed=!0;let c=new i(s);this.currentSequenceNode=this.currentSequenceNode.then(c)}return this}endIf(){let s=this.currentSequenceNode.getSequence();if(!(s instanceof n||s instanceof i))throw new Error("IF statement is needed to be called before ENDIF statement.");return s.closed=!0,this}while(s){let c=new r(s);return this.currentSequenceNode==null?(this.currentSequenceNode=c,this.beginSequenceNode=c):this.currentSequenceNode=this.currentSequenceNode.then(c),this.whileNodeStack.push(c),this}endWhile(){let s=this.currentSequenceNode.getSequence();if(!(s instanceof r))throw new Error("WHILE statement is needed to be called before ENDWHILE statement.");return s.closed=!0,this.whileNodeStack.length>0&&this.whileNodeStack.splice(this.whileNodeStack.length-1,1),this}breakWhile(){if(!(this.whileNodeStack.length>0))throw new Error("WHILE statement is needed to be called before BREAKWHILE statement.");return this.currentSequenceNode=this.currentSequenceNode.then(new a(this.whileNodeStack[this.whileNodeStack.length-1])),this}};class t{constructor(){this.action=null,this.next=null}then(c){return this.next=c,c}onStart(){this.action&&this.action.onStart()}update(c){this.action&&this.action.update(c)}onFinish(){this.action&&this.action.onFinish()}hasFinish(){return!this.action||this.action.hasFinished}getSequence(){return this}}e.SequenceNode=t;class o extends t{constructor(){super(...arguments),this.currentInnerSequence=null,this.startingInnerSequence=null,this.closed=!1}then(c){if(this.currentInnerSequence==null)this.currentInnerSequence=c,this.startingInnerSequence=c;else{if(this.closed)return this.next=c,c;this.currentInnerSequence=this.currentInnerSequence.then(c)}return this}onStart(){this.currentInnerSequence=this.startingInnerSequence,this.currentInnerSequence&&this.currentInnerSequence.onStart()}update(c){this.currentInnerSequence&&(this.currentInnerSequence.hasFinish()?(this.currentInnerSequence.onFinish(),this.currentInnerSequence=this.currentInnerSequence.next,this.currentInnerSequence&&this.currentInnerSequence.onStart()):this.currentInnerSequence.update(c))}onFinish(){this.currentInnerSequence&&this.currentInnerSequence.onFinish()}hasFinish(){return this.currentInnerSequence==null}getSequence(){if(this.currentInnerSequence){let c=this.currentInnerSequence.getSequence();if(c instanceof o&&!c.closed)return c}return this}}class n extends o{constructor(c){super(),this.result=!1,this.condition=c}onStart(){this.result=this.condition(),this.result?super.onStart():this.currentInnerSequence=null}}class i extends o{constructor(c){super(),this.ifSequence=null,this.ifSequence=c}onStart(){this.ifSequence&&!this.ifSequence.result?super.onStart():this.currentInnerSequence=null}}class r extends o{constructor(c){super(),this.breakWhile=!1,this.condition=c}onStart(){this.breakWhile=!1,this.condition()?super.onStart():this.currentInnerSequence=null}update(c){this.currentInnerSequence&&(this.currentInnerSequence.hasFinish()?(this.currentInnerSequence.onFinish(),this.currentInnerSequence=this.currentInnerSequence.next,this.currentInnerSequence==null&&(this.currentInnerSequence=this.startingInnerSequence),this.currentInnerSequence&&this.currentInnerSequence.onStart()):this.currentInnerSequence.update(c))}hasFinish(){return this.breakWhile||!this.condition()}}class a extends t{constructor(c){super(),this.whileNode=c}onStart(){this.whileNode.breakWhile=!0}}}(Nv||(Nv={}));var Eu="XMLHttpRequest",w2=class{constructor(){this.requestHeaders={},console.log(Eu,"constructor","ENTRY")}getAllResponseHeaders(){return this.responseHeadersRaw}setRequestHeader(t,o){console.log(Eu,"setRequestHeader","ENTRY",t,o),this.requestHeaders[t]=o}open(t,o){console.log(Eu,"open","ENTRY",t,o),this.method=t,this.url=o}send(t){let o="send";if(console.log(Eu,o,"ENTRY",t),!this.url)throw new Error("url is required");if(!this.method)throw new Error("method is required");fetch(this.url,{method:this.method,headers:this.requestHeaders,body:t,timeout:this.timeout}).then(async n=>{console.log(Eu,o,"PROMISE.ENTRY",n),this.status=n.status,this.statusText=n.statusText,this.response=await n.text(),this.responseHeadersRaw="",n.headers.forEach((i,r)=>{this.responseHeadersRaw+=r+": "+i+`\r
`}),console.log(Eu,o,"PROMISE.RESULT","this.status",this.status,"this.responseHeadersRaw",this.responseHeadersRaw),this.onload&&this.onload()}).catch(n=>{console.log("catching reason",n),!n.code||n.code!=20&&n.code!=23||(n.type="timeout"),this.onerror&&(this.onerror(n),console.log("on error reason",n))})}},Cu;Object.assign(globalThis,{FormData:class{},clearTimeout:A2.clearTimeout,setTimeout:A2.setTimeout,XMLHttpRequest:w2}),console==null||console.warn||(console.warn=(...e)=>console.log("WARNING",...e));var x2=[],EA,gA,wi=HO(),Un;(function(e){e.QUEST_ERROR="QUEST_ERROR",e.QUEST_DATA="QUEST_DATA",e.QUEST_STARTED="QUEST_STARTED",e.QUEST_COMPLETE="QUEST_COMPLETE",e.QUEST_END="QUEST_END",e.QUEST_UPDATE="QUEST_UPDATE",e.QUEST_DISCONNECT="QUEST_DISCONNECT",e.QUEST_ACTION="QUEST_ACTION",e.QUEST_START="QUEST_START",e.QUEST_STEP_COMPLETE="STEP_COMPLETE",e.QUEST_TASK_COMPLETE="TASK_COMPLETE"})(Un||(Un={}));var Hh=new Map,MP=new Map;async function TA(e,t,o){EA=e,gA=t,e.addSystem(SA),e.addSystem(zP),Hh.has(o)||x2.push(o)}function VH(e){let t=Hh.get(e);if(t)try{t.send(Un.QUEST_START,{questId:e})}catch(o){console.log("error sending quest action",o)}}function _A(e,t,o){let n=Hh.get(e);if(n)try{n.send(Un.QUEST_ACTION,{questId:e,stepId:t,taskId:o,metaverse:"DECENTRALAND"})}catch(i){console.log("error sending quest action",i)}}function PP(e,t){e.onMessage(Un.QUEST_ERROR,o=>{console.log("quest error ",o),wi.emit(Un.QUEST_ERROR,o)}),e.onMessage(Un.QUEST_DATA,o=>{console.log("user quest data ",o),MP.set(t,o),wi.emit(Un.QUEST_DATA,o)}),e.onMessage(Un.QUEST_STARTED,o=>{console.log("started quest ",o),wi.emit(Un.QUEST_STARTED,o)}),e.onMessage(Un.QUEST_COMPLETE,o=>{console.log("complete quest ",o),wi.emit(Un.QUEST_COMPLETE,o)}),e.onMessage(Un.QUEST_END,o=>{console.log("ended quest ",o),wi.emit(Un.QUEST_END,o)}),e.onMessage(Un.QUEST_DATA,o=>{console.log("quest data ",o),wi.emit(Un.QUEST_DATA,o)}),e.onMessage(Un.QUEST_UPDATE,o=>{console.log("update quest ",o),wi.emit(Un.QUEST_UPDATE,o)}),e.onMessage(Un.QUEST_STEP_COMPLETE,o=>{console.log("step complete quest ",o),wi.emit(Un.QUEST_STEP_COMPLETE,o)}),e.onMessage(Un.QUEST_TASK_COMPLETE,o=>{console.log("task complete quest ",o),wi.emit(Un.QUEST_TASK_COMPLETE,o)})}var $1=0;function SA(e){$1>0?$1-=e:(Cu=gA(),Cu?EA.removeSystem(SA):$1=1)}function zP(){Cu&&x2.length>0&&UP(""+x2.shift())}async function UP(e){let t=await(0,Ov.getRealm)({}),o={userId:Cu.userId,name:Cu.name,realm:t.realmInfo?.baseUrl,questId:e},n=new kv.Client({hostname:"angzaar-plaza.dcl-iwb.co",pathname:"/ws",secure:!0});try{let i=await n.joinOrCreate("angzaar_questing",o);return Hh.set(e,i),PP(i,Cu.userId),i.onLeave((r,a)=>{console.log("left quest room",e,r,a),wi.emit(Un.QUEST_DISCONNECT,{questId:e,code:r,reason:a})}),i}catch(i){throw console.error("Error connecting to LSC Quest System",i),i}}var bA="Xyq7Wk",BP="Ld4H70",LP="9uonE";function vA(){TA(De,C1,bA);let e=De.getEntityOrNullByName("assets/scene/qxg_drone.glb");e&&hn(e).on(vt.ON_INPUT_ACTION,()=>{console.log("Egg clicked!!"),_A(bA,BP,LP)})}var zu=0,$h={};function Gh(){vA();let e=5;for(let t=0;t<e;t++)DP(t);jP()}function DP(e){let t=De.addEntity(),o=Ee.create(Math.random()*10+1,2,Math.random()*10+1);Sn.create(t,{position:o,scale:Ee.create(.75,.75,.75)}),h1.create(t,{src:"assets/scene/qxg_drone.glb"}),$h[e]=!1,uu.addTrigger(t,bs,bs,[{type:"box",scale:Ee.create(3,3,3)}],()=>{$h[e]||(FP(t,e),$h[e]=!0)})}function FP(e,t){let o=Sn.get(e).position,n=Ee.create(Math.random()*10+1,2,Math.random()*10+1),i=Sn.get(e).rotation,r=ht.fromLookAt(o,n);bn.createOrReplace(e,{mode:bn.Mode.Rotate({start:i,end:r}),duration:2e3,easingFunction:fl.EF_EASEOUTQUAD}),iu.setTimeout(()=>{bn.createOrReplace(e,{mode:bn.Mode.Move({start:o,end:n}),duration:2e3,easingFunction:fl.EF_EASEOUTQUAD})},2e3),iu.setTimeout(()=>{$h[t]=!1},4e3)}function jP(){let e=De.addEntity();Sn.create(e,{position:Ee.create(8,6,8),scale:Ee.create(1,1,1),rotation:ht.Identity()}),h1.create(e,{src:"assets/scene/qxg_drone.glb"}),De.addSystem(()=>{let t=Sn.getMutable(e);zu+=.02;let o=8,n=8,i=3,r=.5+Math.sin(zu*2)*.3;t.position.x=o+Math.cos(zu)*i,t.position.z=n+Math.sin(zu)*i,t.position.y=6+r;let a=Math.atan2(Math.sin(zu),Math.cos(zu));t.rotation=ht.fromEulerDegrees(0,-a*(180/Math.PI),0)})}var kA=require("~system/CommunicationsController");var M2=[NS,Dm,hS,g1,TS,_S,Bm,SS,Ts,vS,AS,wS,xS,RS,IS],P2=M2.map(e=>e.componentId);function z2(e){let t=new Lt,o=new Lt,n=e.getComponent(nu.componentId);for(let r of e.componentsIter())P2.includes(r.componentId)||r.dumpCrdtStateToBuffer(t,a=>n.has(a));let i;for(;i=jn.getHeader(t);)if(i.type===Me.PUT_COMPONENT){let r=Wo.read(t),a=n.getOrNull(r.entityId);a?Si.write(a.entityId,r.timestamp,r.componentId,a.networkId,r.data,o):Wo.write(r.entityId,r.timestamp,r.componentId,r.data,o)}else t.incrementReadOffset(i.length);return o.toBinary()}function AA(e){let t=e.getComponent(nu.componentId),o=e.getComponent($m.componentId);return function(n){let i=n.componentId;if(P2.includes(i))return!1;let[r]=Or.fromEntityId(n.entityId);if(r<s1)return!1;let a=t.getOrNull(n.entityId);if(n.type===Me.DELETE_ENTITY_NETWORK||a&&n.type===Me.DELETE_ENTITY)return!0;let s=o.getOrNull(n.entityId);return s?n.timestamp<=1?!0:i===t.componentId?!1:!!(i===Gm.componentId||i===o.componentId||i&&s.componentIds.includes(i)):!1}}var oa;(function(e){e[e.CRDT=1]="CRDT",e[e.REQ_CRDT_STATE=2]="REQ_CRDT_STATE",e[e.RES_CRDT_STATE=3]="RES_CRDT_STATE"})(oa||(oa={}));function wA(e){let t=new Map;return{on:(o,n)=>{t.set(o,n)},emit:(o,n,i)=>{e(VP(o,n),i)},__processMessages:o=>{for(let n of o){let i=HP(n);if(!i)continue;let{sender:r,messageType:a,data:s}=i,c=t.get(a);c&&c(s,r)}}}}function VP(e,t){let o=new Uint8Array(t.byteLength+1);return o.set([e]),o.set(t,1),o}function HP(e){try{let t=0,o=new Uint8Array(e),n=new DataView(o.buffer),i=n.getUint8(t);t+=1;let r=U2(e.subarray(1,i+1));t+=i;let a=n.getUint8(t);t+=1;let s=o.subarray(t);return{sender:r,messageType:a,data:s}}catch(t){console.error("Invalid Comms message",t)}}function U2(e){let t=new Lt;return t.writeBuffer(e,!0),t.readUtf8String()}function xA(e){let t=new Lt;return t.writeUtf8String(e),t.readBuffer()}function IA(e,t){t({}).then(({data:o})=>{if(o?.userId){let n=o.userId,i=Nr(o.userId);e.networkId=i,e.userId=n}else throw new Error("Couldn't fetch profile data")})}function RA(e,t){let o=e.getComponent(nu.componentId),n=e.getComponent(Gm.componentId),i=e.getComponent(Sn.componentId),r=e.getComponent($m.componentId);function a(A,v,S){let _=[...v];if(!t?.networkId)throw new Error("Profile not initialized. Call syncEntity inside the main() function.");let x={entityId:A,networkId:t.networkId};if(S!==void 0){x.networkId=0,x.entityId=S;for(let[k,j]of e.getEntitiesWith(o))if(j.networkId===x.networkId&&j.entityId===x.entityId)throw new Error("syncEntity failed because the id provided is already in use")}for(let k of M2)_.includes(k.componentId)&&(console.log(`\u26A0\uFE0F ${k.componentName} can't be sync through the network!`),_=_.filter(j=>j!==k.componentId));o.createOrReplace(A,x),r.createOrReplace(A,{componentIds:_})}function*s(A){let v=o.getOrNull(A);if(v)for(let[S,_]of e.getEntitiesWith(n))_.entityId===v.entityId&&_.networkId===v.networkId&&(yield S)}function c(A){return Array.from(s(A))[0]}function d(A){let v=n.getOrNull(A);if(v){for(let[S,_]of e.getEntitiesWith(o))if(v.networkId===_.networkId&&v.entityId===_.entityId)return S}}function h(A,v){let S=o.getOrNull(v);if(!S)throw new Error("Entity is not sync. Call syncEntity on the parent.");n.createOrReplace(A,S),i.getOrNull(A)?i.getMutable(A):i.create(A)}function g(A){if(!o.getOrNull(A))throw new Error("Entity is not sync");n.deleteFrom(A)}return{syncEntity:a,getChildren:s,getParent:d,parentEntity:h,removeParent:g,getFirstChild:c}}function NA(e){let t=jn.getHeader(e);return t?t.type===Me.PUT_COMPONENT?Wo.read(e):t.type===Me.PUT_COMPONENT_NETWORK?Si.read(e):t.type===Me.DELETE_COMPONENT?Kr.read(e):t.type===Me.DELETE_COMPONENT_NETWORK?ba.read(e):t.type===Me.APPEND_VALUE?Ji.read(e):t.type===Me.DELETE_ENTITY?Qi.read(e):t.type===Me.DELETE_ENTITY_NETWORK?va.read(e):null:null}function*B2(e,t,o){let n=new Lt(t),i;for(;i=NA(n);){let r=i.entityId,a=`${e}: ${Me[i.type]} e=${r}`;if((i.type===Me.DELETE_ENTITY||i.type===Me.DELETE_ENTITY_NETWORK)&&(yield`${a}`),i.type===Me.PUT_COMPONENT||i.type===Me.PUT_COMPONENT_NETWORK||i.type===Me.DELETE_COMPONENT_NETWORK||i.type===Me.DELETE_COMPONENT||i.type===Me.APPEND_VALUE){let{componentId:s,timestamp:c}=i,d="data"in i?i.data:void 0,h=d?`${d.byteLength/1024}KB`:"";try{let g=o.getComponent(s);yield`${a} c=${g.componentName} t=${c} ${h} data=${JSON.stringify(d&&g.schema.deserialize(new Lt(d))||null)}`}catch{yield`${a} c=${s} t=${c} data=?`}}else i.type===Me.DELETE_ENTITY||i.type===Me.DELETE_ENTITY_NETWORK?yield a:yield`${a} Unknown CrdtMessageType`}}function OA(e,t,o){let n=()=>globalThis.DEBUG_NETWORK_MESSAGES??!1,i={};IA(i,o);let r=RA(e,i),a=[],s=wA((x,k)=>{a.push({data:[x],address:k??[]})});function c(){let x=[...a];return a.length=0,x}let d=k1(e),h=!1,g=!1,A={filter:AA(e),send:async x=>{for(let ie of[x].flat())ie.byteLength&&g&&(n()&&console.log(...Array.from(B2("[NetworkMessage sent]:",ie,e))),s.emit(oa.CRDT,ie));let k=c(),j=0;for(let ie of k)for(let ve of ie.data)j+=ve.byteLength;j&&n()&&console.log("Sending network messages: ",j/1024,"KB");let Y=await t({data:[],peerData:k});s.__processMessages(Y.data),g=!0},type:"network"};e.addTransport(A),s.on(oa.RES_CRDT_STATE,x=>{let{sender:k,data:j}=$P(x);k===i.userId&&(n()&&console.log("[Processing CRDT State]",j.byteLength/1024,"KB"),A.onmessage(j),h=!0)}),s.on(oa.REQ_CRDT_STATE,async(x,k)=>{console.log(`Sending CRDT State to: ${k}`),A.onmessage(x),s.emit(oa.RES_CRDT_STATE,GP(k,z2(e)),[k])}),s.on(oa.CRDT,x=>{n()&&console.log(Array.from(B2("[NetworkMessage received]:",x,e))),A.onmessage(x)});async function v(x=1){let k=Array.from(e.getEntitiesWith(gs));if(n()&&console.log(`Requesting state. Players connected: ${k.length-1}`),!Ts.getOrNull(e.RootEntity)?.isConnectedSceneRoom){n()&&console.log("Aborting Requesting state?. Disconnected");return}s.emit(oa.REQ_CRDT_STATE,z2(e)),await _(5e3),k=Array.from(e.getEntitiesWith(gs)),h||(k.length>1&&x<=2?(n()&&console.log(`Requesting state again ${x} (no response). Players connected: ${k.length-1}`),v(x+1)):(n()&&console.log("No active players. State syncronized"),h=!0))}d.onEnterScene(x=>{n()&&console.log("[onEnterScene]",x.userId)}),Ts.onChange(e.RootEntity,x=>{x?.isConnectedSceneRoom||(n()&&console.log("Disconnected from comms"),h=!1),x?.isConnectedSceneRoom&&n()&&console.log("Connected to comms"),x?.isConnectedSceneRoom&&!h&&v()}),d.onLeaveScene(x=>{n()&&console.log("[onLeaveScene]",x)});function S(){return h}function _(x){return new Promise(k=>{let j=0;function Y(ie){j+=ie,j*1e3>=x&&(e.removeSystem(Y),k())}e.addSystem(Y)})}return{...r,myProfile:i,isStateSyncronized:S}}function $P(e){let t=0,o=new Uint8Array(e),i=new DataView(o.buffer).getUint8(t);t+=1;let r=U2(e.subarray(1,i+1));t+=i;let a=o.subarray(t);return{sender:r,data:a}}function GP(e,t){let o=xA(e),i=1+o.byteLength+t.byteLength,r=new Uint8Array(i);return r.set(new Uint8Array([o.byteLength]),0),r.set(o,1),r.set(t,o.byteLength+1),r}var CA=require("~system/UserIdentity"),{getChildren:$$,syncEntity:MA,parentEntity:G$,getParent:q$,myProfile:Y$,removeParent:J$,getFirstChild:Q$,isStateSyncronized:K$}=OA(De,kA.sendBinary,CA.getUserData);var Qh=ot(V2()),nr;(function(e){e.createElement=Qh.default.createElement,e.useEffect=Qh.default.useEffect,e.useState=Qh.default.useState})(nr||(nr={}));var xw=ot(cw());var u6={"nine-slices":0,center:1,stretch:2};function lw(e){return{textureMode:e?u6[e]:1}}function fw(e){if(e.texture)return{tex:{$case:"texture",texture:uw(e.texture)}};if(e.avatarTexture)return{tex:{$case:"avatarTexture",avatarTexture:uw(e.avatarTexture)}}}function uw(e){return{...e,wrapMode:e.wrapMode?l6[e.wrapMode]:void 0,filterMode:e.filterMode?f6[e.filterMode]:void 0}}var l6={repeat:0,clamp:1,mirror:2},f6={point:0,"bi-linear":1,"tri-linear":2};function n0(e){if(!e||!Object.keys(e).length)return;let t=fw(e);return{...e,...lw(e.textureMode),uvs:e.uvs??[],texture:t}}function od(e){return`${e[0].toUpperCase()}${e.slice(1,e.length)}`}function d6(e){return typeof e=="string"&&e.endsWith("%")}function p6(e){return typeof e=="string"&&e.endsWith("px")}function m6(e){return typeof e=="string"&&e.endsWith("vw")}function h6(e){return typeof e=="string"&&e.endsWith("vh")}function o0(e){function t(o,n){return Number(n.slice(0,n.indexOf(o)))}return e==null?[void 0,0]:e==="auto"?[0,3]:typeof e=="number"||typeof e=="string"&&!isNaN(Number(e))?[Number(e),1]:d6(e)?[t("%",e),2]:p6(e)?[t("px",e),1]:m6(e)||h6(e)?[i0(e),1]:[void 0,0]}function Z2(e){if(typeof e=="object"){let t={};for(let o in e){let n=o,i=`border${od(n)}Radius`,r=`${i}Unit`,[a,s]=o0(e[n]);a!==void 0&&(t[r]=s,t[i]=a)}return t}if(typeof e=="number")return Z2({topLeft:e,topRight:e,bottomLeft:e,bottomRight:e})}function eE(e){if(typeof e=="object"){let t={};for(let o in e){let n=o,i=`border${od(n)}Width`,r=`${i}Unit`,[a,s]=o0(e[n]);a!==void 0&&(t[r]=s,t[i]=a)}return t}if(typeof e=="number")return eE({top:e,left:e,right:e,bottom:e})}var y6=e=>e.b!==void 0;function tE(e){if(y6(e))return tE({top:e,left:e,right:e,bottom:e});if(typeof e=="object"){let t={};for(let o in e){let n=o,i=`border${od(n)}Color`;t[i]=e[n]}return t}}function ra(e={},t){if(typeof e=="object"){let s={};for(let c in e){let d=c,h=`${t}${od(d)}`,g=`${t}${od(d)}Unit`,[A,v]=o0(e[d]);A!==void 0&&(s[g]=v,s[h]=A)}return s}if(typeof e=="number")return ra({top:e,left:e,right:e,bottom:e},t);let o=e.split(" ").filter(s=>s!=="");if(o.length===1){let[s]=o;return ra({top:s,left:s,right:s,bottom:s},t)}if(o.length===2){let[s,c]=o;return ra({top:s,left:c,right:c,bottom:s},t)}if(o.length===3){let[s,c,d]=o;return ra({top:s,left:c,right:c,bottom:d},t)}let[n,i,r,a]=o;return ra({top:n,right:i,bottom:r,left:a},t)}function Ms(e,t){let o=`${t}Unit`,[n,i]=o0(e);return n===void 0?{}:{[t]:n,[o]:i}}function dw(e){return{display:e?E6[e]:0}}var E6={flex:0,none:1};function pw(e){return{justifyContent:e?g6[e]:0}}var g6={center:1,"flex-end":2,"flex-start":0,"space-around":4,"space-between":3,"space-evenly":5};function r0(e,t){let o=T6[t];return{[e]:o}}var T6={auto:0,baseline:5,center:2,"flex-end":3,"flex-start":1,stretch:4,"space-between":6,"space-around":7};function mw(e){return{flexDirection:e?_6[e]:0}}var _6={row:0,column:1,"row-reverse":3,"column-reverse":2};function hw(e){return{flexWrap:S6[e]}}var S6={wrap:1,nowrap:0,"wrap-reverse":2};function yw(e){return{overflow:e?b6[e]:0}}var b6={visible:0,scroll:2,hidden:1};function Ew(e){return{positionType:e?v6[e]:0}}var v6={relative:0,absolute:1};function gw(e){return{pointerFilter:e?A6[e]:0}}var A6={none:0,block:1};var nE=0,w6={overflow:0,display:0,justifyContent:0,alignSelf:0,flexDirection:0,positionType:0,parent:nE,rightOf:0,flexBasis:0,width:0,height:0,minWidth:0,minHeight:0,maxWidth:0,maxHeight:0,flexGrow:0,marginBottom:0,marginBottomUnit:0,marginLeft:0,marginLeftUnit:0,marginRight:0,marginRightUnit:0,marginTop:0,marginTopUnit:0,maxHeightUnit:0,maxWidthUnit:0,minHeightUnit:0,minWidthUnit:0,paddingBottom:0,paddingBottomUnit:0,paddingLeft:0,paddingLeftUnit:0,paddingTopUnit:0,paddingRight:0,paddingRightUnit:0,paddingTop:0,positionBottom:0,positionBottomUnit:0,positionLeft:0,positionLeftUnit:0,positionRight:0,positionRightUnit:0,positionTop:0,positionTopUnit:0,flexBasisUnit:0,widthUnit:3,heightUnit:0,pointerFilter:0};function a0(e={}){let{height:t,minHeight:o,maxHeight:n,width:i,minWidth:r,maxWidth:a,alignItems:s,alignContent:c,flexWrap:d,borderRadius:h,borderWidth:g,borderColor:A,...v}=e;return{...w6,...v,...ra(e.position,"position"),...ra(e.margin,"margin"),...ra(e.padding,"padding"),...Ms(e.height,"height"),...Ms(e.minHeight,"minHeight"),...Ms(e.maxHeight,"maxHeight"),...Ms(e.width,"width"),...Ms(e.minWidth,"minWidth"),...Ms(e.maxWidth,"maxWidth"),...dw(e.display),...r0("alignSelf",e.alignSelf??"auto"),...pw(e.justifyContent),...mw(e.flexDirection),...yw(e.overflow),...gw(e.pointerFilter),...Ew(e.positionType),...c&&r0("alignContent",c),...s&&r0("alignItems",s),...d&&hw(d),...h&&Z2(h),...g&&eE(g),...A&&tE(A)}}function Va(e){let{uiTransform:t,uiBackground:o,...n}=e,i=a0(t),r=o?{uiBackground:n0(o)}:void 0;return{...n,uiTransform:i,...r}}function x6(e){if(typeof e=="number")return[e,"vw"];let t=Number(e.slice(0,-2));return e.endsWith("vh")?[t,"vh"]:e.endsWith("vw")?[t,"vw"]:[NaN,"vw"]}function Tw(e,t,o){return t/100*(e/o)}function _w(e=De){let o=e.getComponent(bS.componentId).getOrNull(e.RootEntity);if(!o)return;let{width:n,height:i,devicePixelRatio:r}=o;return{width:n,height:i,ratio:r}}function i0(e,t=_w()){let[o,n]=x6(e);if(!t)return o;let{height:i,width:r,ratio:a}=t;return n==="vh"?Tw(o,i,a):Tw(o,r,a)}var I6={"sans-serif":0,serif:1,monospace:2};function Oi(e){if(e)return{font:I6[e]}}var R6={"top-left":0,"top-center":1,"top-right":2,"middle-left":3,"middle-center":4,"middle-right":5,"bottom-left":6,"bottom-center":7,"bottom-right":8};function ki(e){if(e)return{textAlign:R6[e]}}function Ci(e){if(e)return typeof e=="string"?{fontSize:i0(e)}:{fontSize:e}}var N6={wrap:0,nowrap:1};function Bu(e){return e?{textWrap:N6[e]}:{textWrap:0}}var O6={onMouseDown:void 0,onMouseUp:void 0,onMouseEnter:void 0,onMouseLeave:void 0},k6=Object.keys(O6),rd=e=>k6.includes(e);function C6(e){let{textAlign:t,font:o,fontSize:n,...i}=e;return{acceptEmpty:!1,options:[],selectedIndex:e.acceptEmpty?-1:0,disabled:!1,...i,...ki(t),...Oi(o),...Ci(n)}}function Lu(e){let{uiTransform:t,uiBackground:o,onMouseDown:n,onMouseUp:i,onMouseEnter:r,onMouseLeave:a,...s}=e,c=C6(s),d=Va({uiTransform:t,uiBackground:o,onMouseDown:n,onMouseUp:i,onMouseEnter:r,onMouseLeave:a});return nr.createElement("entity",{...d,uiDropdown:c})}function M6(e){let{textAlign:t,font:o,fontSize:n,...i}=e;return{disabled:!1,placeholder:"",...i,...ki(t),...Oi(o),...Ci(n)}}function id(e){let{uiTransform:t,uiBackground:o,onMouseDown:n,onMouseUp:i,onMouseEnter:r,onMouseLeave:a,...s}=e,c=M6(s),d=Va({uiTransform:t,uiBackground:o,onMouseDown:n,onMouseUp:i,onMouseEnter:r,onMouseLeave:a});return nr.createElement("entity",{...d,uiInput:c})}function Bn(e){let{uiTransform:t,uiBackground:o,onMouseDown:n,onMouseUp:i,onMouseEnter:r,onMouseLeave:a,...s}=e,c=Va({uiTransform:t,uiBackground:o,onMouseDown:n,onMouseUp:i,onMouseEnter:r,onMouseLeave:a}),{font:d,textAlign:h,fontSize:g,textWrap:A,...v}=s,S={...v,...Oi(d),...ki(h),...Ci(g),...Bu(A)};return nr.createElement("entity",{...c,uiText:S})}function z6(e){return e.variant==="secondary"?{uiBackground:{color:{r:1,g:1,b:1,a:1}},uiText:{color:{r:.98,g:.17,b:.33,a:1}}}:{uiBackground:{color:{r:.98,g:.17,b:.33,a:1}},uiText:{color:{r:1,g:1,b:1,a:1}}}}function oE(e){let{uiTransform:t,uiBackground:o,onMouseDown:n,onMouseUp:i,onMouseEnter:r,onMouseLeave:a,...s}=e,c=z6(e),d=n0({...c.uiBackground,...o}),{font:h,textAlign:g,fontSize:A,textWrap:v,...S}=s,_={...c.uiText,...S,...Oi(h),...ki(g),...Ci(A),...Bu(v)},x=a0({height:36,...t});return e.disabled&&(_.color&&(_.color.a/=2),d&&d.color&&(d.color.a/=2)),nr.createElement("entity",{onMouseDown:e.disabled?void 0:n,onMouseUp:e.disabled?void 0:i,onMouseEnter:r,onMouseLeave:a,uiTransform:x,uiText:_,uiBackground:d})}function It(e){let t=e.uiText&&{uiText:{...e.uiText,...Oi(e.uiText.font),...ki(e.uiText.textAlign),...Ci(e.uiText.fontSize),...Bu(e.uiText.textWrap)}};return nr.createElement("entity",{...Va(e),...t})}function Sw(e,t,o){if(t&&!o)return{type:"delete",component:e};if(!o)return;if(!t&&o)return{type:"add",props:o,component:e};if(rd(e)&&!rE(t,o))return{type:"put",component:e,props:o};let n={};for(let i in t){let r=i;rE(t[r],o[r])||(n[r]=o[r])}if(Object.keys(n).length)return{type:"put",props:n,component:e}}var U6={uiText:void 0,uiBackground:void 0,uiTransform:void 0,onMouseDown:void 0,onMouseUp:void 0,onMouseEnter:void 0,onMouseLeave:void 0,uiInput:void 0,uiDropdown:void 0},bw=Object.keys(U6);function rE(e,t){if(!e&&!t)return!0;if(!e||!t)return e===t;if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e!="object")return e===t;if(Array.isArray(e)&&Array.isArray(t)&&e.length!==t.length||Object.keys(e).length!==Object.keys(t).length)return!1;if(JSON.stringify(e)===JSON.stringify(t))return!0;for(let o in e)if(!rE(e[o],t[o]))return!1;return!0}var vw=e=>!!e,Aw={supportsMutation:!0,supportsPersistence:!1,noTimeout:-1,isPrimaryRenderer:!0,supportsHydration:!1,insertInContainerBefore(e,t,o){},detachDeletedInstance(e){},hideInstance(e){},hideTextInstance(e){},unhideInstance(e,t){},unhideTextInstance(e,t){},clearContainer(e){},getCurrentEventPriority(){return 0},getInstanceFromNode(e){return null},beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},prepareScopeUpdate(){},getInstanceFromScope(){return null},commitMount(e,t,o,n){},resetTextContent(e){},commitTextUpdate(e,t,o){},prepareForCommit(e){return null},resetAfterCommit(e){},preparePortalMount(e){},createTextInstance(e,t,o,n){return{}},scheduleTimeout(e,t){},cancelTimeout(e){},shouldSetTextContent(e,t){return!1},getRootHostContext(e){return null},getChildHostContext(e,t,o){return null},getPublicInstance(e){return e},finalizeInitialChildren(e,t,o,n,i){return!1}};function ww(e){return{onMouseDown:1,onMouseUp:0,onMouseEnter:2,onMouseLeave:3}[e]}function Iw(e,t){let o=new Set,n=new Map,i=new Map,r=qi(e),a=ys(e),s=jc(e),c=ms(e),d=hs(e),h=_l(e),g=Sl(e),A={uiTransform:r.componentId,uiText:a.componentId,uiBackground:s.componentId,uiInput:c.componentId,uiDropdown:h.componentId};function v(X,Z){let q=i.get(X)?.get(Z);q&&q()}function S(X,Z){k(X,Z,"uiTransform")}function _(X,Z){if(Z.type==="delete"||!Z.props){i.get(X.entity)?.delete(ww(Z.component)),Z.component==="onMouseDown"?t.removeOnPointerDown(X.entity):Z.component==="onMouseUp"?t.removeOnPointerUp(X.entity):Z.component==="onMouseEnter"?t.removeOnPointerHoverEnter(X.entity):Z.component==="onMouseLeave"&&t.removeOnPointerHoverLeave(X.entity);return}if(Z.props){let q=ww(Z.component),B=i.get(X.entity)||i.set(X.entity,new Map).get(X.entity),ce=B.get(q);if(B.set(q,Z.props),ce)return;let R=Z.component==="onMouseDown"?t.onPointerDown:Z.component==="onMouseUp"?t.onPointerUp:Z.component==="onMouseEnter"?t.onPointerHoverEnter:Z.component==="onMouseLeave"&&t.onPointerHoverLeave;R&&R({entity:X.entity,opts:{button:0,showFeedback:!0}},()=>v(X.entity,q))}}function x(X,Z){let q=A[Z];e.getComponent(q).deleteFrom(X.entity)}function k(X,Z={},q){let B=A[q],ce="onChange"in Z,R="onSubmit"in Z,C=n.get(X.entity)?.get(B),$=ce?Z.onChange:C?.onChangeCallback,Se=R?Z.onSubmit:C?.onSubmitCallback;if((ce||R)&&(ve(X.entity,B,{onChangeCallback:$,onSubmitCallback:Se}),delete Z.onChange,delete Z.onSubmit),!Object.keys(Z).length)return;let ye=e.getComponent(B),we=ye.getMutableOrNull(X.entity)||ye.create(X.entity);for(let Re in Z){let Xe=Re;we[Xe]=Z[Xe]}}function j(X){n.delete(X.entity),i.delete(X.entity),e.removeEntity(X.entity);for(let Z of X._child)j(Z)}function Y(X,Z){if(!Z||!Object.keys(X).length)return;if(X._child.find(B=>B.entity===Z.entity)){let B=X._child.find(ce=>ce.rightOf===Z.entity);B&&(B.rightOf=Z.rightOf,X._child=X._child.filter(ce=>ce.entity!==Z.entity),X._child.push(Z),S(B,{rightOf:B.rightOf})),Z.rightOf=X._child[X._child.length-2]?.entity}else Z.rightOf=X._child[X._child.length-1]?.entity,X._child.push(Z);Z.parent=X.entity,S(Z,{rightOf:Z.rightOf,parent:X.entity})}function ie(X,Z){let q=X._child.findIndex(ce=>ce.entity===Z.entity),B=X._child[q+1];B&&(B.rightOf=Z.rightOf,S(B,{rightOf:Z.rightOf})),X._child.splice(q,1),j(Z)}function ve(X,Z,q){let B=n.has(X),ce=n.get(X)||n.set(X,new Map).get(X),R=q?.onChangeCallback,C=q?.onSubmitCallback;if(ce.set(Z,{onChangeCallback:R,onSubmitCallback:C}),!B){let $=Z===h.componentId?g.componentId:d.componentId;e.getComponent($).onChange(X,Se=>{if(Se?.isSubmit){let we=n.get(X)?.get(Z)?.onSubmitCallback;we&&we(Se?.value)}let ye=n.get(X)?.get(Z)?.onChangeCallback;ye&&ye(Se?.value)})}}let ae={...Aw,createInstance(X,Z){let q=e.addEntity();o.add(q);let B={entity:q,_child:[],parent:nE,rightOf:void 0};for(let ce in Z){let R=ce;R==="children"||R==="key"||(rd(R)?_(B,{type:"add",props:Z[R],component:R}):k(B,Z[R],R))}return B},appendChild:Y,appendChildToContainer:Y,appendInitialChild:Y,removeChild:ie,prepareUpdate(X,Z,q,B){return bw.map(ce=>Sw(ce,q[ce],B[ce])).filter(vw)},commitUpdate(X,Z,q,B,ce,R){for(let C of Z){if(rd(C.component)){_(X,C);continue}C.type==="delete"?x(X,C.component):C.props&&k(X,C.props,C.component)}},insertBefore(X,Z,q){let B=X._child.findIndex(ce=>ce.entity===q.entity);X._child=[...X._child.slice(0,B),Z,...X._child.slice(B)],Z.rightOf=q.rightOf,q.rightOf=Z.entity,Z.parent=X.entity,S(Z,{rightOf:Z.rightOf,parent:Z.parent}),S(q,{rightOf:q.rightOf})},removeChildFromContainer(X,Z){j(Z)}},J=(0,xw.default)(ae),ne=J.createContainer({},0,null,!1,null,"",function(){},null);return{update:function(X){return J.updateContainer(X,ne,null)},getEntities:()=>Array.from(o)}}function iE(e,t){let o=Iw(e,t),n;function i(){n&&o.update(n())}return e.addSystem(i,1e5,"@dcl/react-ecs"),{destroy(){e.removeSystem(i);for(let r of o.getEntities())e.removeEntity(r)},setUiRenderer(r){n=r}}}var Be=nr;var Vw=require("~system/UserActionModule"),ia=require("~system/RestrictedActions"),Hw=require("~system/CommsApi"),$w=require("~system/SignedFetch"),Gw=require("~system/Runtime");var aE=new Set,Du=new Map,Fu=new Map;function Rw(){return function(i){e(i),t(i),o(i)};function e(n){for(let[i,r]of Fu.entries()){let a=hn(i);for(let s of r)s.timeout===s.interval&&s.callback(),s.timeout-=n,s.timeout<=0&&(s.timeout=s.interval,a.emit(vt.ON_LOOP))}}function t(n){for(let[i,r]of Du.entries()){let a=hn(i),s=[],c=0;for(let d of r)d.timeout-=n,d.timeout<=0&&(d.callback(),a.emit(vt.ON_DELAY),s.push(c)),c++;for(let d of s)r.splice(d,1)}}function o(n){for(let i of aE)hn(i).emit(vt.ON_TICK)}}function s0(e,t,o,n){let i=Du.get(e)??[];i.push({timeout:o,action:t,callback:n}),Du.set(e,i)}function Nw(e,t){let o=Du.get(e)??[];Du.set(e,o.filter(n=>n.action!==t))}function Ow(e){Du.delete(e)}function kw(e,t,o,n){let i=Fu.get(e)??[];i.push({timeout:o,action:t,callback:n,interval:o}),Fu.set(e,i)}function Cw(e,t){let o=Fu.get(e)??[];Fu.set(e,o.filter(n=>n.action!==t))}function Mw(e){Fu.delete(e)}var $t="https://builder-items.decentraland.org",Pw="https://subgraph.decentraland.org/land-manager",c0="https://rewards.decentraland.org";function B6(e,t){switch(e){case yn.TAM_TOP_LEFT:return{alignItems:1,justifyContent:0};case yn.TAM_TOP_CENTER:return t?{alignItems:2,justifyContent:0}:{alignItems:1,justifyContent:1};case yn.TAM_TOP_RIGHT:return t?{alignItems:3,justifyContent:0}:{alignItems:1,justifyContent:2};case yn.TAM_MIDDLE_LEFT:return t?{alignItems:1,justifyContent:1}:{alignItems:2,justifyContent:0};case yn.TAM_MIDDLE_CENTER:return{alignItems:2,justifyContent:1};case yn.TAM_MIDDLE_RIGHT:return t?{alignItems:3,justifyContent:1}:{alignItems:2,justifyContent:2};case yn.TAM_BOTTOM_LEFT:return t?{alignItems:1,justifyContent:2}:{alignItems:2,justifyContent:1};case yn.TAM_BOTTOM_CENTER:return t?{alignItems:2,justifyContent:2}:{alignItems:3,justifyContent:1};case yn.TAM_BOTTOM_RIGHT:return{alignItems:3,justifyContent:2}}}var L6=new Set([yn.TAM_TOP_LEFT,yn.TAM_TOP_CENTER,yn.TAM_TOP_RIGHT,yn.TAM_MIDDLE_LEFT,yn.TAM_MIDDLE_CENTER,yn.TAM_MIDDLE_RIGHT,yn.TAM_BOTTOM_LEFT,yn.TAM_BOTTOM_CENTER,yn.TAM_BOTTOM_RIGHT]);function zw(e,t=0){let o=t===1;if(L6.has(e))return B6(e,o);throw new Error(`Unsupported AlignMode: ${e}`)}function Fr(e,t,o=100,n=100,i=2){let r=e.getMutableOrNull(t);return r||(r=e.create(t),r.heightUnit=i,r.widthUnit=i,r.height=o,r.width=n,r.maxHeightUnit=i,r.maxWidthUnit=i,r.maxHeight=o,r.maxWidth=n),t===0&&(r.positionType=1),r}function u0(e,t,o,n=0,i=1){return e.createOrReplace(t,{textureMode:n,texture:{tex:{$case:"texture",texture:{src:o,wrapMode:i}}},uvs:[]})}function D6(e,t){let o=`
`,n=0,i="",r="",a=!1,s=t||50;if(!e)return"";if(e.length<s+1)return e;for(;n<e.length;)if(i=e.substring(n,n+s),a=!1,i.length==s){for(let c=i.length;c>-1;c--)if(i.substring(c,c+1)==" "){n+=i.substring(0,c).length,i=i.substring(0,c)+o,r+=i,a=!0;break}a||(n+=i.length,i=i+o,r+=i)}else{r+=i;break}return r}function l0(e,t,o,n=10,i,r=4,a=Ge.White()){let s=Math.floor(i/(n/1.7));return e.createOrReplace(t,{value:D6(o,s),fontSize:n,font:Oa.F_MONOSPACE,textAlign:r,color:a})}function sE(e,t,o){let n=e.getEntitiesWith(t);for(let[i,r]of n)r.parent===o&&(sE(e,t,i),e.removeEntity(i))}function Fo(e){let{UiCanvasInformation:t}=qn(e),o=t.getOrNull(e.RootEntity);return o?Math.min(o.width/1920,o.height/1080):1}var F6=`${$t}/admin_toolkit/assets/icons/text-announcement-close-button.png`;function Uw(e,t,o,n,i,r,a,s,c){console.log("showCaptchaPrompt");let d=Fo(e),h=e.addEntity(),g=Fr(t,h);g.display=0,g.alignItems=2,g.justifyContent=1;let A=e.addEntity(),v=Fr(t,A,260*d,250*d,1);v.parent=h,v.display=0,v.flexDirection=1,v.alignItems=2,v.paddingTop=20*d,v.paddingTopUnit=1,v.paddingBottom=20*d,v.paddingBottomUnit=1,v.paddingLeft=20*d,v.paddingLeftUnit=1,v.paddingRight=20*d,v.paddingRightUnit=1,v.pointerFilter=1,o.createOrReplace(A,{color:Ge.create(.15,.15,.15,.95),textureMode:0,uvs:[]});let S=e.addEntity(),_=Fr(t,S,24*d,24*d,1);_.parent=A,_.positionType=1,_.positionRight=5*d,_.positionRightUnit=1,_.positionTop=5*d,_.positionTopUnit=1,_.pointerFilter=1,u0(o,S,F6,2),a.onPointerDown({entity:S,opts:{button:0}},()=>{sE(e,t,h),e.removeEntity(h)});let x=e.addEntity(),k=Fr(t,x,20*d,200*d,1);k.parent=A,k.marginBottom=10*d,k.marginBottomUnit=1,k.positionType=1,k.positionTop=30*d,k.positionTopUnit=1,l0(n,x,"Enter the captcha",20*d,200*d,4,Ge.White());let j=e.addEntity(),Y=Fr(t,j,80*d,200*d,1);Y.parent=A,Y.marginBottom=10*d,Y.marginBottomUnit=1,Y.positionType=1,Y.positionTop=60*d,Y.positionTopUnit=1,u0(o,j,s.captcha.image,2);let ie=e.addEntity(),ve=Fr(t,ie,50*d,200*d,1);ve.parent=A,ve.marginBottom=10*d,ve.marginBottomUnit=1,ve.positionType=1,ve.positionTop=150*d,ve.positionTopUnit=1,i.createOrReplace(ie,{placeholder:"Enter the captcha",color:Ge.White(),placeholderColor:Ge.create(.3,.3,.3,1),disabled:!1,textAlign:4,font:Oa.F_MONOSPACE,fontSize:10*d}),r.createOrReplace(ie,{value:"",isSubmit:!1});let ae=e.addEntity(),J=Fr(t,ae,30*d,100*d,1);return J.parent=A,J.marginBottom=10*d,J.marginBottomUnit=1,J.positionType=1,J.positionTop=210*d,J.positionTopUnit=1,J.pointerFilter=1,l0(n,ae,"Submit",16*d,100*d,4,Ge.White()),o.createOrReplace(ae,{color:{r:.3,g:.3,b:.3,a:1},textureMode:0,uvs:[]}),a.onPointerDown({entity:ae,opts:{button:0}},()=>{let ne=r.get(ie)?.value||"";c(ne),sE(e,t,h),e.removeEntity(h)}),h}var Ps=Fl();function Bw(e){return function(){e.isTriggered(0,1)&&Ps.emit(0,null),e.isTriggered(1,1)&&Ps.emit(1,null),e.isTriggered(2,1)&&Ps.emit(2,null)}}var Lw=new Set,cE=[],lE=new Set,fE=new Set,uE=null;function Dw(e){if(uE)return uE(e);throw new Error("Cannot call initTriggers while triggersSystem has not been created")}function Fw(e,t,o,n){let{Transform:i,Tween:r,PointerEvents:a}=t,{Actions:s,States:c,Counter:d,Triggers:h}=vn(e);return uE=g,function(ce){for(;cE.length>0;){let{entity:C,action:$}=cE.shift();bi(C).emit($.name,st($))}let R=e.getEntitiesWith(h);for(let[C]of R)g(C),q(C)};function g(B){if(!h.has(B)||Lw.has(B))return;let ce=h.get(B),R=ce.value.reduce(($,Se)=>$.add(Se.type),new Set);for(let $ of R)switch($){case vt.ON_CLICK:{j(B);break}case vt.ON_INPUT_ACTION:{Y(B);break}case vt.ON_PLAYER_ENTERS_AREA:case vt.ON_PLAYER_LEAVES_AREA:{ie(B);break}case vt.ON_DAMAGE:{ve(B);break}case vt.ON_HEAL_PLAYER:ae(B);case vt.ON_GLOBAL_CLICK:{J(B);break}case vt.ON_GLOBAL_PRIMARY:{ne(B);break}case vt.ON_GLOBAL_SECONDARY:{X(B);break}case vt.ON_TICK:{Z(B);break}}let C=hn(B);for(let $ of ce.value)C.on($.type,()=>{if(v($)){for(let Se of $.actions)if(A(Se)){let ye=x(Se);if(ye){let we=s.getOrNull(ye);if(we){let Re=we.value.find(Xe=>Xe.name===Se.name);Re&&cE.push({entity:ye,action:Re})}}}}});C.emit(vt.ON_SPAWN),Lw.add(B)}function A(B){let{id:ce,name:R}=B;return!!ce&&!!R}function v(B){if(B.conditions&&B.conditions.length>0){let ce=B.conditions.map(S),R=$=>!!$;switch(B.operation||Zi.AND){case Zi.AND:return ce.every(R);case Zi.OR:return ce.some(R)}}return!0}function S(B){let ce=k(B);if(ce)try{switch(B.type){case kn.WHEN_STATE_IS:{let R=c.getOrNull(ce);if(R!==null)return I1(R)===B.value;break}case kn.WHEN_STATE_IS_NOT:{let R=c.getOrNull(ce);if(R!==null)return I1(R)!==B.value;break}case kn.WHEN_PREVIOUS_STATE_IS:{let R=c.getOrNull(ce);if(R!==null)return N1(R)===B.value;break}case kn.WHEN_PREVIOUS_STATE_IS_NOT:{let R=c.getOrNull(ce);if(R!==null)return N1(R)!==B.value;break}case kn.WHEN_COUNTER_EQUALS:{let R=d.getOrNull(ce);if(R!==null){let C=Number(B.value);if(!isNaN(C))return R.value===C}break}case kn.WHEN_COUNTER_IS_GREATER_THAN:{let R=d.getOrNull(ce);if(R!==null){let C=Number(B.value);if(!isNaN(C))return R.value>C}break}case kn.WHEN_COUNTER_IS_LESS_THAN:{let R=d.getOrNull(ce);if(R!==null){let C=Number(B.value);if(!isNaN(C))return R.value<C}break}case kn.WHEN_DISTANCE_TO_PLAYER_LESS_THAN:{let R=kr(ce),C=Number(B.value);if(!isNaN(C))return Ee.distance(R,su())<C;break}case kn.WHEN_DISTANCE_TO_PLAYER_GREATER_THAN:{let R=kr(ce),C=Number(B.value);if(!isNaN(C))return Ee.distance(R,su())>C;break}}}catch{console.error("Error in condition",B)}return!1}function _(B,ce){let R=e.getComponent(B),$=Array.from(e.getEntitiesWith(R)).find(([Se,ye])=>ye.id===ce);return Array.isArray($)&&$.length>0?$[0]:null}function x(B){if(B.id){let ce=_(Mt.ACTIONS,B.id);if(ce)return ce}return null}function k(B){let ce=Object.values(Mt).map(R=>({componentName:R,conditionTypes:tb(R)})).reduce((R,{componentName:C,conditionTypes:$})=>$.includes(B.type)?C:R,null);if(ce&&B.id){let R=_(ce,B.id);if(R)return R}return null}function j(B){let ce=a.getMutableOrNull(B),R={button:0,hoverText:"Click"};ce&&(ce.pointerEvents=ce.pointerEvents.filter(C=>!(C.eventInfo?.button===R.button&&C.eventInfo.hoverText===R.hoverText))),o.onPointerDown({entity:B,opts:R},()=>{hn(B).emit(vt.ON_CLICK)})}function Y(B){let ce=a.getMutableOrNull(B),R={button:1,hoverText:"Press"};ce&&(ce.pointerEvents=ce.pointerEvents.filter(C=>!(C.eventInfo?.button===R.button&&C.eventInfo.hoverText===R.hoverText))),o.onPointerDown({entity:B,opts:R},()=>{hn(B).emit(vt.ON_INPUT_ACTION)})}function ie(B){let ce=i.getOrNull(B);uu.addTrigger(B,Na,bs,[{type:"box",scale:ce?ce.scale:{x:1,y:1,z:1}}],()=>{hn(B).emit(vt.ON_PLAYER_ENTERS_AREA)},()=>{hn(B).emit(vt.ON_PLAYER_LEAVES_AREA)})}function ve(B){lE.add(B)}function ae(B){fE.add(B)}function J(B){Ps.on(0,()=>{hn(B).emit(vt.ON_GLOBAL_CLICK)})}function ne(B){Ps.on(1,()=>{hn(B).emit(vt.ON_GLOBAL_PRIMARY)})}function X(B){Ps.on(2,()=>{hn(B).emit(vt.ON_GLOBAL_SECONDARY)})}function Z(B){aE.add(B)}function q(B){r.getOrNull(B)&&Dm.getOrNull(B)?.state===1&&n.tweenCompleted(B)&&hn(B).emit(vt.ON_TWEEN_END)}}var f0=new Map;function jw(e){let{Transform:t}=e;return function(){for(let[n,{target:i,speed:r,minDistance:a,axes:s}]of f0){let c=t.getMutableOrNull(n),d=t.getOrNull(i);if(!c||!d)continue;let h=Ee.subtract(d.position,c.position),g=Ee.length(h);if(g<a)continue;let A=Ee.normalize(h),v=Ee.scale(A,r/10);if(Ee.length(v)>g)continue;s.x||(v.x=0),s.y||(v.y=0),s.z||(v.z=0),Ee.addToRef(v,c.position,c.position);let S=Ee.clone(d.position);s.x||(S.x=c.position.x),s.y||(S.y=c.position.y),s.z||(S.z=c.position.z);let _=ht.fromLookAt(c.position,S);c.rotation=_}}}function d0(e){switch(e){case Vn.LINEAR:return 0;case Vn.EASEINQUAD:return 1;case Vn.EASEOUTQUAD:return 2;case Vn.EASEQUAD:return 3;case Vn.EASEINSINE:return 4;case Vn.EASEOUTSINE:return 5;case Vn.EASESINE:return 6;case Vn.EASEINEXPO:return 7;case Vn.EASEOUTEXPO:return 8;case Vn.EASEEXPO:return 9;case Vn.EASEINELASTIC:return 10;case Vn.EASEOUTELASTIC:return 11;case Vn.EASEELASTIC:return 12;case Vn.EASEINBOUNCE:return 13;case Vn.EASEOUTEBOUNCE:return 14;case Vn.EASEBOUNCE:return 15;default:return 0}}var Ww=new Set,dE=new Map,pE=new Map,j6=null;function qw(e,t,o,n){let{Animator:i,Transform:r,AudioSource:a,AvatarAttach:s,VisibilityComponent:c,GltfContainer:d,UiTransform:h,UiText:g,UiBackground:A,UiInput:v,UiInputResult:S,Name:_,Tween:x,TweenSequence:k,VideoPlayer:j}=qn(e),{Actions:Y,States:ie,Counter:ve,Triggers:ae,Rewards:J}=vn(e);return j6=ne,function(ee){let de=e.getEntitiesWith(Y);for(let[xe]of de)ne(xe)};function ne(G){if(!Y.has(G)||Ww.has(G))return;let ee=Y.get(G),de=ee.value.reduce((_e,E)=>_e.add(E.type),new Set);for(let _e of de)switch(_e){case Ne.PLAY_ANIMATION:{X(G);break}default:break}let xe=bi(G);for(let _e of ee.value)xe.on(_e.name,()=>{switch(_e.type){case Ne.PLAY_ANIMATION:{Z(G,st(_e));break}case Ne.STOP_ANIMATION:{q(G,st(_e));break}case Ne.SET_STATE:{B(G,st(_e));break}case Ne.START_TWEEN:{ce(G,st(_e));break}case Ne.SET_COUNTER:{ye(G,st(_e));break}case Ne.INCREMENT_COUNTER:{we(G,st(_e));break}case Ne.DECREASE_COUNTER:{Re(G,st(_e));break}case Ne.PLAY_SOUND:{Xe(G,st(_e));break}case Ne.STOP_SOUND:{it(G,st(_e));break}case Ne.SET_VISIBILITY:{mt(G,st(_e));break}case Ne.ATTACH_TO_PLAYER:{ct(G,st(_e));break}case Ne.DETACH_FROM_PLAYER:{yt(G,st(_e));break}case Ne.PLAY_VIDEO_STREAM:{fe(G,st(_e));break}case Ne.STOP_VIDEO_STREAM:{Oe(G,st(_e));break}case Ne.PLAY_AUDIO_STREAM:{Ye(G,st(_e));break}case Ne.STOP_AUDIO_STREAM:{dt(G,st(_e));break}case Ne.TELEPORT_PLAYER:{w(G,st(_e));break}case Ne.MOVE_PLAYER:{O(G,st(_e));break}case Ne.PLAY_DEFAULT_EMOTE:{P(G,st(_e));break}case Ne.PLAY_CUSTOM_EMOTE:{I(G,st(_e));break}case Ne.OPEN_LINK:{z(G,st(_e));break}case Ne.SHOW_TEXT:{pt(G,st(_e));break}case Ne.HIDE_TEXT:{Rt(G,st(_e));break}case Ne.START_DELAY:{zt(G,st(_e));break}case Ne.STOP_DELAY:{Nt(G,st(_e));break}case Ne.START_LOOP:{Kt(G,st(_e));break}case Ne.STOP_LOOP:{lt(G,st(_e));break}case Ne.CLONE_ENTITY:{Ze(G,st(_e));break}case Ne.REMOVE_ENTITY:{tn(G,st(_e));break}case Ne.SHOW_IMAGE:{Dn(G,st(_e));break}case Ne.HIDE_IMAGE:{An(G,st(_e));break}case Ne.DAMAGE:{gn(G,st(_e));break}case Ne.MOVE_PLAYER_HERE:{wn(G,st(_e));break}case Ne.FOLLOW_PLAYER:{Qn(G,st(_e));break}case Ne.STOP_FOLLOWING_PLAYER:{Zn(G,st(_e));break}case Ne.PLACE_ON_PLAYER:{Jn(G,st(_e));break}case Ne.ROTATE_AS_PLAYER:{Fn(G,st(_e));break}case Ne.PLACE_ON_CAMERA:{_o(G,st(_e));break}case Ne.ROTATE_AS_CAMERA:{Tn(G,st(_e));break}case Ne.SET_POSITION:{So(G,st(_e));break}case Ne.SET_ROTATION:{bo(G,st(_e));break}case Ne.SET_SCALE:{Ft(G,st(_e));break}case Ne.RANDOM:{eo(G,st(_e));break}case Ne.BATCH:{V(G,st(_e));break}case Ne.HEAL_PLAYER:{K(G,st(_e));break}case Ne.CLAIM_AIRDROP:{nt(G,st(_e));break}default:break}});Ww.add(G)}function X(G){i.has(G)||(i.create(G,{states:[]}),i.stopAllAnimations(G))}function Z(G,ee){let{animation:de,loop:xe}=ee,_e=i.getMutable(G);_e.states.some(E=>E.clip===de)||(_e.states=[..._e.states,{clip:de}]),i.stopAllAnimations(G);try{let E=i.getClip(G,de);E.playing=!0,E.loop=xe??!1}catch(E){console.error("Error playing animation",E)}}function q(G,ee){i.has(G)&&i.stopAllAnimations(G)}function B(G,ee){let de=ie.getMutableOrNull(G);if(de){let xe=R1(de),_e=ee.state;_e=Wl(de,_e)?_e:xe;let E=de.currentValue??xe??void 0;de.previousValue=E,de.currentValue=_e,hn(G).emit(vt.ON_STATE_CHANGE)}}function ce(G,ee){if(ee){let de=x.getMutableOrNull(G),xe;switch(ee.type){case Xi.MOVE_ITEM:{xe=C(G,ee);break}case Xi.ROTATE_ITEM:{xe=$(G,ee);break}case Xi.SCALE_ITEM:{xe=Se(G,ee);break}default:throw new Error(`Unknown tween type: ${ee.type}`)}R(G,de,xe)}}function R(G,ee,de){let xe=k.getMutableOrNull(G),_e={...de};if(!(!ee||!xe||!xe.loop)){switch(ee.mode?.$case){case"move":{_e={..._e,mode:bn.Mode.Move({start:de.mode.move.end,end:ee.mode.move.start})};break}case"rotate":{_e={..._e,mode:bn.Mode.Rotate({start:de.mode.rotate.end,end:ee.mode.rotate.start})};break}case"scale":{_e={..._e,mode:bn.Mode.Scale({start:de.mode.scale.end,end:ee.mode.scale.start})};break}default:throw new Error(`Unknown tween mode: ${ee.mode}`)}ee.playing=!0,xe.sequence=[_e,ee]}}function C(G,ee){let de=r.get(G),{duration:xe,interpolationType:_e,relative:E}=ee,m=Ee.create(ee.end.x,ee.end.y,ee.end.z),T=E?Ee.add(de.position,m):m;return x.createOrReplace(G,{mode:bn.Mode.Move({start:de.position,end:T}),duration:xe*1e3,easingFunction:d0(_e)})}function $(G,ee){let de=r.get(G),{duration:xe,interpolationType:_e,relative:E}=ee,m=ht.fromEulerDegrees(ee.end.x,ee.end.y,ee.end.z),T=E?ht.multiply(de.rotation,m):m;return x.createOrReplace(G,{mode:bn.Mode.Rotate({start:de.rotation,end:T}),duration:xe*1e3,easingFunction:d0(_e)})}function Se(G,ee){let de=r.get(G),{duration:xe,interpolationType:_e,relative:E}=ee,m=Ee.create(ee.end.x,ee.end.y,ee.end.z),T=E?Ee.add(de.scale,m):m;return x.createOrReplace(G,{mode:bn.Mode.Scale({start:de.scale,end:T}),duration:xe*1e3,easingFunction:d0(_e)})}function ye(G,ee){let de=ve.getMutableOrNull(G);de&&(de.value=ee.counter,hn(G).emit(vt.ON_COUNTER_CHANGE))}function we(G,ee){let de=ve.getMutableOrNull(G),xe=ee.amount??1;de&&(de.value+=xe,hn(G).emit(vt.ON_COUNTER_CHANGE))}function Re(G,ee){let de=ve.getMutableOrNull(G),xe=ee.amount??1;de&&(de.value-=xe,hn(G).emit(vt.ON_COUNTER_CHANGE))}function Xe(G,ee){let{src:de,loop:xe,volume:_e}=ee;if(a.has(G)){a.playSound(G,de);let E=a.getMutable(G);E.loop=xe,E.volume=_e??1}else a.create(G,{audioClipUrl:de,loop:xe,playing:!0,volume:_e??1})}function it(G,ee){let de=a.getMutableOrNull(G);de&&(de.playing=!1)}function mt(G,ee){let{visible:de,collider:xe}=ee;c.createOrReplace(G,{visible:de});let _e=d.getMutableOrNull(G),E=_1.getMutableOrNull(G);xe!==void 0&&(_e?_e.invisibleMeshesCollisionMask=xe:E&&(E.collisionMask=xe))}function ct(G,ee){let{anchorPointId:de}=ee;s.createOrReplace(G,{anchorPointId:de})}function yt(G,ee){s.has(G)&&s.deleteFrom(G)}function w(G,ee){let{x:de,y:xe}=ee;(0,Vw.requestTeleport)({destination:`${de},${xe}`})}function O(G,ee){let de={newRelativePosition:ee.position,cameraTarget:ee.cameraTarget};(0,ia.movePlayerTo)(de)}function P(G,ee){let{emote:de}=ee;(0,ia.triggerEmote)({predefinedEmote:de})}function I(G,ee){let{src:de,loop:xe}=ee;(0,ia.triggerSceneEmote)({src:de,loop:xe})}function z(G,ee){let{url:de}=ee;(0,ia.openExternalUrl)({url:de})}async function oe({src:G,dclCast:ee}){if(ee){let{streams:de}=await(0,Hw.getActiveVideoStreams)({});return de.length>0?de[0].trackSid:""}return G??""}function fe(G,ee){let de=j.getMutableOrNull(G);de&&de.src?de.playing=!0:oe(ee).then(xe=>{xe&&(j.createOrReplace(G,{src:xe,volume:ee.volume??1,loop:ee.loop??!1,playing:!0}),O1(G,{Material:tu},tu.getOrNull(G)))})}function Oe(G,ee){let de=j.getMutableOrNull(G);de&&(de.playing=!1)}function Ye(G,ee){let{url:de,volume:xe}=ee;T1.createOrReplace(G,{url:de,playing:!0,volume:xe??1})}function dt(G,ee){let de=T1.getMutableOrNull(G);de&&(de.playing=!1)}function pt(G,ee){let{text:de,hideAfterSeconds:xe,font:_e,fontSize:E,textAlign:m}=ee;Fr(h,G)&&(g.createOrReplace(G,{value:de,font:_e,fontSize:E,textAlign:m}),s0(G,Ne.HIDE_TEXT,xe,()=>Rt(G,{})))}function Rt(G,ee){g.getOrNull(G)&&g.deleteFrom(G)}function at(G,ee){return Y.getOrNull(G)?.value.find(xe=>xe.name===ee)}function zt(G,ee){let{actions:de,timeout:xe}=ee;for(let _e of de){let E=at(G,_e);E&&s0(G,_e,xe,()=>{bi(G).emit(E.name,st(E))})}}function Nt(G,ee){let{action:de}=ee;Nw(G,de)}function Kt(G,ee){let{actions:de,interval:xe}=ee;for(let _e of de){let E=at(G,_e);E&&kw(G,_e,xe,()=>{bi(G).emit(E.name,st(E))})}}function lt(G,ee){let{action:de}=ee;Cw(G,de)}function Ze(G,ee){let{position:de}=ee,{cloned:xe,entities:_e}=XS(G,e,r,ae,o);for(let m of _e.values())ne(m),Dw(m),hn(m).emit(vt.ON_CLONE);let E=r.getOrCreateMutable(xe);E.position=de}function tn(G,ee){Ow(G),Mw(G);let de=Jc(e,G,r);for(let xe of de)e.removeEntity(xe)}function fn(G){let ee=`${G.alignItems},${G.justifyContent}`;return dE.has(ee)||dE.set(ee,e.addEntity()),dE.get(ee)}function Dn(G,ee){let{src:de,text:xe,hideAfterSeconds:_e,fontSize:E,align:m,height:T,width:M}=ee;Fr(h,e.RootEntity);let te=zw(m),Ie=fn(te),Fe=Fr(h,Ie);Fe.alignItems=te.alignItems,Fe.justifyContent=te.justifyContent,Fe.positionType=1;let N=e.addEntity(),D=Fr(h,N,M,T,1);D.parent=Ie,D.pointerFilter=1,u0(A,N,de),xe&&l0(g,N,xe,E,M),t.onPointerDown({entity:N,opts:{button:0,hoverText:"Click"}},()=>{pE.set(G,N),hn(G).emit(vt.ON_CLICK_IMAGE)}),_e&&s0(G,Ne.HIDE_IMAGE,_e,()=>An(G,{imageEntity:N}))}function An(G,ee){let{imageEntity:de}=ee;if(de)e.removeEntity(de);else{let xe=pE.get(G);xe&&(e.removeEntity(xe),pE.delete(G))}}function gn(G,ee){let{radius:de,layer:xe,hits:_e}=ee,E=s.has(G)?su():kr(G),m=T=>{let M=Ym(T);return M?m(M):T};for(let T of lE){let M=kr(T),te=Ee.distance(E,M);if(!Array.from(Jc(e,G,r)).some(N=>N===T)){if(xe){if(xe===ka.PLAYER){let N=m(T);if(N!==e.PlayerEntity&&N!==e.CameraEntity)continue}else if(xe===ka.NON_PLAYER){let N=m(T);if(N===e.PlayerEntity||N===e.CameraEntity)continue}}if(te<=de){let N=_e===void 0?1:Math.max(_e,1);for(let D=0;D<N;D++)hn(T).emit(vt.ON_DAMAGE)}}}}function wn(G,ee){let de=kr(G);(0,ia.movePlayerTo)({newRelativePosition:de}),hn(G).emit(vt.ON_PLAYER_SPAWN)}function Jn(G,ee){let de=r.getMutableOrNull(G),xe=r.getOrNull(e.PlayerEntity);de&&xe&&(de.position=xe.position)}function Fn(G,ee){let de=r.getMutableOrNull(G),xe=r.getOrNull(e.PlayerEntity);de&&xe&&(de.rotation=xe.rotation)}function _o(G,ee){let de=r.getMutableOrNull(G),xe=r.getOrNull(e.CameraEntity);de&&xe&&(de.position=xe.position)}function Tn(G,ee){let de=r.getMutableOrNull(G),xe=r.getOrNull(e.CameraEntity);de&&xe&&(de.rotation=xe.rotation)}function So(G,ee){let de=r.getMutableOrNull(G);de&&(ee.relative?de.position=Ee.add(de.position,Ee.create(ee.x,ee.y,ee.z)):de.position=Ee.create(ee.x,ee.y,ee.z))}function bo(G,ee){let de=r.getMutableOrNull(G);de&&(ee.relative?de.rotation=ht.multiply(de.rotation,ht.fromEulerDegrees(ee.x,ee.y,ee.z)):de.rotation=ht.fromEulerDegrees(ee.x,ee.y,ee.z))}function Ft(G,ee){let de=r.getMutableOrNull(G);de&&(ee.relative?de.scale=Ee.add(de.scale,Ee.create(ee.x,ee.y,ee.z)):de.scale=Ee.create(ee.x,ee.y,ee.z))}function Qn(G,ee){let{speed:de,x:xe,y:_e,z:E,minDistance:m}=ee;f0.set(G,{target:e.PlayerEntity,speed:de,minDistance:m,axes:{x:xe,y:_e,z:E}})}function Zn(G,ee){f0.delete(G)}function eo(G,ee){let{actions:de}=ee,xe=bi(G),_e=de[Math.floor(Math.random()*de.length)],E=at(G,_e);E&&xe.emit(E.name,st(E))}function V(G,ee){let{actions:de}=ee,xe=bi(G);for(let _e of de){let E=at(G,_e);E&&xe.emit(E.name,st(E))}}function K(G,ee){let{multiplier:de}=ee,xe=_e=>{let E=Ym(_e);return E?xe(E):_e};for(let _e of fE)if(xe(_e)===e.PlayerEntity){let m=hn(_e),T=Math.max(de??1,1);for(let M=0;M<T;M++)m.emit(vt.ON_HEAL_PLAYER)}}async function ue(G,ee){try{let de=await(0,$w.signedFetch)({url:G,...ee?{init:ee}:{}});if(!de||!de.body)return null;let xe=await JSON.parse(de.body);return xe.ok?xe.data:null}catch{return null}}async function Le(G){let ee=`${c0}/api/campaigns/keys?campaign_key=${encodeURIComponent(G)}`;return await ue(ee)}async function ze(){return await ue(`${c0}/api/captcha`,{method:"POST",headers:{"Content-Type":"application/json"}})}async function je(G,ee){let de=`${c0}/api/rewards`,xe=await(0,Gw.getRealm)({}),_e=n?.getPlayer();return await ue(de,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({campaign_key:G,beneficiary:_e?.isGuest?"":_e?.userId,catalyst:xe.realmInfo?xe.realmInfo.baseUrl:"",...ee?{captcha_id:ee.id,captcha_value:ee.value}:{}})})}function nt(G,ee){let de=J.getOrNull(G);if(!de)return;let{testMode:xe,campaignId:_e,dispenserKey:E}=de;xe||Le(E).then(m=>{let T=m.find(M=>M.campaign_id===_e);T&&T.enabled&&(T.requires_captcha?ze().then(M=>{M&&bt(G,{campaignId:_e,dispenserKey:E,captcha:M})}).catch(M=>{}):je(E))}).catch(m=>{})}function bt(G,ee){Uw(e,h,A,g,v,S,t,ee,de=>{je(ee.dispenserKey,{id:ee.captcha.id,value:de}).then(xe=>{})})}}var mE=new Map,Yw=new Map,Mi=1;function Jw(e,t){let{Material:o,MeshRenderer:n,Transform:i,Billboard:r}=t,{Counter:a,CounterBar:s}=vn(e);return function(){for(let[d,{value:h},{primaryColor:g,secondaryColor:A,maxValue:v}]of e.getEntitiesWith(a,s)){if(!mE.has(d)){let ve=g?Ge.fromHexString(g):Ge.Green(),ae=A?Ge.fromHexString(A):Ge.Red(),J=e.addEntity();i.create(J,{parent:d}),r.create(J);let ne=e.addEntity();mE.set(d,ne),o.setBasicMaterial(ne,{diffuseColor:ve}),n.setCylinder(ne),i.create(ne,{position:{x:0,y:0,z:0},scale:{x:.1*Mi,y:1*Mi,z:.1*Mi},rotation:ht.fromEulerDegrees(0,0,90),parent:J});let X=e.addEntity();Yw.set(d,X),o.setBasicMaterial(X,{diffuseColor:ae}),n.setCylinder(X),i.create(X,{position:{x:0,y:0,z:0},scale:{x:.09*Mi,y:1*Mi,z:.09*Mi},rotation:ht.fromEulerDegrees(0,0,90),parent:J});let Z=i.getMutableOrNull(d);Z&&(Z.parent===e.PlayerEntity?(Z.position={x:0,y:2.1,z:0},Z.scale={x:.5,y:.5,z:.5}):Z.parent===e.CameraEntity&&(Z.position={x:0,y:.5,z:1},Z.scale={x:.5,y:.5,z:.5}))}let S=v||10,_=a.getMutable(d);_.value>S&&(_.value=S),_.value<0&&(_.value=0);let x=Math.max(Math.min(_.value/S,1),0)/(1/Mi),k=mE.get(d),j=Yw.get(d),Y=i.getMutable(k);Y.position.x=(x-Mi)/2,Y.scale.y=x;let ie=i.getMutable(j);ie.position.x=Mi/2+Y.position.x,ie.scale.y=Mi-x}}}var W6=`${$t}/admin_toolkit/assets/backgrounds/button-primary.png`,V6=`${$t}/admin_toolkit/assets/backgrounds/button-secondary.png`,H6=`${$t}/admin_toolkit/assets/backgrounds/button-text.png`,hE={primary:W6,secondary:V6,text:H6},yE={primary:{active:Ge.create(252/255,252/255,252/255,1),hover:Ge.create(207/255,205/255,212/255,1),disabled:Ge.create(74/255,74/255,74/255,1)},secondary:{active:Ge.create(252/255,252/255,252/255,1),hover:Ge.create(207/255,205/255,212/255,1),disabled:Ge.create(74/255,74/255,74/255,1)},text:{active:Ge.create(0,0,0,0),hover:Ge.create(24/255,24/255,24/255,1),disabled:Ge.create(74/255,74/255,74/255,1)}},ad=new Map,Qw={getColor:e=>yE[e].active,backgroundImg:e=>hE[e]},Kw={getColor:e=>yE[e].disabled,backgroundImg:e=>hE[e]},$6={getColor:e=>yE[e].hover,backgroundImg:e=>hE[e]},Xn=e=>{let{id:t,value:o,onMouseDown:n,icon:i,onlyIcon:r,iconTransform:a,fontSize:s=14,color:c=Ge.Black(),disabled:d,uiBackground:h,uiTransform:g,labelTransform:A,variant:v="primary"}=e,S=`button_${t}`;ad.has(S)||ad.set(S,d?Kw:Qw);let _=ad.get(S);return Be.createElement(It,{uiTransform:g,uiBackground:{...h,..._.backgroundImg?{texture:{src:_.backgroundImg(v)},textureMode:"stretch",color:_.getColor(v)}:{}},onMouseDown:()=>{d||n?.()},onMouseEnter:()=>{d||ad.set(S,$6)},onMouseLeave:()=>{ad.set(S,d?Kw:Qw)}},i&&Be.createElement(It,{uiTransform:a,uiBackground:{texture:{src:i},textureMode:"stretch"}}),!r&&o?Be.createElement(Bn,{value:o,color:c,fontSize:s,uiTransform:A}):null)};var p0={VIDEO_CONTROL:`${$t}/admin_toolkit/assets/icons/video-control.png`,PREVIOUS_BUTTON:`${$t}/admin_toolkit/assets/icons/video-control-previous-button.png`,FORWARD_BUTTON:`${$t}/admin_toolkit/assets/icons/video-control-forward-button.png`,PLAY_BUTTON:`${$t}/admin_toolkit/assets/icons/video-control-play-button.png`,VOLUME_MINUS_BUTTON:`${$t}/admin_toolkit/assets/icons/video-control-volume-minus-button.png`,VOLUME_PLUS_BUTTON:`${$t}/admin_toolkit/assets/icons/video-control-volume-plus-button.png`},yY=`${$t}/admin_toolkit/backgrounds/dropdown-background.png`,Xw=.1;var nx=1,Zw={WHITE:Ge.White(),GRAY:Ge.create(160/255,155/255,168/255,1)};function m0(e){let{AdminTools:t}=vn(e),o=Array.from(e.getEntitiesWith(t));return o.length>0?o[0][1].videoControl:null}function gE(e){let t=m0(e);return!t||!t.videoPlayers||t.videoPlayers.length===0?[]:Array.from(t.videoPlayers)}function TE(e,t){let o=m0(e);return{play:()=>Ha(e,t,"playing",!0),pause:()=>Ha(e,t,"playing",!1),restart:()=>{Ha(e,t,"playing",!1),Pi.push(()=>{Ha(e,t,"position",-1)}),Pi.push(()=>{Ha(e,t,"playing",!0)}),Pi.push(()=>{Ha(e,t,"position",void 0)})},previous:()=>{console.log("TODO: Previous Track clicked")},next:()=>{console.log("TODO: Next Track clicked")},setVolume:n=>{o?.disableVideoPlayersSound||Ha(e,t,"volume",n)},setSource:n=>Ha(e,t,"src",n)}}function Ha(e,t,o,n){let{VideoPlayer:i}=qn(e),r=m0(e),a=gE(e);o==="playing"&&n===!0&&r?.disableVideoPlayersSound&&a.forEach(d=>{let h=i.getMutableOrNull(d.entity);h&&(EE(h,"volume",0),ex(e,t,d.entity,"volume",0))});let s=a[t.videoControl.selectedVideoPlayer??0].entity,c=i.getMutableOrNull(s);c&&(EE(c,o,n),ex(e,t,s,o,n))}function EE(e,t,o){if(t==="volume"){if(!o){e.volume=0;return}let n=Math.round((e.volume??nx)*10),i=Math.max(0,Math.min(10,n+o*10));e.volume=i/10}else e[t]=o}function ex(e,t,o,n,i){let{VideoControlState:r}=vn(e),s=r.getMutable(t.adminToolkitUiEntity).videoPlayers?.find(c=>c.entity===o);s&&EE(s,n,i)}function G6({engine:e,state:t}){let o=gE(e),n=Fo(e);return o.length<=1?null:o.length>4?Be.createElement(It,{uiTransform:{flexDirection:"row",margin:{bottom:16*n}}},Be.createElement(Lu,{options:o.map(i=>i.customName),selectedIndex:t.videoControl.selectedVideoPlayer??0,onChange:i=>t.videoControl.selectedVideoPlayer=i,textAlign:"middle-left",fontSize:14*n,uiTransform:{margin:{right:8*n},minWidth:150*n},uiBackground:{color:Ge.White()}})):Be.createElement(It,{uiTransform:{flexDirection:"row",margin:{bottom:16*n}}},o.map((i,r)=>{let a=(t.videoControl.selectedVideoPlayer??0)===r,s=i.customName??`#${r+1}`;return Be.createElement(Xn,{id:`video_control_player_${r}`,key:i.entity,value:`<b>${s}</b>`,fontSize:14*n,variant:a?"primary":"secondary",color:a?Ge.Black():Ge.White(),onMouseDown:()=>{t.videoControl.selectedVideoPlayer=r},uiTransform:{alignItems:"center",justifyContent:"center",alignSelf:"center",margin:{right:8*n}},labelTransform:{padding:4*n}})}))}function ox(e,t){let{VideoPlayer:o}=qn(e),n=gE(e);return n.length===0?null:o.getOrNull(n[t.videoControl.selectedVideoPlayer??0].entity)}function q6({engine:e,state:t}){let o=Fo(e),n=TE(e,t),i=ox(e,t),a=m0(e)?.disableVideoPlayersSound,s=`${Math.round((i?.volume??nx)*100)}%`;return a?null:Be.createElement(It,{uiTransform:{flexDirection:"column"}},Be.createElement(Bn,{value:"Video Volume",fontSize:16*o,color:Zw.WHITE,uiTransform:{margin:{top:0,right:0,bottom:10*o,left:0}}}),Be.createElement(It,{uiTransform:{flexDirection:"row"}},Be.createElement(Xn,{id:"video_control_volume_minus",value:"Minus",fontSize:14*o,uiTransform:{margin:{top:0,right:16*o,bottom:0,left:0},minWidth:69*o,alignItems:"center",justifyContent:"center",padding:0},icon:p0.VOLUME_MINUS_BUTTON,onlyIcon:!0,iconTransform:{width:35*o,height:35*o},onMouseDown:()=>n.setVolume(-Xw),disabled:!i}),Be.createElement(Bn,{value:s,fontSize:18*o,color:Zw.GRAY,uiTransform:{margin:{top:0,right:16*o,bottom:0,left:0},minWidth:69*o,alignItems:"center",justifyContent:"center",padding:0}}),Be.createElement(Xn,{id:"video_control_volume_plus",value:"Plus",fontSize:14*o,icon:p0.VOLUME_PLUS_BUTTON,onlyIcon:!0,iconTransform:{width:35*o,height:35*o},uiTransform:{margin:{top:0,right:16*o,bottom:0,left:0},minWidth:69*o,alignItems:"center",justifyContent:"center",padding:0},onMouseDown:()=>n.setVolume(Xw),disabled:!i}),Be.createElement(Xn,{id:"video_control_volume_mute",value:"<b>Mute</b>",fontSize:18*o,labelTransform:{margin:"0 20"},uiTransform:{margin:{top:0,right:16*o,bottom:0,left:0},minWidth:69*o,alignItems:"center",justifyContent:"center",padding:0},onMouseDown:()=>n.setVolume(0),disabled:!i})))}function rx({engine:e,state:t}){let o=TE(e,t),n=ox(e,t),i=Fo(e);return Be.createElement(It,{uiTransform:{width:"100%",height:"100%",flexDirection:"column"}},Be.createElement(It,{uiTransform:{flexDirection:"row",margin:{bottom:10*i},height:30*i}},Be.createElement(It,{uiTransform:{width:30*i,height:30*i},uiBackground:{textureMode:"stretch",texture:{src:p0.VIDEO_CONTROL}}}),Be.createElement(Bn,{value:"<b>Video Control</b>",uiTransform:{margin:{bottom:8,left:20}},fontSize:24*i,color:Ge.White()})),Be.createElement(Bn,{value:"<b>Current Screen</b>",fontSize:16*i,color:Ge.White(),uiTransform:{margin:{bottom:16*i}}}),Be.createElement(G6,{engine:e,state:t}),Be.createElement(id,{onSubmit:r=>{t.videoControl.shareScreenUrl=r,tx(e,t,r)},onChange:r=>t.videoControl.shareScreenUrl=r,fontSize:16*i,placeholder:"Paste your video URL",placeholderColor:Ge.create(160/255,155/255,168/255,1),color:Ge.Black(),uiBackground:{color:Ge.White()},uiTransform:{width:"100%",height:80*i}}),Be.createElement(It,{uiTransform:{width:"100%",height:40*i,flexDirection:"row",justifyContent:"flex-end",margin:{top:10*i}}},Be.createElement(Xn,{id:"video_control_share_screen_clear",value:"<b>Clear Screen</b>",variant:"text",fontSize:16*i,color:Ge.White(),uiTransform:{margin:{right:8*i}},onMouseDown:()=>{t.videoControl.shareScreenUrl=void 0}}),Be.createElement(Xn,{id:"video_control_share_screen_share",value:"<b>Share</b>",labelTransform:{margin:"0 20"},fontSize:16*i,onMouseDown:()=>{tx(e,t,t.videoControl.shareScreenUrl)},disabled:!n})),Be.createElement(Bn,{value:"Video Playback",fontSize:16*i,color:Ge.White(),uiTransform:{margin:{bottom:10*i}}}),Be.createElement(It,{uiTransform:{flexDirection:"row",width:"100%",margin:{bottom:10*i}}},Be.createElement(Xn,{id:"video_control_play",value:"<b>Play</b>",fontSize:18*i,labelTransform:{margin:{right:20}},uiTransform:{margin:{top:0,right:16*i,bottom:0,left:0},minWidth:69*i,alignItems:"center",justifyContent:"center",padding:0},icon:p0.PLAY_BUTTON,iconTransform:{width:35*i,height:35*i},onMouseDown:()=>{o.play()},disabled:!n}),Be.createElement(Xn,{id:"video_control_pause",value:"<b>Pause</b>",fontSize:18*i,labelTransform:{margin:"0 20"},uiTransform:{margin:{top:0,right:16*i,bottom:0,left:0},minWidth:69*i,alignItems:"center",justifyContent:"center",padding:0},onMouseDown:()=>{o.pause()},disabled:!n}),Be.createElement(Xn,{id:"video_control_restart",value:"<b>Restart</b>",labelTransform:{margin:"0 20"},fontSize:18*i,uiTransform:{margin:{top:0,right:16*i,bottom:0,left:0},minWidth:69*i,alignItems:"center",justifyContent:"center",padding:0},onMouseDown:()=>{o.restart()},disabled:!n})),Be.createElement(q6,{engine:e,state:t}))}function tx(e,t,o){if(!o)return;let n=TE(e,t);n.setSource(o),Pi.push(()=>{n.play()})}var ix={TEXT_ANNOUNCEMENT_CONTROL:`${$t}/admin_toolkit/assets/icons/text-announcement-control.png`,CHECK:`${$t}/admin_toolkit/assets/icons/text-announcement-check.png`,BTN_CLOSE_TEXT_ANNOUNCEMENT:`${$t}/admin_toolkit/assets/icons/text-announcement-close-button.png`,CHAT_MESSAGE_ICON:`${$t}/admin_toolkit/assets/icons/text-announcement-chat-message.png`},sd;function sx({engine:e,state:t,player:o}){let n=Fo(e);return Be.createElement(It,{uiTransform:{width:"100%",height:"100%",flexDirection:"column"}},Be.createElement(It,{uiTransform:{flexDirection:"row",display:"flex",alignItems:"center",margin:{bottom:10*n},height:30*n}},Be.createElement(It,{uiTransform:{width:30*n,height:30*n},uiBackground:{color:Ge.White(),textureMode:"stretch",texture:{src:ix.TEXT_ANNOUNCEMENT_CONTROL}}}),Be.createElement(Bn,{value:"<b>Text Announcements</b>",uiTransform:{margin:{bottom:8,left:20}},fontSize:24*n,color:Ge.White()})),Be.createElement(It,{uiTransform:{flexDirection:"column"}},Be.createElement(Bn,{value:"<b>Message window</b>",fontSize:16*n,color:Ge.White(),uiTransform:{margin:{bottom:16*n}}}),Be.createElement(id,{onSubmit:i=>{ax(e,t,i,o)},onChange:i=>{t.textAnnouncementControl.text=i},fontSize:16*n,placeholder:"Write your announcement here",placeholderColor:Ge.create(160/255,155/255,168/255,1),color:Ge.Black(),uiBackground:{color:Ge.White()},uiTransform:{width:"100%",height:80*n,margin:{bottom:16*n}}}),Be.createElement(It,{uiTransform:{width:"100%",height:40*n,flexDirection:"row",margin:{bottom:10*n,top:0,right:0,left:0}}},Be.createElement(Bn,{value:`${t.textAnnouncementControl.text?.length??0} / 90`,fontSize:14*n,color:Ge.create(187/255,187/255,187/255,1),uiTransform:{flexGrow:1},textAlign:"top-left"}),Be.createElement(Xn,{id:"text_announcement_control_clear",value:"<b>Clear Announcements</b>",variant:"text",fontSize:16*n,color:Ge.White(),uiTransform:{height:40*n,margin:{right:8*n}},onMouseDown:()=>{Y6(e,t)}}),Be.createElement(Xn,{id:"text_announcement_control_share",value:"<b>Share</b>",variant:"primary",fontSize:16*n,labelTransform:{margin:"0 20"},uiTransform:{height:40*n},onMouseDown:()=>{ax(e,t,t.textAnnouncementControl.text,o)}}))),Be.createElement(It,{uiTransform:{minHeight:30*n}},Be.createElement(It,{uiTransform:{display:sd!==void 0?"flex":"none",width:30*n,height:30*n},uiBackground:{texture:{src:ix.CHECK},textureMode:"stretch"}}),Be.createElement(Bn,{uiTransform:{display:sd!==void 0?"flex":"none"},value:`Message ${sd==="sent"?"sent":"cleared"}!`,fontSize:14*n,color:Ge.create(187/255,187/255,187/255,1)})))}function Y6(e,t){let{TextAnnouncements:o}=vn(e),n=o.getMutableOrNull(t.adminToolkitUiEntity);n&&(n.text="",n.id="",n.author=""),t.textAnnouncementControl.announcements=[],sd="cleared"}function ax(e,t,o,n){if(!o)return;let{TextAnnouncements:i}=vn(e),r=i.getMutableOrNull(t.adminToolkitUiEntity);if(r){let a=n?.name,s=Date.now();r.author=a,r.id=`${s}-${a}`,r.text=o.slice(0,90)}t.textAnnouncementControl.text="",sd="sent"}var J6={SMART_ITEM_CONTROL:`${$t}/admin_toolkit/assets/icons/smart-item-control.png`};function Q6(e){let{AdminTools:t}=vn(e),o=Array.from(e.getEntitiesWith(t));return o.length>0?o[0][1].smartItemsControl:null}function K6(e){let t=Q6(e);return!t||!t.smartItems||t.smartItems.length===0?[]:Array.from(t.smartItems)}function X6(e,t){let{Actions:o}=vn(e);return!t||!o.has(t.entity)?[]:Array.from(o.get(t.entity).value)}function Z6(e,t){bi(e.entity).emit(t.name,st(t))}function e5(e,t,o){e.smartItemsControl.selectedSmartItem=o;let n=t[o];if(!e.smartItemsControl.smartItems.has(n.entity)){let i=new Map(e.smartItemsControl.smartItems);i.set(n.entity,{visible:!0,selectedAction:n.defaultAction}),e.smartItemsControl={...e.smartItemsControl,smartItems:new Map(i)}}}function t5(e,t,o){let n=new Map(e.smartItemsControl.smartItems);n.set(t.entity,{...n.get(t.entity),selectedAction:o.name}),e.smartItemsControl={...e.smartItemsControl,smartItems:new Map(n)}}function n5(e,t,o){let{VisibilityComponent:n}=qn(e),i=o[t.smartItemsControl.selectedSmartItem].entity,a=!t.smartItemsControl.smartItems.get(i).visible;t.smartItemsControl.smartItems.get(i).visible=a;let s=n.getOrCreateMutable(i);s.visible=a}function o5({engine:e}){let t=Fo(e);return Be.createElement(It,{uiTransform:{flexDirection:"row",margin:{bottom:10*t},height:30*t}},Be.createElement(It,{uiTransform:{height:30*t,width:30*t},uiBackground:{color:Ge.White(),textureMode:"stretch",texture:{src:J6.SMART_ITEM_CONTROL}}}),Be.createElement(Bn,{value:"<b>Smart Item Actions</b>",uiTransform:{margin:{bottom:8,left:20}},fontSize:24*t,color:Ge.White()}))}function r5({engine:e,smartItems:t,selectedIndex:o,onSelect:n}){let i=Fo(e);return Be.createElement(It,{key:"SmartItemsControlDropdownWrapper",uiTransform:{flexDirection:"column",margin:{bottom:32*i}}},Be.createElement(Bn,{value:"<b>Selected Smart Item</b>",fontSize:16*i,color:Ge.White(),uiTransform:{margin:{bottom:16*i}}}),Be.createElement(Lu,{key:"SmartItemsControlDropdownSelector",acceptEmpty:!0,emptyLabel:"Select Smart Item",options:t.map(r=>r.customName),selectedIndex:o??-1,onChange:n,textAlign:"middle-left",fontSize:14*i,uiTransform:{height:40*i,width:"100%"},uiBackground:{color:Ge.White()},color:Ge.Black()}))}function i5({engine:e,actions:t,selectedIndex:o,disabled:n,onChange:i}){let r=Fo(e);return Be.createElement(It,{key:"SmartItemActionsControlDropdownWrapper",uiTransform:{flexDirection:"column",margin:{bottom:32*r}}},Be.createElement(Bn,{value:"<b>Actions</b>",fontSize:16*r,color:Ge.White(),uiTransform:{margin:{bottom:16*r}}}),Be.createElement(Lu,{key:"SmartItemActionsControlDropdownSelector",acceptEmpty:!0,emptyLabel:"Select Action",options:t.map(a=>a.name),selectedIndex:o,onChange:i,disabled:n,textAlign:"middle-left",fontSize:14*r,uiTransform:{height:40*r,width:"100%"},uiBackground:{color:n?Ge.Gray():Ge.White()},color:Ge.Black()}))}function a5({engine:e,state:t,smartItems:o,actions:n,selectedAction:i}){let r=Fo(e),a=t.smartItemsControl.selectedSmartItem!==void 0?o[t.smartItemsControl.selectedSmartItem]:void 0,s=a&&t.smartItemsControl.smartItems.get(a.entity)?.visible;return Be.createElement(It,{uiTransform:{flexDirection:"row"}},Be.createElement(Xn,{id:"smart_items_control_restart",value:"<b>Play Action</b>",variant:"text",fontSize:16*r,color:Ge.White(),uiTransform:{margin:{right:8*r}},disabled:!a||!i,onMouseDown:()=>{a&&i&&Z6(a,i)}}),Be.createElement(Xn,{id:"smart_items_control_hide_show",value:`<b>${s?"Hide":"Show"} Entity</b>`,variant:"text",fontSize:16*r,color:Ge.White(),onMouseDown:()=>n5(e,t,o),disabled:!a,uiTransform:{margin:{right:8*r}}}))}function cx({engine:e,state:t}){let o=K6(e),n=t.smartItemsControl.selectedSmartItem!==void 0?X6(e,o[t.smartItemsControl.selectedSmartItem]):[],i=t.smartItemsControl.selectedSmartItem!==void 0?n.findIndex(r=>{let a=o[t.smartItemsControl.selectedSmartItem],s=t.smartItemsControl.smartItems.get(a.entity)?.selectedAction;return r.name===(s??a.defaultAction)}):void 0;return Be.createElement(It,{key:"SmartItemsControl",uiTransform:{height:"100%",width:"100%",flexDirection:"column"}},Be.createElement(o5,{engine:e}),Be.createElement(r5,{engine:e,smartItems:o,selectedIndex:t.smartItemsControl.selectedSmartItem,onSelect:r=>{e5(t,o,r)}}),Be.createElement(i5,{engine:e,actions:n,selectedIndex:i,disabled:t.smartItemsControl.selectedSmartItem===void 0,onChange:r=>{t.smartItemsControl.selectedSmartItem!==void 0&&t5(t,o[t.smartItemsControl.selectedSmartItem],n[r])}}),Be.createElement(a5,{engine:e,state:t,smartItems:o,actions:n,selectedAction:i!==void 0?n[i]:void 0}))}var ux={BTN_CLOSE_TEXT_ANNOUNCEMENT:`${$t}/admin_toolkit/assets/icons/text-announcement-close-button.png`,CHAT_MESSAGE_ICON:`${$t}/admin_toolkit/assets/icons/text-announcement-chat-message.png`},lx=new Set;function fx({engine:e,state:t}){let{TextAnnouncements:o}=vn(e),n=o.getOrNull(t.adminToolkitUiEntity),i=Fo(e);return!n?.text||lx.has(n.id)?null:Be.createElement(It,{uiTransform:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-end",height:"100%",width:"100%"}},Be.createElement(It,{key:n.id,uiTransform:{display:"flex",flexDirection:"column",height:150*i,width:400*i,margin:{bottom:10*i},padding:{top:10*i,bottom:10*i,left:10*i,right:10*i}},uiBackground:{color:{r:.15,g:.15,b:.15,a:.95}}},Be.createElement(It,{uiTransform:{alignSelf:"center",justifyContent:"center",height:50*i,width:50*i},uiBackground:{texture:{src:ux.CHAT_MESSAGE_ICON},textureMode:"stretch",color:{r:1,g:1,b:1,a:1}}}),Be.createElement(Bn,{uiTransform:{alignItems:"center",justifyContent:"center"},fontSize:18*i,value:n.text}),n.author?Be.createElement(Bn,{uiTransform:{alignItems:"flex-end",justifyContent:"flex-end"},fontSize:14*i,color:{r:.7,g:.7,b:.7,a:1},value:`- ${n.author}`}):null,Be.createElement(It,{uiTransform:{height:24*i,width:24*i,positionType:"absolute",position:{top:5*i,right:5*i}},uiBackground:{texture:{src:ux.BTN_CLOSE_TEXT_ANNOUNCEMENT},textureMode:"stretch"},onMouseDown:()=>{lx.add(n.id)}})))}var h0=require("~system/Runtime");async function _E(){try{let e=await(0,h0.getRealm)({}),t=await(0,h0.getSceneInformation)({}),{realmInfo:o}=e,{urn:n}=t;if(o&&o.realmName!=="LocalPreview")return(await(await fetch(`${o.baseUrl}/content/deployments/?entityId=${n}`)).json())?.deployments?.shift()}catch(e){console.error("Error getting scene deployment",e)}return null}async function dx(){try{let e=await _E();if(e?.sceneBasePosition){let t=await fetch(Pw,{method:"POST",body:JSON.stringify({query:`{
            parcels(
              where: {
                x: ${e.sceneBasePosition[0]},
                y: ${e.sceneBasePosition[1]}
              }
            ) {
              id
              x
              y
              owners {
                id
                address
              }
            }
          }`})}),{data:o}=await t.json();return o.parcels.shift()?.owners.map(i=>i.address.toLowerCase())||[]}}catch(e){console.error("Error getting scene owners",e)}return[]}var Ln;(function(e){e.NONE="None",e.VIDEO_CONTROL="VideoControl",e.SMART_ITEMS_CONTROL="SmartItemsControl",e.TEXT_ANNOUNCEMENT_CONTROL="TextAnnouncementControl",e.MODERATION_CONTROL="ModerationControl",e.REWARDS_CONTROL="RewardsControl"})(Ln||(Ln={}));var Pi=[],Xt={adminToolkitUiEntity:0,panelOpen:!1,activeTab:Ln.NONE,videoControl:{shareScreenUrl:void 0,selectedVideoPlayer:void 0,linkAllVideoPlayers:void 0},smartItemsControl:{selectedSmartItem:void 0,smartItems:new Map},textAnnouncementControl:{entity:void 0,text:void 0,messageRateTracker:new Map,announcements:[],maxAnnouncements:4},rewardsControl:{selectedRewardItem:void 0}},SE=null,bE=null,s5=`${$t}/admin_toolkit/assets/icons/admin-panel-video-control-button.png`,c5=`${$t}/admin_toolkit/assets/icons/admin-panel-video-control-active-button.png`,u5=`${$t}/admin_toolkit/assets/icons/admin-panel-smart-item-control-button.png`,l5=`${$t}/admin_toolkit/assets/icons/admin-panel-smart-item-control-active-button.png`,f5=`${$t}/admin_toolkit/assets/icons/admin-panel-text-announcement-control-button.png`,d5=`${$t}/admin_toolkit/assets/icons/admin-panel-text-announcement-control-active-button.png`,p5=`${$t}/admin_toolkit/assets/icons/admin-panel-control-button.png`,m5=`${$t}/admin_toolkit/assets/backgrounds/admin-tool-background.png`,px=Ge.create(0,0,0,.75),hx=8e3;function y0(e){let{AdminTools:t}=vn(e);return Array.from(e.getEntitiesWith(t))[0][1]}async function h5(){if(SE!==null)return;let e=await _E();e&&(SE={data:e,deployedBy:e.deployedBy.toLowerCase(),sceneBasePosition:e.metadata.scene.base.split(",")})}async function y5(){if(bE!==null)return;let e=await dx();e.length>0&&(bE=e)}function E5(e){let t=y0(e);return!t||!t.videoControl||!t.videoControl.videoPlayers||t.videoControl.videoPlayers.length===0?[]:Array.from(t.videoControl.videoPlayers)}function g5(e){let t=y0(e);return!t||!t.smartItemsControl||!t.smartItemsControl.smartItems||t.smartItemsControl.smartItems.length===0?[]:Array.from(t.smartItemsControl.smartItems)}function T5(e){let t=y0(e);return!t||!t.rewardsControl||!t.rewardsControl.rewardItems||t.rewardsControl.rewardItems.length===0?[]:Array.from(t.rewardsControl.rewardItems)}function _5(e){let{VideoControlState:t}=vn(e),{VideoPlayer:o}=qn(e),n=t.getOrNull(Xt.adminToolkitUiEntity);n?.videoPlayers&&n.videoPlayers.forEach(i=>{let r=o.getMutableOrNull(i.entity);r&&(i.src!==void 0&&r.src!==i.src&&(r.src=i.src),r.playing!==i.playing&&(r.playing=!!i.playing),r.volume!==i.volume&&(r.volume=i.volume??0),i.position===-1&&r.position===void 0&&(r.position=-1),r.position===-1&&i.position===void 0&&(r.position=void 0),r.loop!==i.loop&&(r.loop=!!i.loop))})}function S5(e){let{VideoControlState:t}=vn(e),{VideoPlayer:o}=qn(e),n=E5(e),i=[];n.forEach(r=>{let a=o.getOrNull(r.entity);a&&i.push({entity:r.entity,src:a.src,playing:a.playing,volume:a.volume,position:a.position,loop:a.loop})}),t.createOrReplace(Xt.adminToolkitUiEntity,{videoPlayers:i}),e.addSystem(()=>{_5(e)})}function b5(e){let{TextAnnouncements:t}=vn(e);t.createOrReplace(Xt.adminToolkitUiEntity,{text:"",author:"",id:""})}function yx(e,t,o,n,i=hx){let{SyncComponents:r}=qn(e),a=[];t.forEach(s=>{let c=s.entity,d=r.getMutableOrNull(c);if(d){let h=new Set(d.componentIds);o.forEach(g=>h.add(g)),d.componentIds=Array.from(h)}else a.push(c)}),a.length>0&&n?.syncEntity&&a.forEach(s=>{n.syncEntity(s,o,i)})}function v5(e,t){let{Animator:o,Transform:n,Tween:i,VisibilityComponent:r}=qn(e),a=[o.componentId,n.componentId,i.componentId,r.componentId],s=g5(e);yx(e,s,a,t)}function A5(e,t){let{Animator:o,Transform:n,Tween:i,VisibilityComponent:r}=qn(e),a=[o.componentId,n.componentId,i.componentId,r.componentId],s=T5(e);yx(e,s,a,t)}var mx=!1;async function w5(e,t){if(console.log("initializeAdminData"),!mx){console.log("initializeAdminData - not initialized");let{VideoControlState:o,TextAnnouncements:n}=vn(e);await Promise.all([h5(),y5()]),Xt.adminToolkitUiEntity=e.addEntity(),S5(e),b5(e),v5(e,t),A5(e,t),t?.syncEntity?.(Xt.adminToolkitUiEntity,[o.componentId,n.componentId],hx),e.addSystem(()=>{if(Pi.length>0){let i=Pi.shift();i&&i()}},Number.POSITIVE_INFINITY),mx=!0,console.log("initializeAdminData - initialized")}}function Ex(e,t,o,n,i){w5(e,n).then(()=>{console.log("createAdminToolkitUI - initialized"),o.setUiRenderer(()=>N5(e,t,n,i))})}function x5(e){return SE?.deployedBy===e.toLowerCase()}function I5(e){return(bE||[]).includes(e.toLowerCase())}function R5(e,t,o){let{adminPermissions:n,authorizedAdminUsers:i}=t;if(n===vs.PUBLIC)return!0;if(!o)return!1;let r=o.userId.toLowerCase();return!!(i.me&&x5(r)||i.sceneOwners&&I5(r)||i.allowList&&i.adminAllowList.some(a=>a.toLowerCase()===r))}var N5=(e,t,o,n)=>{let i=y0(e),r=n?.getPlayer(),a=R5(e,i,r),s=Fo(e);return Be.createElement(It,{uiTransform:{positionType:"absolute",height:"100%",width:"100%"}},a?Be.createElement(It,{uiTransform:{positionType:"absolute",flexDirection:"row",position:{top:80*s,right:10*s}}},Be.createElement(It,{uiTransform:{display:Xt.panelOpen?"flex":"none",width:500*s,pointerFilter:"block",flexDirection:"column",margin:{right:8*s}}},Be.createElement(It,{uiTransform:{width:"100%",height:50*s,flexDirection:"row",alignItems:"center",padding:{left:12*s,right:12*s}},uiBackground:{color:px}},Be.createElement(Bn,{value:"Admin Tools",fontSize:20*s,color:Ge.create(160,155,168,1),uiTransform:{flexGrow:1}}),Be.createElement(Xn,{id:"admin_toolkit_panel_video_control",variant:"text",icon:Xt.activeTab===Ln.VIDEO_CONTROL?c5:s5,onlyIcon:!0,uiTransform:{display:i.videoControl.isEnabled?"flex":"none",width:49*s,height:42*s,margin:{right:8*s},alignItems:"center",justifyContent:"center"},iconTransform:{height:"100%",width:"100%"},onMouseDown:()=>{Xt.activeTab!==Ln.VIDEO_CONTROL?(Xt.activeTab=Ln.NONE,Pi.push(()=>{Xt.activeTab=Ln.VIDEO_CONTROL})):Xt.activeTab=Ln.NONE}}),Be.createElement(Xn,{id:"admin_toolkit_panel_smart_items_control",variant:"text",icon:Xt.activeTab===Ln.SMART_ITEMS_CONTROL?l5:u5,onlyIcon:!0,uiTransform:{display:i.smartItemsControl.isEnabled?"flex":"none",width:49*s,height:42*s,margin:{right:8*s},alignItems:"center",justifyContent:"center"},iconTransform:{height:"100%",width:"100%"},onMouseDown:()=>{Xt.activeTab!==Ln.SMART_ITEMS_CONTROL?(Xt.activeTab=Ln.NONE,Pi.push(()=>{Xt.activeTab=Ln.SMART_ITEMS_CONTROL})):Xt.activeTab=Ln.NONE}}),Be.createElement(Xn,{id:"admin_toolkit_panel_text_announcement_control",variant:"text",icon:Xt.activeTab===Ln.TEXT_ANNOUNCEMENT_CONTROL?d5:f5,onlyIcon:!0,uiTransform:{display:i.textAnnouncementControl.isEnabled?"flex":"none",width:49*s,height:42*s,margin:{right:8*s},alignItems:"center",justifyContent:"center"},iconTransform:{height:"100%",width:"100%"},onMouseDown:()=>{Xt.activeTab!==Ln.TEXT_ANNOUNCEMENT_CONTROL?(Xt.activeTab=Ln.NONE,Pi.push(()=>{Xt.activeTab=Ln.TEXT_ANNOUNCEMENT_CONTROL})):Xt.activeTab=Ln.NONE}})),Xt.activeTab!==Ln.NONE?Be.createElement(It,{uiTransform:{width:"100%",margin:{top:10*s,right:0,bottom:0,left:0},padding:{top:32*s,right:32*s,bottom:32*s,left:32*s}},uiBackground:{color:px}},Xt.activeTab===Ln.TEXT_ANNOUNCEMENT_CONTROL?Be.createElement(sx,{engine:e,state:Xt,player:r}):null,Xt.activeTab===Ln.VIDEO_CONTROL?Be.createElement(rx,{engine:e,state:Xt}):null,Xt.activeTab===Ln.SMART_ITEMS_CONTROL?Be.createElement(cx,{engine:e,state:Xt}):null):null),Be.createElement(It,{uiTransform:{display:"flex",height:42*s,width:42*s,alignItems:"center",alignContent:"center",justifyContent:"center",pointerFilter:"block"},uiBackground:{texture:{src:m5},textureMode:"stretch",color:Ge.create(1,1,1,1)}},Be.createElement(oE,{value:"",uiTransform:{height:40*s,width:40*s,alignItems:"center",alignContent:"center",justifyContent:"center"},uiBackground:{texture:{src:p5},textureMode:"stretch",color:Ge.create(1,1,1,1)},onMouseDown:()=>{Xt.panelOpen=!Xt.panelOpen}}))):null,Be.createElement(fx,{engine:e,state:Xt}))};var cd=null;function gx(e,t,o,n,i){let{AdminTools:r}=vn(e);return function(s){let c=Array.from(e.getEntitiesWith(r)),d=c.length>0;d&&!cd?(cd=c[0][0],Ex(e,t,o,n,i)):!d&&cd&&(e.removeEntity(cd),cd=null)}}var Tx=!1;function _x(e,t,o){if(Tx)return;Tx=!0;let n=e;try{let i=qn(n);ZS(n);let r=d1(n),a=p1(n,r),s=Um(n),c=iE(n,a);eb(n),n.addSystem(qw(n,a,t,o)),n.addSystem(Fw(n,i,a,s)),n.addSystem(Rw()),n.addSystem(Bw(r)),n.addSystem(Jw(n,i)),n.addSystem(jw(i)),n.addSystem(gx(n,a,c,t,o))}catch(i){console.error(`Error initializing Asset Packs: ${i.message}`)}}var ju=require("~system/EngineApi");function Sx(e){async function t(n){let i=await e.crdtSendToRenderer({data:new Uint8Array(n)});if(i&&i.data&&i.data.length&&o.onmessage)for(let r of i.data)o.onmessage(r)}let o={async send(n){try{await t(n)}catch(i){console.error(i);debugger}},filter(n){return n.componentId>i1?!1:!!n},type:"renderer"};return o}var vE=class{constructor(t,o=!1,n,i){this.initalize(t,o,n,i)}initalize(t,o=!1,n,i){return this.mask=t,this.skipNextObservers=o,this.target=n,this.currentTarget=i,this}},AE=class{constructor(t,o,n=null){this.callback=t,this.mask=o,this.scope=n,this.unregisterOnNextCall=!1,this._willBeUnregistered=!1}},or=class e{constructor(t){this._observers=new Array,this._onObserverAdded=null,this._eventState=new vE(0),t&&(this._onObserverAdded=t)}add(t,o=-1,n=!1,i=null,r=!1){if(!t)return null;let a=new AE(t,o,i);return a.unregisterOnNextCall=r,n?this._observers.unshift(a):this._observers.push(a),this._onObserverAdded&&this._onObserverAdded(a),a}addOnce(t){return this.add(t,void 0,void 0,void 0,!0)}remove(t){return t&&this._observers.indexOf(t)!==-1?(this._deferUnregister(t),!0):!1}removeCallback(t,o){for(let n=0;n<this._observers.length;n++)if(this._observers[n].callback===t&&(!o||o===this._observers[n].scope))return this._deferUnregister(this._observers[n]),!0;return!1}notifyObservers(t,o=-1,n,i){if(!this._observers.length)return!0;let r=this._eventState;r.mask=o,r.target=n,r.currentTarget=i,r.skipNextObservers=!1,r.lastReturnValue=t;for(let a of this._observers)if(!a._willBeUnregistered&&(a.mask&o&&(a.scope?r.lastReturnValue=a.callback.apply(a.scope,[t,r]):r.lastReturnValue=a.callback(t,r),a.unregisterOnNextCall&&this._deferUnregister(a)),r.skipNextObservers))return!1;return!0}notifyObserversWithPromise(t,o=-1,n,i){let r=Promise.resolve(t);if(!this._observers.length)return r;let a=this._eventState;return a.mask=o,a.target=n,a.currentTarget=i,a.skipNextObservers=!1,this._observers.forEach(s=>{a.skipNextObservers||s._willBeUnregistered||s.mask&o&&(s.scope?r=r.then(c=>(a.lastReturnValue=c,s.callback.apply(s.scope,[t,a]))):r=r.then(c=>(a.lastReturnValue=c,s.callback(t,a))),s.unregisterOnNextCall&&this._deferUnregister(s))}),r.then(()=>t)}notifyObserver(t,o,n=-1){let i=this._eventState;i.mask=n,i.skipNextObservers=!1,t.callback(o,i)}hasObservers(){return this._observers.length>0}clear(){this._observers=new Array,this._onObserverAdded=null}clone(){let t=new e;return t._observers=this._observers.slice(0),t}hasSpecificMask(t=-1){for(let o of this._observers)if(o.mask&t||o.mask===t)return!0;return!1}_deferUnregister(t){t.unregisterOnNextCall=!1,t._willBeUnregistered=!0,Promise.resolve().then.bind(Promise.resolve())(async()=>this._remove(t)).catch(console.error)}_remove(t){if(!t)return!1;let o=this._observers.indexOf(t);return o!==-1?(this._observers.splice(o,1),!0):!1}};var vx=require("~system/EngineApi");function si(e){return()=>{e==="comms"?(0,vx.subscribe)({eventId:e}).catch(console.error):D5?.subscribe(e)}}var O5=new or(si("onEnterScene"));var k5=new or(si("onLeaveScene"));var C5=new or(si("sceneStart")),M5=new or(si("playerExpression")),bJ=new or(si("videoEvent")),bx=new or(si("profileChanged")),P5=new or(si("playerConnected")),z5=new or(si("playerDisconnected")),U5=new or(si("onRealmChanged")),B5=new or(si("playerClicked")),L5=new or(si("comms"));async function Ax(e){let{events:t}=await e({actions:[]});for(let o of t)if(o.generic){let n=JSON.parse(o.generic.eventData);switch(o.generic.eventId){case"comms":{L5.notifyObservers(n);break}}}}var D5=F5();function F5(){let e=new Set;function t(g){if(!e.has(g)){switch(g){case"playerClicked":r();case"onEnterScene":case"playerConnected":o();case"onLeaveScene":case"playerDisconnected":n();case"onRealmChanged":i();case"playerExpression":a();case"profileChanged":s()}e.add(g)}}function o(){Vl.onEnterScene(g=>{e.has("onEnterScene")&&O5.notifyObservers({userId:g.userId}),e.has("playerConnected")&&P5.notifyObservers({userId:g.userId})})}function n(){Vl.onLeaveScene(g=>{e.has("onLeaveScene")&&k5.notifyObservers({userId:g}),e.has("playerDisconnected")&&z5.notifyObservers({userId:g})})}function i(){Ts.onChange(De.RootEntity,g=>{g&&U5.notifyObservers({domain:g.baseUrl,displayName:g.realmName,room:g.room??"",serverName:g.realmName})})}function r(){let g=new Set;De.addSystem(()=>{for(let[A]of De.getEntitiesWith(gs)){if(g.has(A))return;g.add(A),Bm.onChange(A,v=>{v?.hit&&B5.notifyObservers({userId:gs.getOrNull(A)?.address??"",ray:{direction:v.hit.direction,distance:v.hit.length,origin:v.hit.globalOrigin}})})}})}function a(){ES.onChange(De.PlayerEntity,g=>{M5.notifyObservers({expressionId:g?.emoteUrn??""})})}function s(){yS.onChange(De.PlayerEntity,()=>{d&&bx.notifyObservers({ethAddress:d,version:0})}),gS.onChange(De.PlayerEntity,()=>{d&&bx.notifyObservers({ethAddress:d,version:0})})}let c=!1,d;function h(){if(c&&d)return De.removeSystem(h);c||(c=!0,C5.notifyObservers({})),!d&&(d=gs.getOrNull(De.PlayerEntity)?.address)}return De.addSystem(h),{subscribe:t}}var wE={"assetsscenemain.composite":{version:1,components:[{name:"composite::root",jsonSchema:{type:"object",properties:{src:{type:"string",serializationType:"utf8-string"},entities:{type:"array",items:{type:"object",properties:{src:{type:"integer",serializationType:"entity"},dest:{type:"integer",serializationType:"entity"}},serializationType:"map"},serializationType:"array"}},serializationType:"map"},data:{}},{name:"core::Transform",jsonSchema:{type:"object",properties:{position:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"}}},scale:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"}}},rotation:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"},w:{type:"number"}}},parent:{type:"integer"}},serializationType:"transform"},data:{512:{json:{position:{x:-4.821429252624512,y:0,z:1.1538469791412354},scale:{x:.7142855525016785,y:3.3000001907348633,z:8.016815185546875},rotation:{x:0,y:0,z:0,w:1},parent:517}},513:{json:{position:{x:4.107144355773926,y:.1356848031282425,z:4.807692050933838},scale:{x:3.3069052696228027,y:10.866039276123047,z:.6967509388923645},rotation:{x:0,y:0,z:0,w:1},parent:517}},514:{json:{position:{x:4.694746017456055,y:1,z:4.543406009674072},scale:{x:.3571428954601288,y:.5,z:.7692307829856873},rotation:{x:0,y:0,z:0,w:1},parent:517}},515:{json:{position:{x:-2.027613878250122,y:7.5,z:4.419523239135742},scale:{x:4.642857551574707,y:4.400000095367432,z:.7692307829856873},rotation:{x:0,y:3033539996977197e-23,z:0,w:1},parent:517}},516:{json:{position:{x:-4.789999961853027,y:0,z:-4.039999961853027},scale:{x:3.559999942779541,y:10.979999542236328,z:.6499999761581421},rotation:{x:0,y:.7071067690849304,z:0,w:.7071067690849304},parent:517}},517:{json:{position:{x:7.5,y:0,z:8.5},scale:{x:1.3999998569488525,y:1,z:1.2999999523162842},rotation:{x:0,y:0,z:0,w:1},parent:0}},518:{json:{position:{x:-1.047979474067688,y:-17334509995138846e-39,z:4.805846214294434},scale:{x:7.500000953674316,y:3.1999995708465576,z:.682732880115509},rotation:{x:7491929656103442e-31,y:5678126155025942e-28,z:-3924975317204371e-21,w:1},parent:517}},519:{json:{position:{x:-4.821429252624512,y:5.185502052307129,z:2.046283721923828},scale:{x:.7142857909202576,y:5.847992420196533,z:5.409635066986084},rotation:{x:0,y:0,z:0,w:1},parent:517}},520:{json:{position:{x:-2.271171808242798,y:5.1821770668029785,z:4.807692527770996},scale:{x:5.857143402099609,y:5.800000190734863,z:.7692307829856873},rotation:{x:0,y:0,z:0,w:1},parent:517}},521:{json:{position:{x:1.4285718202590942,y:9.978045463562012,z:-4.038461685180664},scale:{x:8.785715103149414,y:1,z:3.230769157409668},rotation:{x:0,y:0,z:0,w:1},parent:517}},522:{json:{position:{x:13.75,y:11.5,z:3.25},scale:{x:.4999999403953552,y:.5,z:.4999999403953552},rotation:{x:0,y:-.3826834261417389,z:0,w:.9238795042037964},parent:0}},523:{json:{position:{x:4.0875725746154785,y:10,z:1.0076926946640015},scale:{x:3.1222686767578125,y:.9999998807907104,z:6.92307710647583},rotation:{x:2069313297103914e-26,y:36893095511914e-19,z:-4474709935919918e-24,w:1},parent:517}},524:{json:{position:{x:5.840000152587891,y:13.40999984741211,z:-.7699999809265137},scale:{x:8,y:10.5,z:2.140000104904175},rotation:{x:0,y:.7071067690849304,z:0,w:-.7071067690849304},parent:517}},525:{json:{position:{x:-1.964285969734192,y:10.020000457763672,z:2.123077154159546},scale:{x:5.7142863273620605,y:1,z:5.384615421295166},rotation:{x:0,y:0,z:0,w:1},parent:517}},526:{json:{position:{x:-4.821429252624512,y:7.75,z:-1.3461538553237915},scale:{x:.7142857909202576,y:3.200000047683716,z:2.307692289352417},rotation:{x:11789548557278314e-45,y:5293611283808963e-31,z:-33434537656648524e-31,w:1},parent:517}},527:{json:{position:{x:5.595126628875732,y:-4,z:4.80769157409668},scale:{x:2.642857551574707,y:1,z:2.769231081008911},rotation:{x:0,y:0,z:0,w:1},parent:517}},528:{json:{position:{x:7.75,y:0,z:15.5},scale:{x:1,y:11,z:14.5},rotation:{x:0,y:.7071067690849304,z:0,w:.7071067690849304},parent:0}},530:{json:{position:{x:15.449999809265137,y:13.317117691040039,z:7.480000019073486},scale:{x:5.5,y:4,z:.9999999403953552},rotation:{x:0,y:.7071067690849304,z:0,w:.7071067690849304},parent:0}}}},{name:"core-schema::Network-Entity",jsonSchema:{type:"object",properties:{networkId:{type:"integer",serializationType:"int64"},entityId:{type:"integer",serializationType:"entity"}},serializationType:"map"},data:{512:{json:{networkId:0,entityId:8001}},513:{json:{networkId:0,entityId:8002}},515:{json:{networkId:0,entityId:8003}},516:{json:{networkId:0,entityId:8004}},518:{json:{networkId:0,entityId:8005}},519:{json:{networkId:0,entityId:8006}},520:{json:{networkId:0,entityId:8007}},521:{json:{networkId:0,entityId:8008}},523:{json:{networkId:0,entityId:8009}},524:{json:{networkId:0,entityId:8010}},525:{json:{networkId:0,entityId:8011}},526:{json:{networkId:0,entityId:8012}},528:{json:{networkId:0,entityId:8013}},530:{json:{networkId:0,entityId:8014}}}},{name:"core::Animator",jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAnimator"},data:{0:{json:{states:[]}},514:{json:{states:[{clip:"Action",playing:!1,weight:1,speed:1,loop:!1,shouldReset:!1},{clip:"Main",playing:!1,weight:1,speed:1,loop:!1,shouldReset:!1}]}},522:{json:{states:[]}},527:{json:{states:[]}}}},{name:"core::GltfContainer",jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBGltfContainer"},data:{512:{json:{src:"assets/builder/invisible_wall/invisible_box.glb",visibleMeshesCollisionMask:2,invisibleMeshesCollisionMask:0}},513:{json:{src:"assets/builder/invisible_wall/invisible_box.glb",visibleMeshesCollisionMask:2,invisibleMeshesCollisionMask:0}},514:{json:{src:"assets/builder/twitter_button/twitter.glb",visibleMeshesCollisionMask:1,invisibleMeshesCollisionMask:2}},516:{json:{src:"assets/builder/invisible_wall/invisible_box.glb",visibleMeshesCollisionMask:2,invisibleMeshesCollisionMask:0}},517:{json:{src:"assets/scene/gamecube.glb",visibleMeshesCollisionMask:1,invisibleMeshesCollisionMask:2}},518:{json:{src:"assets/builder/invisible_wall/invisible_box.glb",visibleMeshesCollisionMask:2,invisibleMeshesCollisionMask:0}},519:{json:{src:"assets/builder/invisible_wall/invisible_box.glb",visibleMeshesCollisionMask:2,invisibleMeshesCollisionMask:0}},520:{json:{src:"assets/builder/invisible_wall/invisible_box.glb",visibleMeshesCollisionMask:2,invisibleMeshesCollisionMask:0}},521:{json:{src:"assets/builder/invisible_wall/invisible_box.glb",visibleMeshesCollisionMask:2,invisibleMeshesCollisionMask:0}},522:{json:{src:"assets/scene/qxg_drone.glb",visibleMeshesCollisionMask:1,invisibleMeshesCollisionMask:2}},523:{json:{src:"assets/builder/invisible_wall/invisible_box.glb",visibleMeshesCollisionMask:2,invisibleMeshesCollisionMask:0}},525:{json:{src:"assets/builder/invisible_wall/invisible_box.glb",visibleMeshesCollisionMask:2,invisibleMeshesCollisionMask:0}},526:{json:{src:"assets/builder/invisible_wall/invisible_box.glb",visibleMeshesCollisionMask:2,invisibleMeshesCollisionMask:0}},527:{json:{src:"assets/builder/roof_-_pink/PinkRoof.glb",visibleMeshesCollisionMask:1,invisibleMeshesCollisionMask:2}},528:{json:{src:"assets/builder/invisible_ramp/invisible_ramp.glb",visibleMeshesCollisionMask:2,invisibleMeshesCollisionMask:0}}}},{name:"core::Material",jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBMaterial"},data:{515:{json:{material:{$case:"pbr",pbr:{texture:{tex:{$case:"videoTexture",videoTexture:{videoPlayerEntity:515}}},metallic:0,roughness:1,specularIntensity:0}}}},530:{json:{material:{$case:"pbr",pbr:{texture:{tex:{$case:"videoTexture",videoTexture:{videoPlayerEntity:530}}},metallic:0,roughness:1,specularIntensity:0}}}}}},{name:"core::MeshCollider",jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBMeshCollider"},data:{515:{json:{collisionMask:1,mesh:{$case:"plane",plane:{}}}},530:{json:{collisionMask:1,mesh:{$case:"plane",plane:{}}}}}},{name:"core::MeshRenderer",jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBMeshRenderer"},data:{515:{json:{mesh:{$case:"plane",plane:{uvs:[]}}}},530:{json:{mesh:{$case:"plane",plane:{uvs:[]}}}}}},{name:"core-schema::Name",jsonSchema:{type:"object",properties:{value:{type:"string",serializationType:"utf8-string"}},serializationType:"map"},data:{512:{json:{value:"Invisible Wall_2"}},513:{json:{value:"Invisible Wall"}},514:{json:{value:"Twitter Button"}},515:{json:{value:"Video Player"}},516:{json:{value:"Invisible Wall_1"}},517:{json:{value:"gamecube.glb"}},518:{json:{value:"Invisible Wall_3"}},519:{json:{value:"Invisible Wall_4"}},520:{json:{value:"Invisible Wall_5"}},521:{json:{value:"Invisible Wall_6"}},522:{json:{value:"qxg_drone.glb"}},523:{json:{value:"Invisible Wall_7"}},524:{json:{value:"NFT"}},525:{json:{value:"Invisible Wall_8"}},526:{json:{value:"Invisible Wall_9"}},527:{json:{value:"Roof - Pink"}},528:{json:{value:"Invisible Ramp"}},530:{json:{value:"Video Player_1"}}}},{name:"core::NftShape",jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBNftShape"},data:{524:{json:{urn:"urn:decentraland:ethereum:erc721:0x495f947276749Ce646f68AC8c248420045cb7b5e:36799767948437563722724752114130599031379007840388533959029462316332345196545",style:1,color:{r:1,g:1,b:1}}}}},{name:"core::PointerEvents",jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBPointerEvents"},data:{515:{json:{pointerEvents:[{eventType:1,eventInfo:{button:0,hoverText:"SinfulMeatSticks Mew",maxDistance:10,showFeedback:!0}}]}},522:{json:{pointerEvents:[{eventType:1,eventInfo:{button:1,hoverText:"Collect Egg!!!",maxDistance:7,showFeedback:!0,showHighlight:!0}}]}},530:{json:{pointerEvents:[{eventType:1,eventInfo:{button:1,hoverText:"Play Video",maxDistance:10,showFeedback:!0}}]}}}},{name:"core-schema::Sync-Components",jsonSchema:{type:"object",properties:{componentIds:{type:"array",items:{type:"integer",serializationType:"int64"},serializationType:"array"}},serializationType:"map"},data:{512:{json:{componentIds:[1041]}},513:{json:{componentIds:[1041]}},515:{json:{componentIds:[1043]}},516:{json:{componentIds:[1041]}},518:{json:{componentIds:[1041]}},519:{json:{componentIds:[1041]}},520:{json:{componentIds:[1041]}},521:{json:{componentIds:[1041]}},523:{json:{componentIds:[1041]}},524:{json:{componentIds:[1040,1081]}},525:{json:{componentIds:[1041]}},526:{json:{componentIds:[1041]}},528:{json:{componentIds:[1041]}},530:{json:{componentIds:[1043]}}}},{name:"core::VideoPlayer",jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBVideoPlayer"},data:{515:{json:{src:"https://meow.dclstream.com/memfs/fe2bd770-c28e-49f2-bb62-8a5721bd1f27.m3u8",playing:!0,volume:1}},530:{json:{src:"https://meow.dclstream.com/memfs/fe2bd770-c28e-49f2-bb62-8a5721bd1f27.m3u8",playing:!0,volume:1}}}},{name:"core::VisibilityComponent",jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBVisibilityComponent"},data:{512:{json:{visible:!1}},513:{json:{visible:!1}},516:{json:{visible:!1}},518:{json:{visible:!1}},519:{json:{visible:!1}},520:{json:{visible:!1}},521:{json:{visible:!1}},523:{json:{visible:!1}},525:{json:{visible:!1}},526:{json:{visible:!1}},528:{json:{visible:!1}}}},{name:"inspector::Selection",jsonSchema:{type:"object",properties:{gizmo:{type:"integer",serializationType:"int32"}},serializationType:"map"},data:{0:{json:{gizmo:3}}}},{name:"inspector::SceneMetadata",jsonSchema:{type:"object",properties:{name:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",serializationType:"utf8-string"}},description:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",serializationType:"utf8-string"}},thumbnail:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",serializationType:"utf8-string"}},ageRating:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",enum:["T","A"],default:"T",serializationType:"enum-string",enumObject:{Teen:"T",Adult:"A"}}},categories:{type:"array",serializationType:"optional",optionalJsonSchema:{type:"array",items:{type:"string",enum:["art","game","casino","social","music","fashion","crypto","education","shop","business","sports"],default:"game",serializationType:"enum-string",enumObject:{ART:"art",GAME:"game",CASINO:"casino",SOCIAL:"social",MUSIC:"music",FASHION:"fashion",CRYPTO:"crypto",EDUCATION:"education",SHOP:"shop",BUSINESS:"business",SPORTS:"sports"}},serializationType:"array"}},author:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",serializationType:"utf8-string"}},email:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",serializationType:"utf8-string"}},tags:{type:"array",serializationType:"optional",optionalJsonSchema:{type:"array",items:{type:"string",serializationType:"utf8-string"},serializationType:"array"}},layout:{type:"object",properties:{base:{type:"object",properties:{x:{type:"integer",serializationType:"int32"},y:{type:"integer",serializationType:"int32"}},serializationType:"map"},parcels:{type:"array",items:{type:"object",properties:{x:{type:"integer",serializationType:"int32"},y:{type:"integer",serializationType:"int32"}},serializationType:"map"},serializationType:"array"}},serializationType:"map"},silenceVoiceChat:{type:"boolean",serializationType:"optional",optionalJsonSchema:{type:"boolean",serializationType:"boolean"}},disablePortableExperiences:{type:"boolean",serializationType:"optional",optionalJsonSchema:{type:"boolean",serializationType:"boolean"}},spawnPoints:{type:"array",serializationType:"optional",optionalJsonSchema:{type:"array",items:{type:"object",properties:{name:{type:"string",serializationType:"utf8-string"},default:{type:"boolean",serializationType:"optional",optionalJsonSchema:{type:"boolean",serializationType:"boolean"}},position:{type:"object",properties:{x:{type:"object",properties:{single:{type:"integer",serializationType:"int32"},range:{type:"array",items:{type:"integer",serializationType:"int32"},serializationType:"array"}},serializationType:"one-of"},y:{type:"object",properties:{single:{type:"integer",serializationType:"int32"},range:{type:"array",items:{type:"integer",serializationType:"int32"},serializationType:"array"}},serializationType:"one-of"},z:{type:"object",properties:{single:{type:"integer",serializationType:"int32"},range:{type:"array",items:{type:"integer",serializationType:"int32"},serializationType:"array"}},serializationType:"one-of"}},serializationType:"map"},cameraTarget:{type:"object",serializationType:"optional",optionalJsonSchema:{type:"object",properties:{x:{type:"integer",serializationType:"int32"},y:{type:"integer",serializationType:"int32"},z:{type:"integer",serializationType:"int32"}},serializationType:"map"}}},serializationType:"map"},serializationType:"array"}}},serializationType:"map"},data:{0:{json:{name:"Brandon's Plot",description:"BrandonManus.ETH owns this square and plans to make it dope",thumbnail:"assets/scene/a_profile_pic.png",ageRating:"T",categories:["social"],author:"Brandon",email:"",tags:[],layout:{parcels:[{x:-114,y:141}],base:{x:-114,y:141}},silenceVoiceChat:!1,disablePortableExperiences:!1,spawnPoints:[{name:"Spawn Point 1",default:!0,position:{x:{$case:"range",value:[0,3]},y:{$case:"range",value:[0,0]},z:{$case:"range",value:[0,3]}},cameraTarget:{x:8,y:1,z:8}}]}}}},{name:"inspector::Nodes",jsonSchema:{type:"object",properties:{value:{type:"array",items:{type:"object",properties:{entity:{type:"integer",serializationType:"entity"},open:{type:"boolean",serializationType:"optional",optionalJsonSchema:{type:"boolean",serializationType:"boolean"}},children:{type:"array",items:{type:"integer",serializationType:"entity"},serializationType:"array"}},serializationType:"map"},serializationType:"array"}},serializationType:"map"},data:{0:{json:{value:[{entity:512,open:!0,children:[514,529,530,523]},{entity:545,children:[]},{entity:546,children:[]},{entity:516,children:[]},{entity:525,children:[]},{entity:517,children:[]},{entity:514,children:[518,515,513,519,520,521,522,524,526,527,528,517,525,516]},{entity:515,children:[]},{entity:518,children:[]},{entity:513,children:[]},{entity:519,children:[]},{entity:520,children:[]},{entity:521,children:[]},{entity:522,children:[]},{entity:524,children:[]},{entity:526,children:[]},{entity:527,children:[]},{entity:528,children:[]},{entity:529,children:[]},{entity:530,children:[]},{entity:523,children:[]}]}}}},{name:"asset-packs::ActionTypes",jsonSchema:{type:"object",properties:{value:{type:"array",items:{type:"object",properties:{type:{type:"string",serializationType:"utf8-string"},jsonSchema:{type:"string",serializationType:"utf8-string"}},serializationType:"map"},serializationType:"array"}},serializationType:"map"},data:{0:{json:{value:[{type:"play_animation",jsonSchema:'{"type":"object","properties":{"animation":{"type":"string","serializationType":"utf8-string"},"loop":{"type":"boolean","serializationType":"optional","optionalJsonSchema":{"type":"boolean","serializationType":"boolean"}}},"serializationType":"map"}'},{type:"stop_animation",jsonSchema:'{"type":"object","properties":{},"serializationType":"map"}'},{type:"set_state",jsonSchema:'{"type":"object","properties":{"state":{"type":"string","serializationType":"utf8-string"}},"serializationType":"map"}'},{type:"start_tween",jsonSchema:'{"type":"object","properties":{"type":{"type":"string","enum":["move_item","rotate_item","scale_item"],"default":"move_item","serializationType":"enum-string","enumObject":{"MOVE_ITEM":"move_item","ROTATE_ITEM":"rotate_item","SCALE_ITEM":"scale_item"}},"end":{"type":"object","properties":{"x":{"type":"number"},"y":{"type":"number"},"z":{"type":"number"},"w":{"type":"number"}},"serializationType":"vector3"},"interpolationType":{"type":"string","enum":["linear","easeinquad","easeoutquad","easequad","easeinsine","easeoutsine","easeinoutsine","easeinexpo","easeoutexpo","easeinoutexpo","easeinelastic","easeoutelastic","easeinoutelastic","easeinbounce","easeoutbounce","easeinoutbounce"],"default":"linear","serializationType":"enum-string","enumObject":{"LINEAR":"linear","EASEINQUAD":"easeinquad","EASEOUTQUAD":"easeoutquad","EASEQUAD":"easequad","EASEINSINE":"easeinsine","EASEOUTSINE":"easeoutsine","EASESINE":"easeinoutsine","EASEINEXPO":"easeinexpo","EASEOUTEXPO":"easeoutexpo","EASEEXPO":"easeinoutexpo","EASEINELASTIC":"easeinelastic","EASEOUTELASTIC":"easeoutelastic","EASEELASTIC":"easeinoutelastic","EASEINBOUNCE":"easeinbounce","EASEOUTEBOUNCE":"easeoutbounce","EASEBOUNCE":"easeinoutbounce"}},"duration":{"type":"number","serializationType":"float32"},"relative":{"type":"boolean","serializationType":"boolean"}},"serializationType":"map"}'},{type:"set_counter",jsonSchema:'{"type":"object","properties":{"counter":{"type":"integer","serializationType":"int32"}},"serializationType":"map"}'},{type:"increment_counter",jsonSchema:'{"type":"object","properties":{"amount":{"type":"integer","serializationType":"optional","optionalJsonSchema":{"type":"integer","serializationType":"int32"}}},"serializationType":"map"}'},{type:"decrease_counter",jsonSchema:'{"type":"object","properties":{"amount":{"type":"integer","serializationType":"optional","optionalJsonSchema":{"type":"integer","serializationType":"int32"}}},"serializationType":"map"}'},{type:"play_sound",jsonSchema:'{"type":"object","properties":{"src":{"type":"string","serializationType":"utf8-string"},"loop":{"type":"boolean","serializationType":"optional","optionalJsonSchema":{"type":"boolean","serializationType":"boolean"}},"volume":{"type":"number","serializationType":"optional","optionalJsonSchema":{"type":"number","serializationType":"float32"}}},"serializationType":"map"}'},{type:"stop_sound",jsonSchema:'{"type":"object","properties":{},"serializationType":"map"}'},{type:"set_visibility",jsonSchema:'{"type":"object","properties":{"visible":{"type":"boolean","serializationType":"boolean"},"physicsCollider":{"type":"boolean","serializationType":"optional","optionalJsonSchema":{"type":"boolean","serializationType":"boolean"}},"collider":{"type":"integer","serializationType":"optional","optionalJsonSchema":{"type":"integer","enum":[0,1,2,4,8,16,32,64,128,256,512,1024,2048,4096,8192,16384,32768],"default":1,"serializationType":"enum-int","enumObject":{"0":"CL_NONE","1":"CL_POINTER","2":"CL_PHYSICS","4":"CL_RESERVED1","8":"CL_RESERVED2","16":"CL_RESERVED3","32":"CL_RESERVED4","64":"CL_RESERVED5","128":"CL_RESERVED6","256":"CL_CUSTOM1","512":"CL_CUSTOM2","1024":"CL_CUSTOM3","2048":"CL_CUSTOM4","4096":"CL_CUSTOM5","8192":"CL_CUSTOM6","16384":"CL_CUSTOM7","32768":"CL_CUSTOM8","CL_NONE":0,"CL_POINTER":1,"CL_PHYSICS":2,"CL_RESERVED1":4,"CL_RESERVED2":8,"CL_RESERVED3":16,"CL_RESERVED4":32,"CL_RESERVED5":64,"CL_RESERVED6":128,"CL_CUSTOM1":256,"CL_CUSTOM2":512,"CL_CUSTOM3":1024,"CL_CUSTOM4":2048,"CL_CUSTOM5":4096,"CL_CUSTOM6":8192,"CL_CUSTOM7":16384,"CL_CUSTOM8":32768}}}},"serializationType":"map"}'},{type:"attach_to_player",jsonSchema:'{"type":"object","properties":{"anchorPointId":{"type":"integer","serializationType":"int32"}},"serializationType":"map"}'},{type:"detach_from_player",jsonSchema:'{"type":"object","properties":{},"serializationType":"map"}'},{type:"play_video_stream",jsonSchema:'{"type":"object","properties":{"src":{"type":"string","serializationType":"optional","optionalJsonSchema":{"type":"string","serializationType":"utf8-string"}},"loop":{"type":"boolean","serializationType":"optional","optionalJsonSchema":{"type":"boolean","serializationType":"boolean"}},"volume":{"type":"number","serializationType":"optional","optionalJsonSchema":{"type":"number","serializationType":"float32"}},"dclCast":{"type":"boolean","serializationType":"optional","optionalJsonSchema":{"type":"boolean","serializationType":"boolean"}}},"serializationType":"map"}'},{type:"stop_video_stream",jsonSchema:'{"type":"object","properties":{},"serializationType":"map"}'},{type:"play_audio_stream",jsonSchema:'{"type":"object","properties":{"url":{"type":"string","serializationType":"utf8-string"},"volume":{"type":"number","serializationType":"optional","optionalJsonSchema":{"type":"number","serializationType":"float32"}}},"serializationType":"map"}'},{type:"stop_audio_stream",jsonSchema:'{"type":"object","properties":{},"serializationType":"map"}'},{type:"teleport_player",jsonSchema:'{"type":"object","properties":{"x":{"type":"integer","serializationType":"int32"},"y":{"type":"integer","serializationType":"int32"}},"serializationType":"map"}'},{type:"move_player",jsonSchema:'{"type":"object","properties":{"position":{"type":"object","properties":{"x":{"type":"number"},"y":{"type":"number"},"z":{"type":"number"},"w":{"type":"number"}},"serializationType":"vector3"},"cameraTarget":{"type":"object","serializationType":"optional","optionalJsonSchema":{"type":"object","properties":{"x":{"type":"number"},"y":{"type":"number"},"z":{"type":"number"},"w":{"type":"number"}},"serializationType":"vector3"}}},"serializationType":"map"}'},{type:"play_default_emote",jsonSchema:'{"type":"object","properties":{"emote":{"type":"string","serializationType":"utf8-string"}},"serializationType":"map"}'},{type:"play_custom_emote",jsonSchema:'{"type":"object","properties":{"src":{"type":"string","serializationType":"utf8-string"},"loop":{"type":"boolean","serializationType":"optional","optionalJsonSchema":{"type":"boolean","serializationType":"boolean"}}},"serializationType":"map"}'},{type:"open_link",jsonSchema:'{"type":"object","properties":{"url":{"type":"string","serializationType":"utf8-string"}},"serializationType":"map"}'},{type:"show_text",jsonSchema:'{"type":"object","properties":{"text":{"type":"string","serializationType":"utf8-string"},"hideAfterSeconds":{"type":"number","serializationType":"float32"},"font":{"type":"integer","enum":[0,1,2],"default":0,"serializationType":"enum-int","enumObject":{"0":"F_SANS_SERIF","1":"F_SERIF","2":"F_MONOSPACE","F_SANS_SERIF":0,"F_SERIF":1,"F_MONOSPACE":2}},"fontSize":{"type":"number","serializationType":"optional","optionalJsonSchema":{"type":"number","serializationType":"float32"}},"textAlign":{"type":"integer","enum":[0,1,2,3,4,5,6,7,8],"default":4,"serializationType":"enum-int","enumObject":{"0":"TAM_TOP_LEFT","1":"TAM_TOP_CENTER","2":"TAM_TOP_RIGHT","3":"TAM_MIDDLE_LEFT","4":"TAM_MIDDLE_CENTER","5":"TAM_MIDDLE_RIGHT","6":"TAM_BOTTOM_LEFT","7":"TAM_BOTTOM_CENTER","8":"TAM_BOTTOM_RIGHT","TAM_TOP_LEFT":0,"TAM_TOP_CENTER":1,"TAM_TOP_RIGHT":2,"TAM_MIDDLE_LEFT":3,"TAM_MIDDLE_CENTER":4,"TAM_MIDDLE_RIGHT":5,"TAM_BOTTOM_LEFT":6,"TAM_BOTTOM_CENTER":7,"TAM_BOTTOM_RIGHT":8}}},"serializationType":"map"}'},{type:"hide_text",jsonSchema:'{"type":"object","properties":{},"serializationType":"map"}'},{type:"start_delay",jsonSchema:'{"type":"object","properties":{"actions":{"type":"array","items":{"type":"string","serializationType":"utf8-string"},"serializationType":"array"},"timeout":{"type":"number","serializationType":"float32"}},"serializationType":"map"}'},{type:"stop_delay",jsonSchema:'{"type":"object","properties":{"action":{"type":"string","serializationType":"utf8-string"}},"serializationType":"map"}'},{type:"start_loop",jsonSchema:'{"type":"object","properties":{"actions":{"type":"array","items":{"type":"string","serializationType":"utf8-string"},"serializationType":"array"},"interval":{"type":"number","serializationType":"float32"}},"serializationType":"map"}'},{type:"stop_loop",jsonSchema:'{"type":"object","properties":{"action":{"type":"string","serializationType":"utf8-string"}},"serializationType":"map"}'},{type:"clone_entity",jsonSchema:'{"type":"object","properties":{"position":{"type":"object","properties":{"x":{"type":"number"},"y":{"type":"number"},"z":{"type":"number"},"w":{"type":"number"}},"serializationType":"vector3"}},"serializationType":"map"}'},{type:"remove_entity",jsonSchema:'{"type":"object","properties":{},"serializationType":"map"}'},{type:"show_image",jsonSchema:'{"type":"object","properties":{"src":{"type":"string","serializationType":"utf8-string"},"align":{"type":"integer","enum":[0,1,2,3,4,5,6,7,8],"default":4,"serializationType":"enum-int","enumObject":{"0":"TAM_TOP_LEFT","1":"TAM_TOP_CENTER","2":"TAM_TOP_RIGHT","3":"TAM_MIDDLE_LEFT","4":"TAM_MIDDLE_CENTER","5":"TAM_MIDDLE_RIGHT","6":"TAM_BOTTOM_LEFT","7":"TAM_BOTTOM_CENTER","8":"TAM_BOTTOM_RIGHT","TAM_TOP_LEFT":0,"TAM_TOP_CENTER":1,"TAM_TOP_RIGHT":2,"TAM_MIDDLE_LEFT":3,"TAM_MIDDLE_CENTER":4,"TAM_MIDDLE_RIGHT":5,"TAM_BOTTOM_LEFT":6,"TAM_BOTTOM_CENTER":7,"TAM_BOTTOM_RIGHT":8}},"height":{"type":"number","serializationType":"float32"},"width":{"type":"number","serializationType":"float32"},"hideAfterSeconds":{"type":"number","serializationType":"optional","optionalJsonSchema":{"type":"number","serializationType":"float32"}},"text":{"type":"string","serializationType":"optional","optionalJsonSchema":{"type":"string","serializationType":"utf8-string"}},"fontSize":{"type":"number","serializationType":"optional","optionalJsonSchema":{"type":"number","serializationType":"float32"}}},"serializationType":"map"}'},{type:"hide_image",jsonSchema:'{"type":"object","properties":{"imageEntity":{"type":"integer","serializationType":"optional","optionalJsonSchema":{"type":"integer","serializationType":"int32"}}},"serializationType":"map"}'},{type:"damage",jsonSchema:'{"type":"object","properties":{"radius":{"type":"number","serializationType":"float32"},"layer":{"type":"string","serializationType":"optional","optionalJsonSchema":{"type":"string","enum":["all","player","non_player"],"default":"all","serializationType":"enum-string","enumObject":{"ALL":"all","PLAYER":"player","NON_PLAYER":"non_player"}}},"hits":{"type":"integer","serializationType":"optional","optionalJsonSchema":{"type":"integer","serializationType":"int32"}}},"serializationType":"map"}'},{type:"move_player_here",jsonSchema:'{"type":"object","properties":{},"serializationType":"map"}'},{type:"place_on_player",jsonSchema:'{"type":"object","properties":{},"serializationType":"map"}'},{type:"rotate_as_player",jsonSchema:'{"type":"object","properties":{},"serializationType":"map"}'},{type:"place_on_camera",jsonSchema:'{"type":"object","properties":{},"serializationType":"map"}'},{type:"rotate_as_camera",jsonSchema:'{"type":"object","properties":{},"serializationType":"map"}'},{type:"set_position",jsonSchema:'{"type":"object","properties":{"x":{"type":"number","serializationType":"float32"},"y":{"type":"number","serializationType":"float32"},"z":{"type":"number","serializationType":"float32"},"relative":{"type":"boolean","serializationType":"optional","optionalJsonSchema":{"type":"boolean","serializationType":"boolean"}}},"serializationType":"map"}'},{type:"set_rotation",jsonSchema:'{"type":"object","properties":{"x":{"type":"number","serializationType":"float32"},"y":{"type":"number","serializationType":"float32"},"z":{"type":"number","serializationType":"float32"},"relative":{"type":"boolean","serializationType":"optional","optionalJsonSchema":{"type":"boolean","serializationType":"boolean"}}},"serializationType":"map"}'},{type:"set_scale",jsonSchema:'{"type":"object","properties":{"x":{"type":"number","serializationType":"float32"},"y":{"type":"number","serializationType":"float32"},"z":{"type":"number","serializationType":"float32"},"relative":{"type":"boolean","serializationType":"optional","optionalJsonSchema":{"type":"boolean","serializationType":"boolean"}}},"serializationType":"map"}'},{type:"follow_player",jsonSchema:'{"type":"object","properties":{"speed":{"type":"number","serializationType":"float32"},"x":{"type":"boolean","serializationType":"boolean"},"y":{"type":"boolean","serializationType":"boolean"},"z":{"type":"boolean","serializationType":"boolean"},"minDistance":{"type":"number","serializationType":"float32"}},"serializationType":"map"}'},{type:"stop_following_player",jsonSchema:'{"type":"object","properties":{},"serializationType":"map"}'},{type:"random",jsonSchema:'{"type":"object","properties":{"actions":{"type":"array","items":{"type":"string","serializationType":"utf8-string"},"serializationType":"array"}},"serializationType":"map"}'},{type:"batch",jsonSchema:'{"type":"object","properties":{"actions":{"type":"array","items":{"type":"string","serializationType":"utf8-string"},"serializationType":"array"}},"serializationType":"map"}'},{type:"heal_player",jsonSchema:'{"type":"object","properties":{"multiplier":{"type":"integer","serializationType":"int32"}},"serializationType":"map"}'},{type:"claim_airdrop",jsonSchema:'{"type":"object","properties":{},"serializationType":"map"}'}]}}}},{name:"asset-packs::Actions",jsonSchema:{type:"object",properties:{id:{type:"integer",serializationType:"int32"},value:{type:"array",items:{type:"object",properties:{name:{type:"string",serializationType:"utf8-string"},type:{type:"string",serializationType:"utf8-string"},jsonPayload:{type:"string",serializationType:"utf8-string"},allowedInBasicView:{type:"boolean",serializationType:"optional",optionalJsonSchema:{type:"boolean",serializationType:"boolean"}},basicViewId:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",serializationType:"utf8-string"}}},serializationType:"map"},serializationType:"array"}},serializationType:"map"},data:{514:{json:{id:3,value:[{name:"Open Link",type:"open_link",jsonPayload:'{"url":"https://x.com/brandon_manus"}'}]}},515:{json:{id:11,value:[{name:"Play",type:"set_state",jsonPayload:'{ "state": "Playing" }',allowedInBasicView:!0},{name:"Stop",type:"set_state",jsonPayload:'{ "state": "Stopped" }',allowedInBasicView:!0},{name:"Play Video Stream",type:"play_video_stream",jsonPayload:'{ "src": "https://player.vimeo.com/external/552481870.m3u8?s=c312c8533f97e808fccc92b0510b085c8122a875", "loop": "false", "volume": 1, "dclCast": false }'},{name:"Stop Video Stream",type:"stop_video_stream",jsonPayload:"{}"},{name:"Plays or Stop",type:"set_state",jsonPayload:'{ "state": "Toggle" }',allowedInBasicView:!0}]}},522:{json:{id:19,value:[{name:"Hide",type:"set_visibility",jsonPayload:'{"visible":false,"collider":0}'}]}},530:{json:{id:17,value:[{name:"Play",type:"set_state",jsonPayload:'{ "state": "Playing" }',allowedInBasicView:!0},{name:"Stop",type:"set_state",jsonPayload:'{ "state": "Stopped" }',allowedInBasicView:!0},{name:"Play Video Stream",type:"play_video_stream",jsonPayload:'{ "src": "https://player.vimeo.com/external/552481870.m3u8?s=c312c8533f97e808fccc92b0510b085c8122a875", "loop": "false", "volume": 1, "dclCast": false }'},{name:"Stop Video Stream",type:"stop_video_stream",jsonPayload:"{}"},{name:"Plays or Stop",type:"set_state",jsonPayload:'{ "state": "Toggle" }',allowedInBasicView:!0}]}}}},{name:"asset-packs::Counter",jsonSchema:{type:"object",properties:{id:{type:"number",serializationType:"float32"},value:{type:"integer",serializationType:"int32"}},serializationType:"map"},data:{0:{json:{id:0,value:19}}}},{name:"asset-packs::Triggers",jsonSchema:{type:"object",properties:{value:{type:"array",items:{type:"object",properties:{type:{type:"string",enum:["on_click","on_input_action","on_state_change","on_spawn","on_tween_end","on_counter_change","on_player_enters_area","on_player_leaves_area","on_delay","on_loop","on_clone","on_click_image","on_damage","on_global_click","on_global_primary","on_global_secondary","on_tick","on_heal_player","on_player_spawn"],default:"on_input_action",serializationType:"enum-string",enumObject:{ON_CLICK:"on_click",ON_INPUT_ACTION:"on_input_action",ON_STATE_CHANGE:"on_state_change",ON_SPAWN:"on_spawn",ON_TWEEN_END:"on_tween_end",ON_COUNTER_CHANGE:"on_counter_change",ON_PLAYER_ENTERS_AREA:"on_player_enters_area",ON_PLAYER_LEAVES_AREA:"on_player_leaves_area",ON_DELAY:"on_delay",ON_LOOP:"on_loop",ON_CLONE:"on_clone",ON_CLICK_IMAGE:"on_click_image",ON_DAMAGE:"on_damage",ON_GLOBAL_CLICK:"on_global_click",ON_GLOBAL_PRIMARY:"on_global_primary",ON_GLOBAL_SECONDARY:"on_global_secondary",ON_TICK:"on_tick",ON_HEAL_PLAYER:"on_heal_player",ON_PLAYER_SPAWN:"on_player_spawn"}},conditions:{type:"array",serializationType:"optional",optionalJsonSchema:{type:"array",items:{type:"object",properties:{id:{type:"integer",serializationType:"optional",optionalJsonSchema:{type:"integer",serializationType:"int32"}},type:{type:"string",enum:["when_state_is","when_state_is_not","when_counter_equals","when_counter_is_greater_than","when_counter_is_less_than","when_distance_to_player_less_than","when_distance_to_player_greater_than","when_previous_state_is","when_previous_state_is_not"],default:"when_state_is",serializationType:"enum-string",enumObject:{WHEN_STATE_IS:"when_state_is",WHEN_STATE_IS_NOT:"when_state_is_not",WHEN_COUNTER_EQUALS:"when_counter_equals",WHEN_COUNTER_IS_GREATER_THAN:"when_counter_is_greater_than",WHEN_COUNTER_IS_LESS_THAN:"when_counter_is_less_than",WHEN_DISTANCE_TO_PLAYER_LESS_THAN:"when_distance_to_player_less_than",WHEN_DISTANCE_TO_PLAYER_GREATER_THAN:"when_distance_to_player_greater_than",WHEN_PREVIOUS_STATE_IS:"when_previous_state_is",WHEN_PREVIOUS_STATE_IS_NOT:"when_previous_state_is_not"}},value:{type:"string",serializationType:"utf8-string"}},serializationType:"map"},serializationType:"array"}},operation:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",enum:["and","or"],default:"and",serializationType:"enum-string",enumObject:{AND:"and",OR:"or"}}},actions:{type:"array",items:{type:"object",properties:{id:{type:"integer",serializationType:"optional",optionalJsonSchema:{type:"integer",serializationType:"int32"}},name:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",serializationType:"utf8-string"}}},serializationType:"map"},serializationType:"array"},basicViewId:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",serializationType:"utf8-string"}}},serializationType:"map"},serializationType:"array"}},serializationType:"map"},data:{514:{json:{value:[{type:"on_click",conditions:[],actions:[{id:3,name:"Open Link"}]}]}},515:{json:{value:[{type:"on_input_action",conditions:[],actions:[{id:11,name:"Plays or Stop"}],basicViewId:"trigger-when-clicked"},{type:"on_state_change",conditions:[{id:12,type:"when_state_is",value:"Playing"}],actions:[{id:11,name:"Play Video Stream"}],basicViewId:"trigger-when-turned-on"},{type:"on_state_change",conditions:[{id:12,type:"when_state_is",value:"Stopped"}],actions:[{id:11,name:"Stop Video Stream"}],basicViewId:"trigger-when-turned-off"},{type:"on_state_change",conditions:[{id:12,type:"when_state_is",value:"Toggle"},{id:12,type:"when_previous_state_is",value:"Playing"}],operation:"and",actions:[{id:11,name:"Stop"}]},{type:"on_state_change",conditions:[{id:12,type:"when_state_is",value:"Toggle"},{id:12,type:"when_previous_state_is",value:"Stopped"}],operation:"and",actions:[{id:11,name:"Play"}]}]}},522:{json:{value:[{type:"on_input_action",conditions:[],operation:"and",actions:[{id:19,name:"Hide"}]}]}},530:{json:{value:[{type:"on_input_action",conditions:[],actions:[{id:17,name:"Plays or Stop"}],basicViewId:"trigger-when-clicked"},{type:"on_state_change",conditions:[{id:18,type:"when_state_is",value:"Playing"}],actions:[{id:17,name:"Play Video Stream"}],basicViewId:"trigger-when-turned-on"},{type:"on_state_change",conditions:[{id:18,type:"when_state_is",value:"Stopped"}],actions:[{id:17,name:"Stop Video Stream"}],basicViewId:"trigger-when-turned-off"},{type:"on_state_change",conditions:[{id:18,type:"when_state_is",value:"Toggle"},{id:18,type:"when_previous_state_is",value:"Playing"}],operation:"and",actions:[{id:17,name:"Stop"}]},{type:"on_state_change",conditions:[{id:18,type:"when_state_is",value:"Toggle"},{id:18,type:"when_previous_state_is",value:"Stopped"}],operation:"and",actions:[{id:17,name:"Play"}]}]}}}},{name:"asset-packs::States",jsonSchema:{type:"object",properties:{id:{type:"number",serializationType:"float32"},value:{type:"array",items:{type:"string",serializationType:"utf8-string"},serializationType:"array"},defaultValue:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",serializationType:"utf8-string"}},currentValue:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",serializationType:"utf8-string"}},previousValue:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",serializationType:"utf8-string"}}},serializationType:"map"},data:{515:{json:{id:12,value:["Playing","Stopped","Toggle"],defaultValue:"Stopped"}},530:{json:{id:18,value:["Playing","Stopped","Toggle"],defaultValue:"Stopped"}}}},{name:"inspector::TransformConfig",jsonSchema:{type:"object",properties:{porportionalScaling:{type:"boolean",serializationType:"optional",optionalJsonSchema:{type:"boolean",serializationType:"boolean"}}},serializationType:"map"},data:{512:{json:{}},513:{json:{}},514:{json:{}},515:{json:{}},516:{json:{}},517:{json:{}},518:{json:{}},519:{json:{}},520:{json:{}},521:{json:{}},522:{json:{}},523:{json:{}},524:{json:{}},525:{json:{}},526:{json:{}},527:{json:{}},528:{json:{}},530:{json:{}}}},{name:"inspector::Config",jsonSchema:{type:"object",properties:{isBasicViewEnabled:{type:"boolean",serializationType:"boolean"},componentName:{type:"string",serializationType:"utf8-string"},fields:{type:"array",items:{type:"object",properties:{name:{type:"string",serializationType:"utf8-string"},type:{type:"string",enum:["core::Animator","core::AudioSource","core::AudioStream","core::AvatarAttach","core::GltfContainer","core-schema::Network-Entity","core::Material","core::MeshCollider","core::MeshRenderer","core::NftShape","core::PointerEvents","core-schema::Sync-Components","core::TextShape","core::Transform","core::Tween","core::TweenSequence","core::VideoPlayer","core::VisibilityComponent","inspector::Selection","inspector::SceneMetadata","inspector::Nodes","asset-packs::ActionTypes","ActionTypes","asset-packs::Actions","Actions","asset-packs::Counter","Counter","asset-packs::CounterBar","CounterBar","asset-packs::Triggers","Triggers","asset-packs::States","States","inspector::TransformConfig","inspector::Hide","inspector::Lock","inspector::Config","inspector::Ground","inspector::Tile","inspector::CustomAsset","asset-packs::AdminTools","AdminTools","asset-packs::Rewards","Rewards"],default:"asset-packs::Actions",serializationType:"enum-string",enumObject:{ANIMATOR:"core::Animator",AUDIO_SOURCE:"core::AudioSource",AUDIO_STREAM:"core::AudioStream",AVATAR_ATTACH:"core::AvatarAttach",GLTF_CONTAINER:"core::GltfContainer",NETWORK_ENTITY:"core-schema::Network-Entity",MATERIAL:"core::Material",MESH_COLLIDER:"core::MeshCollider",MESH_RENDERER:"core::MeshRenderer",NFT_SHAPE:"core::NftShape",POINTER_EVENTS:"core::PointerEvents",SYNC_COMPONENTS:"core-schema::Sync-Components",TEXT_SHAPE:"core::TextShape",TRANSFORM:"core::Transform",TWEEN:"core::Tween",TWEEN_SEQUENCE:"core::TweenSequence",VIDEO_PLAYER:"core::VideoPlayer",VISIBILITY_COMPONENT:"core::VisibilityComponent",Selection:"inspector::Selection",Scene:"inspector::SceneMetadata",Nodes:"inspector::Nodes",ActionTypes:"asset-packs::ActionTypes","asset-packs::ActionTypes":"ActionTypes",Actions:"asset-packs::Actions","asset-packs::Actions":"Actions",Counter:"asset-packs::Counter","asset-packs::Counter":"Counter",CounterBar:"asset-packs::CounterBar","asset-packs::CounterBar":"CounterBar",Triggers:"asset-packs::Triggers","asset-packs::Triggers":"Triggers",States:"asset-packs::States","asset-packs::States":"States",TransformConfig:"inspector::TransformConfig",Hide:"inspector::Hide",Lock:"inspector::Lock",Config:"inspector::Config",Ground:"inspector::Ground",Tile:"inspector::Tile",CustomAsset:"inspector::CustomAsset",AdminTools:"asset-packs::AdminTools","asset-packs::AdminTools":"AdminTools",Rewards:"asset-packs::Rewards","asset-packs::Rewards":"Rewards"}},layout:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",serializationType:"utf8-string"}},basicViewId:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",serializationType:"utf8-string"}}},serializationType:"map"},serializationType:"array"},assetId:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",serializationType:"utf8-string"}}},serializationType:"map"},data:{515:{json:{isBasicViewEnabled:!0,componentName:"Video Player",fields:[{name:"Hover Text",type:"core::PointerEvents"},{name:"Video Player",type:"core::VideoPlayer"},{name:"When Clicked",type:"asset-packs::Triggers",basicViewId:"trigger-when-clicked"},{name:"When Turned On",type:"asset-packs::Triggers",basicViewId:"trigger-when-turned-on"},{name:"When Turned Off",type:"asset-packs::Triggers",basicViewId:"trigger-when-turned-off"}],assetId:"dc5ec17b-aa1a-4bd0-bace-7d615d9bdc70"}},524:{json:{isBasicViewEnabled:!0,componentName:"NFT Portrait",fields:[{name:"NFT Portrait",type:"core::NftShape"}],assetId:"dbffd66a-8c1f-4b34-bed4-c71ab5cb4024"}},530:{json:{isBasicViewEnabled:!0,componentName:"Video Player",fields:[{name:"Hover Text",type:"core::PointerEvents"},{name:"Video Player",type:"core::VideoPlayer"},{name:"When Clicked",type:"asset-packs::Triggers",basicViewId:"trigger-when-clicked"},{name:"When Turned On",type:"asset-packs::Triggers",basicViewId:"trigger-when-turned-on"},{name:"When Turned Off",type:"asset-packs::Triggers",basicViewId:"trigger-when-turned-off"}],assetId:"dc5ec17b-aa1a-4bd0-bace-7d615d9bdc70"}}}}]}};var E0=[],xE={getCompositeOrNull(e,t){let o=wE[e];if(o){try{if(o instanceof Uint8Array){let n=xa.fromBinary(o);E0.push({src:e,composite:n})}else if(typeof o=="string"){let n=xa.fromJson(JSON.parse(o));E0.push({src:e,composite:n})}else if(typeof o=="object"){let n=xa.fromJson(o);E0.push({src:e,composite:n})}}catch(n){console.error(n)}delete wE[e]}return E0.find(n=>n.src===e)||null}};var g0=Sx({crdtSendToRenderer:ju.crdtSendToRenderer});De.addTransport(g0);async function j5(e){De.seal(),await De.update(e),await Ax(ju.sendBatch)}async function W5(){let e=await(0,ju.crdtGetState)({data:new Uint8Array});if(!e.hasEntities){let t=xE.getCompositeOrNull("main.composite");if(t)try{xa.instance(De,t,xE)}catch(o){console.log("Warning: main.composite couldn't be instanced."),console.error(o)}}if(g0.onmessage&&e&&e.data&&e.data.length)for(let t of e.data)g0.onmessage(t)}_x(De,{syncEntity:MA},Vl);if(Gh!==void 0){let e=function(){try{let t=Gh();t&&typeof t=="object"&&typeof t.then=="function"&&t.catch(console.error)}catch(t){console.error(t)}finally{De.removeSystem(e)}};De.addSystem(e,1/0)}
/*! Bundled license information:

react/cjs/react.production.min.js:
  (**
   * @license React
   * react.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.min.js:
  (**
   * @license React
   * scheduler.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-reconciler/cjs/react-reconciler.production.min.js:
  (**
   * @license React
   * react-reconciler.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

long/index.js:
  (**
   * @license
   * Copyright 2009 The Closure Library Authors
   * Copyright 2020 Daniel Wirtz / The long.js Authors.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *     http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *
   * SPDX-License-Identifier: Apache-2.0
   *)

lsc-questing-dcl/dist/index.js:
  (**
   * @license
   * Copyright 2009 The Closure Library Authors
   * Copyright 2020 Daniel Wirtz / The long.js Authors.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *     http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *
   * SPDX-License-Identifier: Apache-2.0
   *)
*/
